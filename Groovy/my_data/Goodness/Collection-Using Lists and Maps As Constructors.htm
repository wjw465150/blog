<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="zh-cn">
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Collection-Using Lists and Maps As Constructors</title>
</head>
<body>
<div id="body_content"
 style="border: 0px none ; margin: 0px; padding: 0px; background: rgb(255, 255, 255) none repeat scroll 0%; color: rgb(0, 0, 0); font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: 300; letter-spacing: normal; line-height: 28px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -moz-background-clip: initial; -moz-background-origin: initial; -moz-background-inline-policy: initial;">
<div id="main_content"
 style="border: 0px none ; margin: 0px; padding: 0px;">
<div class="main section" id="main"
 style="border: 0px none ; margin: 0px; padding: 0px;">
<div class="widget Blog" id="Blog1"
 style="border: 0px none ; margin: 0px; padding: 0px;">
<div class="blog-posts hfeed"
 style="border: 0px none ; margin: 0px; padding: 0px;">
<div class="post hentry"
 style="border: 0px none ; margin: 0px 0px 40px; padding: 0px;">
<h3 class="post-title entry-title"
 style="border: 0px none ; margin: 0px 0px 16px; padding: 0px; font-weight: lighter; font-size: 26px; line-height: 26px; font-family: 'Helvetica Neue UltraLight','Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,sans-serif;">Groovy
Goodness: Using Lists and Maps As Constructors</h3>
<div class="post-header-line-1"
 style="border: 0px none ; margin: 0px; padding: 0px;"></div>
<div class="post-body entry-content"
 style="border: 0px none ; margin: 0px; padding: 0px;">
<p style="border: 0px none ; margin: 0px 0px 20px; padding: 0px;">Constructors
in Groovy can be invoked in a classic Java way, but we can also use
lists or maps to create objects. Groovy supports an explicit coersion
of a list to a constructor with the<span class="Apple-converted-space">&nbsp;</span><code
 style="border: 1px solid rgb(212, 217, 217); margin: 0px; padding: 1px 4px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 0.9375em; line-height: 24px; font-family: Menlo,Monaco,'Liberation Mono',Consolas,monospace; color: rgb(59, 59, 59); white-space: nowrap; text-shadow: none; background-color: rgb(239, 241, 241);">as</code><span
 class="Apple-converted-space">&nbsp;</span>keyword. Or we can rely on
the implicit coersion when Groovy looks at the type of the variable to
automatically convert the list to the right constructor call.</p>
<pre class="brush:groovy"
 style="border: 0px none ; margin: 0px; padding: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 16px; line-height: 24px; font-family: Menlo,Monaco,'Liberation Mono',Consolas,monospace;">// Default constructor invocation:<br>def url1 = new URL('http', 'www.mrhaki.com', 80, '/')<br>assert 'http' == url1.protocol<br>assert 'www.mrhaki.com' == url1.host<br>assert 80 == url1.port<br>assert '/' == url1.file<br>assert '/' == url1.path<br><br>// Explicit coersion with as keyword:<br>def url2 = ['http', 'www.mrhaki.com', 80, '/'] as URL<br>assert 'http' == url1.protocol<br>assert 'www.mrhaki.com' == url2.host<br>assert 80 == url2.port<br>assert '/' == url2.file<br>assert '/' == url2.path<br><br>// Implicit coersion by type of variable:<br>URL url3 = ['http', 'www.mrhaki.com', 80, '/'] <br>assert 'http' == url3.protocol<br>assert 'www.mrhaki.com' == url3.host<br>assert 80 == url3.port<br>assert '/' == url3.file<br>assert '/' == url3.path    <br></pre>
<p style="border: 0px none ; margin: 0px 0px 20px; padding: 0px;">When
we use<span class="Apple-converted-space">&nbsp;</span><a
 href="http://mrhaki.blogspot.com/2009/08/groovy-goodness-groovybeans-simpler.html"
 style="border: 0px none ; margin: 0px; padding: 0px; color: rgb(51, 51, 51);">GroovyBeans</a><span
 class="Apple-converted-space">&nbsp;</span>syntax we can use a map
with named parameter to invoke the constructor. But we can also use the
explicit and implicit coersions Groovy provides.</p>
<pre class="brush:groovy"
 style="border: 0px none ; margin: 0px; padding: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 16px; line-height: 24px; font-family: Menlo,Monaco,'Liberation Mono',Consolas,monospace;">// GroovyBean: Groovy creates a constructor<br>// that takes a map as parameter.<br>class Sample {<br>    Integer age <br>    String name<br>}<br><br>def s1 = new Sample([age: 36, name: 'mrhaki'])<br>assert 36 == s1.age<br>assert 'mrhaki' == s1.name<br><br>// Explicit coersion with as keyword:<br>def s2 = [age: 36, name: 'mrhaki'] as Sample<br>assert 36 == s2.age<br>assert 'mrhaki' == s2.name<br><br>// Implicit coersion (by type of variable):<br>Sample s3 = [age: 36, name: 'mrhaki']<br>assert 36 == s3.age<br>assert 'mrhaki' == s3.name<br></pre>
<p style="border: 0px none ; margin: 0px 0px 20px; padding: 0px;"></p>
<div style="border: 0px none ; margin: 0px; padding: 0px; clear: both;"></div>
</div>
</div>
</div>
<div class="clear"
 style="border: 0px none ; margin: 0px; padding: 0px; clear: both;"></div>
</div>
</div>
</div>
</div>
<iframe name="oauth2relay379026264" id="oauth2relay379026264"
 src="about:blank" tabindex="-1"
 style="border: 0px none ; margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: 300; letter-spacing: normal; line-height: 28px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><br
 class="Apple-interchange-newline">
</body>
</html>
