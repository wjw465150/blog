<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


  <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN"><!-- Source is http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>即时编译和打包您的 Groovy 脚本</title>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>
<link rel="schema.DC" href="http://purl.org/DC/elements/1.0/"/>
<link rel="SHORTCUT ICON" href="http://www.ibm.com/favicon.ico"/>
  <meta name="Owner" content="dw@cn.ibm.com"/>
  <meta name="DC.Language" scheme="rfc1766" content="zh-CN"/>
  <meta name="IBM.Country" content="CN"/>
<meta name="Security" content="Public"/>
<meta name="IBM.SpecialPurpose" content="SP001"/>
<meta name="IBM.PageAttributes" content="sid=1003,1004"/>
<meta name="Source" content="v16 Template Generator"/>
<meta name="Robots" content="index,follow"/>
<meta name="Abstract" content="本文将介绍如何制作一个小工具让您的 Groovy 脚本能够在没有安装 Groovy 的环境下也能被即时编译和打包成为可执行的 Jar，并通过此过程介绍 Groovy 中的一些有趣的特性。"/>
<meta name="Description" content="本文将介绍如何制作一个小工具让您的 Groovy 脚本能够在没有安装 Groovy 的环境下也能被即时编译和打包成为可执行的 Jar，并通过此过程介绍 Groovy 中的一些有趣的特性。"/>
<meta name="Keywords" content="Groovy,打包,编译,脚本,, tttjca"/>
<meta name="DC.Date" scheme="iso8601" content="2012-11-15"/>
<meta name="DC.Type" scheme="IBM_ContentClassTaxonomy" content="CT316"/>
<meta name="DC.Subject" scheme="IBM_SubjectTaxonomy" content="TT300"/>
<meta scheme="IBM_WTMCategory" name="IBM.WTMCategory" content="SOFDCJVACN" />
<meta name="DC.Rights" content="© Copyright IBM Corporation 2012"/>
<meta name="IBM.Effective" scheme="W3CDTF" content="2012-11-15"/>
<meta name="title" content="即时编译和打包您的 Groovy 脚本"/>

<!-- HEADER_SCRIPTS_AND_CSS_INCLUDE -->
<link href="index_files/all.css" media="all" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/screen.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/screen-uas.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/screen-fonts.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/handheld.css" media="handheld" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/print.css" media="print" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/overlay.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>

<!-- dW-specific CSS -->
<link href="index_files/dw-screen.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/dw-local-site.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/dw-screen-comments-ratings-signin.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/jquery.cluetip.css" media="screen,projection" rel="stylesheet"  title="www" type="text/css" />

<!-- JPP: LOCAL URL FOR TESTING V16 DEFIANT MASTHEAD/FOOTER -->
<link href="index_files/dw-mf2012-01.css" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/dw-mf-cn.css" rel="stylesheet" title="www" type="text/css"/>
<script src="index_files/ibmcommon.js" type="text/javascript">//</script>
<script src="index_files/dynamicnav.js" type="text/javascript">//</script>
<script language="JavaScript" src="index_files/urltactic.js" type="text/javascript"></script>
<!-- Rating_START -->
<script language="JavaScript" type="text/javascript">
  // <![CDATA[

 dwr = {};
  dwr.clickhere = '点击评分';
  dwr.starIntro = ''; 
  dwr.stars = '星';
  dwr.star = '星'; 
  dwr.avgRatingOf = '平均分';
  dwr.youRated = '您的评分是';
  dwr.avgRating = '平均分';
  dwr.basedOnVote = '共 {1} 个评分'; // {1} to be substitue by code
  dwr.basedOnVotes = '共 {1} 个评分';
  dwr.leftParen = '（'; 
  dwr.rightParen = ' ）'; 
  dwr.space = ' '; 
  dwr.yourRating = '您的评分';
dwr.avgRating2 = '总共 {1} 评分的平均分';
dwr.avgRating3 = '平均分{1} 星';
dwr.rateThisArticle = '为本文评分';
dwr.votes = '{1}个评分';
dwr.vote = '{1}个评分';
dwr.submitErr = '错误：提交失败，请重试。';
dwr.noRatingErr = '错误：请选择一个评分并重新提交。';
dwr.submit = '提交';
// ]]>
</script>

<!-- Rating_START -->
<script language="JavaScript" src="index_files/showrating.js" type="text/javascript"></script>
<style type="text/css">
  .metavalue {
  display: none;
  }
</style>
<!-- Rating_END --><!-- RESERVED_HEADER_INCLUDE -->
<script language="javascript" src="index_files/ajax1.js" type="text/javascript"></script>
<script language="javascript" src="index_files/search_counter-maverick.js" type="text/javascript"></script>
<script language="javascript" src="index_files/request_referer_capture-maverick.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
 <!--
 setDefaultQuery('dwchina');
 //-->
</script>
<script language="JavaScript" type="text/javascript">
 <!--
 function openNewWindow(url,tar,arg){window.open(url,tar,arg);}
 //-->
</script>
  <!-- Include file support -->
  <script language="JavaScript" type="text/javascript">
    (function($) {
    jQuery.extend({
    getInc: function(u,d){
    if(u==null)return;
    jQuery.ajax({
    type: "GET",
    url: u,
    dataType: "text",
    success: function(t) {
    jQuery(d).html(t);
    ibmCommon.initShowHide(jQuery(d).children()[0]);	
    },
    async: true
    });
    }
    });
    })(jQuery);
  </script>
</head>

<body id="ibm-com">
<div id="ibm-top" class="ibm-landing-page">

<!-- MASTHEAD_BEGIN -->
<!-- MASTHEAD_BEGIN -->
<div class="ibm-access"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#ibm-content">跳转到主要内容</a></div>
<div id="ibm-masthead-dw">
  
    <!-- TOP ROW -->    
    <div id="dw-masthead-top-row">
    	<ul id="ibm-mast-options-dw" class="cn">
    		<li id="dw-mast-top-0"> 	
    			<a class="dw-mf-noscript" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" title="登录（或注册）需启用 JavaScript">登录 (或注册)</a>
    		</li>
    		<li id="dw-mast-top-1" class="dw-mast-top-1-cn">
    			<a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#SELECTLANG">中文</a><img class="dw-preload" src="index_files/arrow-down-active.gif" width="8" height="7" alt="" />
    		</li>
    		<li id="dw-mast-top-2" class="dw-mf-hide">
    			<a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/photo.do" alt="PHOTO" class="dw-mast-profimg" width="20" height="20"/> [userid]</a>
    		</li>
    		<li id="dw-mast-top-3">
    			<a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/ibm-smlogo.gif" width="44" height="16" alt="IBM®" /></a>
    		</li>
    	</ul>
	</div>
    
    <!-- TOP ROW SLIDER -->
    <div id="ibm-my-menu-dw">    
        <div class="ibm-ribbon-pane-dw">
            <div class="ibm-ribbon-section-dw">
                <!-- Sign-in -->
                <div class="dw-mast-columns">                
					<div class="dw-mast-col-1-1">
						<div id="dw-mast-sso">
							<!--<div id="dw-mast-sso-reg">
								<p class="dw-mast-sso-reg-cn">如果您还没有注册到 IBM 注册系统，我们为给您带来的不便表示道歉，并请您马上注册。 							
									<a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="(function () {window.location='/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh&amp;d='+encodeURIComponent(location.href);})();">现在注册</a>。</p>
							</div>-->
							<div id="signin_error_mf" class="dw-mf-hide"></div>
							<div id="dw-mast-sso-form">
								<form id="sForm_mf" action="" method="post" name="sForm_name_mf" onsubmit="return false;">
									<div id="dw-mast-sso-id" class="dw-mast-sso-id-cn">
										<label for="ibmid_mf">IBM ID：</label>
										<input id="ibmid_mf" type="text" value="" name="ibmid_name_mf" maxlength="100" onkeypress="handleEP(event,this.form,'mf');"/>
									</div>
									<div id="dw-mast-sso-pw" class="dw-mast-sso-pw-cn">
										<label for="pw_mf">密码：</label>
										<input id="pw_mf" type="password" value="" name="pw_name_mf" maxlength="100" onkeypress="handleEP(event,this.form,'mf');"/>
									</div>
									<div id="dw-mast-sso-target" class="dw-mast-sso-target-cn">
										<p class="dw-mf-perm-box">
											<input id="perm_mf" type="checkbox" name="perm_name_mf"/><label for="perm_mf"> 保持登录。</label>
										</p>
									</div>
									<div id="dw-mast-sso-terms">
										<p class="dw-mast-sso-terms-cn">单击提交则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/mydeveloperworks/terms?lang=zh">查看条款和条件</a>.</p>
									</div>
									<div>
										<input class="dw-mf-submit-btn-cn" name="ibm_submit_name_mf" value="提交" onclick="signin('mf');return false;" type="submit" />
									</div>
								</form>
							</div>
							<div id="dw-mast-sso-update">
								<div id="dw-mast-sso-update-id">
									<ul>
										<li><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="(function () {window.location='/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh_CN&amp;d='+encodeURIComponent(location.href);})();">需要一个 IBM ID？</a></li>
										
									<li><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/dwwi/jsp/WSHelp.jsp?lang=zh_CN">忘记 IBM ID？</a></li>
									</ul>
								</div>
								<div id="dw-mast-sso-update-pw">
								<ul class="dw-mf-pwupdate">
									<li><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="(function () {window.location='https://www.ibm.com/account/profile?page=forgot&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d='+encodeURIComponent(getAuthUrl())+'%3Fm%3Dloginpage%26lang%3Dzh_CN%26d%3D'+encodeURIComponent(location.href);})();">忘记密码？</a></li>
									<li><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="(function () {window.location='https://www.ibm.com/account/profile?page=chpw&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d='+encodeURIComponent(location.href);})();">更改您的密码</a></li>
								</ul>
									</div>
							</div>
							<div id="dw-mast-sso-text">
								<p>当您初次登录到 developerWorks 时，将会为您创建一份概要信息。<strong>您在 developerWorks 概要信息中选择公开的信息将公开显示给其他人，但您可以随时修改这些信息的显示状态。</strong>您的姓名（除非选择隐藏）和昵称将和您在 developerWorks 发布的内容一同显示。</p>
								<p class="dw-mf-secure-cn">所有提交的信息确保安全。</p>
							</div>
							<div class="dw-mast-close">
								<ul>
									<li><div class="dw-mast-close-sign-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
								</ul>
							</div>	
						</div>
						
						<div id="dw-mast-dname" class="dw-mf-hide">
							<p>当您初次登录到 developerWorks 时，将会为您创建一份概要信息，您需要指定一个昵称。您的昵称将和您在 developerWorks 发布的内容显示在一起。</p><p><strong>昵称长度在 3 至 31 个字符之间</strong>。 您的昵称在 developerWorks 社区中必须是唯一的，并且出于隐私保护的原因，不能是您的电子邮件地址。</p>
							<div id="signin_dname_error_mf" class="dw-mf-hide"></div>
							<div id="dw-mast-dname-form">
								<form id="dForm_mf" action="" method="post" name="dForm_name_mf" onsubmit="return false;">
									<div id="dw-mast-dname-mf">
										<label for="dname_mf">昵称：</label>
										<input id="dname_mf" name="dname_name_mf" maxlength="31" size="25" value="" type="text" onkeypress="handleEP(event,this.form,'mf');" />
									</div>
									<div id="dw-mast-dname-terms">
										<p class="dw-mast-dname-terms-cn">单击<strong>提交</strong>则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/mydeveloperworks/terms?lang=zh">查看条款和条件</a>.</p>
									</div>
									<div>
										<input class="dw-mf-submit-btn-cn" name="dname_submit_name_mf" value="提交" onclick="signin('mf');return false;" type="submit" />
									</div>
								</form>								
							</div>
							<div id="dw-mast-dname-secure">
								<p class="dw-mf-secure-cn">所有提交的信息确保安全。</p>
							</div>
							<div class="dw-mast-close">
								<ul>
									<li><div class="dw-mast-close-sign-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
								</ul>
							</div>	
						</div>
	
						<div id="dw-mast-auth" class="dw-mf-hide">
							<div>

								<h2>My developerWorks:</h2>
								<ul>
									<li><a id="dw-mast-top-0-0" href="http://www.ibm.com/developerworks/mydeveloperworks/profiles/html/myProfileView.do?lang=zh">我的概要信息</a></li>
									<li><a href="http://www.ibm.com/developerworks/mydeveloperworks/homepage?lang=zh">我的首页</a></li>
									<li><a href="http://www.ibm.com/developerworks/mydeveloperworks/groups/service/html/mycommunities?lang=zh">我的群组</a></li>
								</ul>     
							</div>
							<div id="dw-mast-notify" class="dw-mf-hide">
								<h2>我的通知：</h2>
								<ul>
									<li><a id="new_notify" href="http://www.ibm.com/developerworks/mydeveloperworks/homepage?lang=zh">{[num_notify] 个新通知}([num_notify] 个新通知)</a></li>
									<li><a id="new_invite" href="http://www.ibm.com/developerworks/mydeveloperworks/profiles/html/wc.do?action=in&requireAuth=true&widgetId=friends&lang=[lang]">{[num_invite] 个网络请求}([num_invite] 个网络请求)</a></li>  
								</ul>
							</div>
							<div class="dw-mast-more">
								<ul class="ibm-link-list">
									<li><a class="dw-more-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="signOut(); return false;"><strong>退出</strong></a></li>
								</ul>
							</div>
							<div class="dw-mast-close">
								<ul>
									<li><div class="dw-mast-close-sign"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
								</ul>
							</div>		
						</div>
						
					</div>
                	
                </div>
                <!-- Site selector --> 
				<div class="dw-mast-columns">
					<div class="dw-mast-col-2-1">
						<h2>选择语言：</h2>
						<ul>
							<li><a id="dw-mast-top-1-0" href="http://www.ibm.com/developerworks/">English</a></li>
							<li><a href="http://www.ibm.com/developerworks/cn/">中文</a></li>
							<li><a href="http://www.ibm.com/developerworks/jp/">日本語</a></li>
						    <li><a href="http://www.ibm.com/developerworks/ru/">Русский</a></li>
						</ul>
					</div>
					<div class="dw-mast-col-2-2">
						<ul>
							<li><a href="http://www.ibm.com/developerworks/br/">Português (Brasil)</a></li>
							<li><a href="http://www.ibm.com/developerworks/ssa/">Español</a></li>
							<li><a href="http://www.ibm.com/developerworks/vn/">Việt</a></li>
						</ul>
					</div>
					<div class="dw-mast-close">
						<ul>
							<li><div class="dw-mast-close-lang"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
						</ul>
                    </div>
                </div>
                <div class="dw-mast-columns"><!-- Authenticated --></div>
                <!-- IBM -->
				<div class="dw-mast-columns">
					<div class="dw-mast-col-2-1">
						<ul>
							<li><a id="dw-mast-top-3-0" href="http://www.ibm.com/cn/zh/">IBM 主页</a></li>
							<li><a href="http://www.ibm.com/solutions/cn/zh/">解决方案</a></li>
							<li><a href="http://www.ibm.com/software/cn/">软件</a></li>
						</ul>
					</div>
					<div class="dw-mast-col-2-2 dw-mast-ibm">
						<ul>
							<li><a href="http://www.ibm.com/support/cn/zh/">支持门户</a></li>
							<li><a href="http://www.ibm.com/support/documentation/cn/zh/">产品文档</a></li>
							<li><a href="http://www.ibm.com/redbooks/">Redbooks（英文）</a></li>
						</ul>
					</div>
					<div class="dw-mast-close">
						<ul>
							<li><div class="dw-mast-close-ibm-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
						</ul>
                    </div> 
				</div>
			</div>
        </div>
    </div>

    <!-- BOTTOM ROW -->
    <div id="ibm-universal-nav-dw">
        <ul id="ibm-unav-links-dw">
        	<li id="ibm-unav-home-dwlogo">
        		<a href="http://www.ibm.com/developerworks/cn/"><img src="index_files/dw-wordmark.gif" width="218" height="32" alt="developerWorks®" /></a>
        	</li>
        </ul>
    	<ul id="ibm-menu-links-dw" class="ibm-menu-links-dw-cn">
    		
    		<li id="dw-mast-nav-0"><a href="http://www.ibm.com/developerworks/cn/topics">技术主题</a></li>
    		<li id="dw-mast-nav-1"><a
    			href="http://www.ibm.com/developerworks/cn/downloads/">软件下载</a></li>
    		<li id="dw-mast-nav-2"><a
    			href="https://www.ibm.com/developerworks/community/?lang=zh">社区</a></li>
    		<li id="dw-mast-nav-3"><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&amp;lang=zh">技术讲座</a></li>
    	</ul>   
    	<form id="ibm-search-form" action="//www.ibm.com/search/csass/search/" method="get" name="form1">
    		<input type="hidden" name="sn" value="dw" />
    		<input type="hidden" name="lang" value="zh" />
    		<input type="hidden" name="cc" value="CN" />
    		<input type="hidden" name="en" value="utf" />
    		<input type="hidden" name="hpp" value="20" />
    		<input type="hidden" name="dws" value="cndw" />
    		<input type="hidden" name="lo" value="zh" />
    		<p>
    			<label for="q"><img alt="查询:" height="1" width="1" src="index_files/c-1.gif" /></label>
    			<input type="text" value="搜索 developerWorks" name="q" maxlength="100" id="q"/>
    			<input type="submit" id="ibm-search" class="ibm-btn-search ibm-btn-search-cn" name="Search" value="搜索" />
    		</p>
    	</form>
    </div>
    
    <!-- BOTTOM ROW SLIDER -->
    <div id="ibm-common-menu-dw">
        <div class="ibm-ribbon-pane-dw">
            <div class="ibm-ribbon-section-dw">
				<!-- Technical topics category -->
  
            	<div class="dw-mast-columns">
            	<div class="dw-mast-col-5-1">
            		<h2><a id="dw-mast-nav-0-0" href="http://www.ibm.com/developerworks/cn/topics/">技术主题</a></h2>
            		
            		<ul>
            		    <li><a href="http://www.ibm.com/developerworks/cn/agile/">Agile
            			    transformation</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/aix/">AIX and UNIX</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/bigdata/">Big data</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/cloud/">Cloud computing</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/ibmi/">IBM i</a></li>
            			
            		</ul>     
            	</div>
            	<div class="dw-mast-col-5-2">
            		
            		<ul>
            		    <li><a href="http://www.ibm.com/developerworks/cn/data/">Information management</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/java/">Java technology</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/linux/">Linux</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/lotus/">Lotus</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/mobile/">Mobile
            		        development</a></li>
           			
            		</ul>
            	</div>
            	<div class="dw-mast-col-5-3">
            		
            		<ul>
          			<li><a href="http://www.ibm.com/developerworks/cn/opensource/">Open source</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/rational/">Rational</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/webservices/">SOA and web services</a></li>
             			<li><a href="http://www.ibm.com/developerworks/cn/web/">Web development</a></li>  
            			<li><a href="http://www.ibm.com/developerworks/cn/websphere/">WebSphere</a></li>     
    
            		</ul>
            		
            	</div>
            	<div class="dw-mast-col-5-4">
            		<ul>
           			<li><a href="http://www.ibm.com/developerworks/cn/xml/">XML</a></li>
            		</ul>        
            	</div>
            	<div class="dw-mast-col-5-5">
            		<ul>
            			<li><a href="http://www.ibm.com/developerworks/cn/library/"><strong>文档库</strong></a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/products/"><strong>产品 A - Z</strong></a></li>				    
            		</ul>        
            	</div>
            	<div class="dw-mast-close">
            		<ul>
            			<li><div class="dw-mast-close-tech-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
            		</ul>
            	</div>
            </div>
            	<!-- Evaluation software category -->
            	<div class="dw-mast-columns">
            		<div class="dw-mast-col-2-1">
            			<h2><a id="dw-mast-nav-1-0" href="http://www.ibm.com/developerworks/cn/downloads">软件下载</a></h2>
            			<ul>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#data">Information management</a></li>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#lotus">Lotus</a></li>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#rational">Rational</a></li>
            			</ul>            
            		</div>
            		<div class="dw-mast-col-2-2">
            			<ul>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#tivoli">Tivoli</a></li>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#websphere">WebSphere</a></li>
            				
            			</ul>            
            		</div>
            		<div class="dw-mast-close">
            			<ul>
            				<li><div class="dw-mast-close-eval-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
            			</ul>
            		</div>
            	</div>
            	<!-- Community category -->
            	<div class="dw-mast-columns">
            		<div class="dw-mast-col-2-1">
            			<h2><a id="dw-mast-nav-2-0" href="https://www.ibm.com/developerworks/community/?lang=zh">社区</a></h2>
            			<ul>
            				<li><a href="https://www.ibm.com/developerworks/community/homepage/?lang=zh">我的首页</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/profiles/home.do?lang=zh">概要信息</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/groups/service/html/allcommunities?lang=zh">群组</a></li>
            				<li><a href="https://www.ibm.com/developerworks/mydeveloperworks/blogs/?lang=zh">博客</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/bookmarks/html?lang=zh">书签</a></li>  
            			</ul>     
            		</div>
            		<div class="dw-mast-col-2-2">
            			<ul>
            				<!--	<li><a href="">Forums</a></li> -->
            				<li><a href="https://www.ibm.com/developerworks/mydeveloperworks/wikis/home?lang=zh">Wiki</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/files/app?lang=zh">文件</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/activities/service/html/mainpage?lang=zh#dashboard,myactivities">活动</a></li>
            				<!--	<li><a href="">Podcasts</a></li> -->    
            			</ul>
            		</div>
            		<div class="dw-mast-close">
            			<ul>
            				<li><div class="dw-mast-close-comm-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
            			</ul>
            		</div>
            	</div>
            	<!-- Events category -->
            	<div class="dw-mast-columns">
            		<div class="dw-mast-col-1-1">
            			<h2><a id="dw-mast-nav-3-0" href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&amp;lang=zh">技术讲座</a></h2>
            			<ul>
            				<li><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&amp;lang=zh">技术讲座</a></li>
            				<li><a href="http://www.ibm.com/developerworks/cn/swi/">多媒体课堂</a></li>
            				<li><a href="http://www.ibm.com/developerworks/find/webcasts/">网络广播（英文）</a></li>
            				<li><a href="http://www.ibm.com/developerworks/find/events/">查找活动（技术讲座，网络广播，会议等）（英文）</a></li> 
            			</ul>            
            		</div>
            		<div class="dw-mast-close">
            			<ul>
            				<li><div class="dw-mast-close-event-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
            			</ul>
            		</div>
            	</div>
            </div>
        </div>
    </div>
	
</div>
<div id="fdiv" class="ibm-access"></div>
<!-- MASTHEAD_END --><!-- MASTHEAD_END -->

<div id="ibm-pcon">

<!-- CONTENT_BEGIN -->
<div id="ibm-content">

<!-- Navigation_Trail_BEGIN -->
<!-- &nbsp; -->
      <div id="ibm-content-head"><ul id="ibm-navigation-trail"><li class="ibm-first"><a href="http://www.ibm.com/developerworks/cn/">developerWorks 中国</a></li><li><a href="http://www.ibm.com/developerworks/cn/topics/">技术主题</a></li><li><a href="http://www.ibm.com/developerworks/cn/java/">Java technology</a></li><li><a href="http://www.ibm.com/developerworks/cn/views/java/libraryview.jsp">文档库</a></li></ul></div>
<!-- Navigation_Trail_END -->

<!-- dW_Summary Area_START -->
<div id="dw-summary-article">

<div class="dw-content-head">
<h1>即时编译和打包您的 Groovy 脚本</h1><p><em>在没有安装 Groovy 的环境下也能被即时编译和打包 Groovy 脚本</em></p>
</div>

<div class="ibm-container-body ibm-two-column">

<div class="ibm-column ibm-first">
<div class="author"><a class="dwauthor" rel="#authortip1" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#author1">李 彬</a>, 软件工程师,  IBM</div><div id="authortip1" class="dwauthor-onload-state ibm-no-print">李彬是 IBM 中国软件开发实验室国际化共享服务中心(http://gssc.ibm.com)团队的成员。他于 2010 年加入 IBM，目前从事 Lotus Notes 国际化相关的开发工作。</div>
<p></p>
  <p><strong>简介：</strong>&nbsp;本文将介绍如何制作一个小工具让您的 Groovy 脚本能够在没有安装 Groovy 的环境下也能被即时编译和打包成为可执行的 Jar，并通过此过程介绍 Groovy 中的一些有趣的特性。</p>

 
</div>

<div class="ibm-column ibm-second">

<p class="leading"><strong>发布日期：</strong>&nbsp;2012 年 11 月 15 日
  
<br /><strong>级别：</strong>&nbsp;中级
    

<br /><strong>访问情况 ：</strong>&nbsp;2633 次浏览
  <br /><strong>评论：</strong>&nbsp;<span id="nCmts"><img alt="" src="//dw1.s81c.com/developerworks/i/circle-preloader.gif" height="12" width="50" /><img alt="" src="index_files/c-1.gif" height="14" width="1" /></span>
  <!-- Rating_Area_Begin -->
  <div id="art-rating-summary"></div>
  <!-- Rating_Area_End -->
  <br />
</p>
</div>

</div>
</div>
<!-- dW_Summary_Area_END -->

<!-- CONTENT_BODY -->
<div id="ibm-content-body">

<!-- MAIN_COLUMN_BEGIN -->
<div id="ibm-content-main">

<!-- Related_Searches_Area_And_Overlays_Begin -->

<!-- MAIN_COLUMN_CONTAINER_BEGIN -->
<div class="ibm-container">

<!-- MAIN_COLUMN_CONTENT_BEGIN -->
<p>在本文中将会涉及到：</p>
		 <ul>
			 <li>使用 CliBuilder 来实现对命令行选项的支持，脚本执行时所需要的参数将通过命令行选项的方式传递。</li>
			 <li>使用 GroovyClassLoader 加载 Groovy class。</li>
			 <li>使用 AntBuilder 来构建 Jar 包。</li>
		</ul>
			 <p><a name="major1"><span class="atitle">开始之前</span></a></p>
			 <p><a name="minor1.1"><span class="smalltitle">关于本文</span></a></p>
			 <p>也许您写了一些有趣或实用的 Groovy 脚本并希望与您的朋友分享，可是您并不想强迫他们安装 Groovy，所以您也许想要做一个小工具让您的朋友们能够用它编译您的 Groovy 脚本并且生成一个可执行的 Jar 包。本文将介绍如何制作一个小工具让您的 Groovy 脚本能够在没有安装 Groovy 的环境下也能被即时编译和打包成为可执行的 Jar，并通过此过程介绍 Groovy 的一些有趣的特性。</p>
			 <p>在本文中，我们将设计并实现一个命令行工具，并通过它来完成对 Groovy 脚本的即时编译和打包。我们将使用 CliBuilder 来实现程序对命令行的处理；使用 AntBuilder 来处理打包的问题；使用 FileSystemCompiler 类来实现对 Groovy 脚本文件的编译。</p>
			 <p><a name="minor1.2"><span class="smalltitle">目标</span></a></p>
			 <p>通过本示例了解 Groovy 中 CliBuilder 的使用方法，以及 AntBuilder 在 Groovy 中的应用。</p>
			 <p><a name="minor1.3"><span class="smalltitle">先决条件</span></a></p>
			 <ul>
				 <li>
 Eclipse IDE</li>
				 <li>
 Groovy plugin for Eclipse</li>
				 <li>
 Apache Ant Java library（您可以在这里找到下载地址 <a href="http://ant.apache.org/bindownload.cgi">http://ant.apache.org/bindownload.cgi</a>）</li>
			</ul>
			 <p><a name="minor1.4"><span class="smalltitle">系统要求</span></a></p>
			 <p>由于 Eclipse IDE 和 Groovy 语言都是跨平台的，所以您可以在任何平台上编写本示例中的程序，并将它运行在任何平台上。</p>
			 <div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major2"><span class="atitle">利用 CliBuilder 设计命令行程序</span></a></p>
			 <p>用 Groovy 来编写脚本是开发跨平台工具的一个不错的途径。随着脚本复杂程度的不断增长，您可能需要在您的脚本中处理命令行选项。而处理这些选项或参数并且根据情况显示相应的帮助信息可能会是件麻烦事。 Groovy 捆绑了 Apache Commons CLI 库作为它的一部分，然而它同时也提供了一个使用起来简单得多的 CliBuilder。那么，接下来我们看看该如何使用它。</p>
			 <p><a name="minor2.1"><span class="smalltitle">为程序设置命令行选项</span></a></p>
			 <br /><a name="listing1"><strong>清单 1. 创建 CliBuilder 实例及定义命令行选项</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 // 创建 CliBuilder 实例，并定义命令行选项
 def cmdline = new CliBuilder(usage: 'GroovyPackman -[chflms] [date] [prefix]') 
 cmdline.h( longOpt: 'help', required: false, 'show usage information' ) 
 cmdline.d( longOpt: 'destfile', argName: 'destfile', required: false, args: 1, 'jar 
 destintation filename' ) 
 cmdline.m( longOpt: 'mainclass', argName: 'mainclass', required: true, args: 1, 'fully 
 qualified main class' ) 
 cmdline.c( longOpt: 'groovyc', required: false, 'Run groovyc' ) 
 cmdline.s( longOpt: 'sourcepath', argName: 'sourcepath', required: true, args: 1, 'fully 
 path to the mainclass. Must be specified with .groovy file path when -c option used.') 
</pre></td></tr></table><br />
			 <p>在以上代码段中，我们首先创建 CliBuilder 的实例。CliBuilder 拥有一个叫做 Usage 的属性，可以用它来显示程序的使用说明等信息。在这里，它作为参数传递给构造函数将可以告诉程序的使用者有哪些选项可以使用。接着，我们使用名字为一个字母的方法来定义命令行选项，longOpt 属性允许选项被指定为 -h 或 --help 均可。argName 属性用来指定在使用说明中显示的选项的参数名。而 args 属性用来指定选项所需的参数个数。required 属性用来告诉命令行解析器当前选项是否是必须的。函数中最后一个参数用来指定该选项的描述信息。</p>
			 <p>Groovy 语言中闭包（closure）是一个非常重要的概念，它更象是一个“代码块”或者方法指针，代码在某处被定义然后在其后的调用处执行。关于闭包本文不多做介绍，更多详细内容请参考以下文章：</p>
			 <p><a href="http://www.ibm.com/developerworks/cn/java/j-pg06239.html">实战 Groovy: 使用闭包、ExpandoMetaClass 和类别进行元编程</a></p>
			 <p><a href="http://groovy.codehaus.org/gapi/org/codehaus/groovy/runtime/DefaultGroovyMethods.html#with(java.lang.Object, groovy.lang.Closure)">GroovyDoc 中对 with(Object self, Closure closure) 方法的描述</a></p>
			 <p>Groovy 为我们提供了 with 方法，它允许闭包被对象的引用本身所调用，这是通过把对象赋值给闭包的 delegate 属性并且作为参数传递给闭包来实现的。使用 with 方法有时可以帮助我们减少代码量，在此我们看看使用 with() 方法定义各项参数与代码清单 1 所使用的方法有何不同。</p>
			 <br /><a name="listing2"><strong>清单 2. 使用 with 方法后的代码</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 def cmdline = new CliBuilder(usage: 'GroovyPackman -[chflms] [date] [prefix]') 
 // 使用 Object 上的 with 方法省去 cmdline 对象的限定
 cmdline.with { 
  h longOpt: 'help', required: false, 'show usage information'; 
  d longOpt: 'destfile', argName: 'destfile', optionalArg: true, args: 1, 
 'jar destintation filename';
  m longOpt: 'mainclass', argName: 'mainclass', required: true, args: 1, 
 'fully name of main class'; 
  c longOpt: 'groovyc', required: false, 'Run groovyc'; 
  s longOpt: 'sourcepath', argName: 'sourcepath', required: true, args: 1, 
 'fully path to the mainclass. Must be specified with .groovy file path 
 when -c option used.'; 
 } 
</pre></td></tr></table><br />
			 <p>这样，我们为程序设置了命令行入口。其中：</p><ul>
				 <li>
使用“-h “或”--help”来显示使用帮助信息。</li>
				 <li>
使用”-d”或”--destfile”来目标文件名用来作为生成的 .jar 文件名，这是一个可选项。</li>
				 <li>
用”-m”或”--mainclass”来指定主类的全名，未指定”-d”选项时将被作为目标 Jar 包的文件名。</li>
				 <li>
通过使用"-c"选项来控制是否执行编译过程，是一个可选项。</li>
				 <li>
当命令行中指定了"-c"时，"-s"或"--sourcepath"需指向要被编译的脚本（包）所在的目录；未指定"-c"时需指向 .class 文件所在的目录。</li>
			</ul>
			 <p>在本文的最后一章中您将看到通过这个命令行工具（在本文中被命名为：GroovyPackman）编译打包脚本的实例。</p>
			 <p><a name="minor2.2"><span class="smalltitle">解析命令行输入</span></a></p>
			 <br /><a name="listing3"><strong>清单 3. 使用 parse 方法解析命令行选项</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 def opt = cmdline.parse(args) 
 if (!opt) { return } 
 if (opt.h) { 
 cmdline.usage() 
 return 
 } 
</pre></td></tr></table><br />
			 <p>Parse() 方法用来解析本程序执行时命令行输入的参数。通过 Parser 解析命令行参数后，我们可以得到 OptionAccessor 对象的一个实例，当输入的参数不合法时，这个对象为空。</p>
			 <p><a name="minor2.3"><span class="smalltitle">进一步处理命令行参数</span></a></p>
			 <p>通过 opt 对象我们可以轻松的获取到所有已经在命令行中指定的选项，我们将处理各个选项的值，使其符合我们的要求。</p>
			 <br /><a name="listing4"><strong>清单 4. 获取命令行选项并赋值给变量</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 // 将命令行选项赋值给变量
 def mainClass = opt.m 
 def sourcePath = opt.s 
 def destFile = mainClass + '.jar'
 if (!(sourcePath.endsWith("\\"))||!(sourcePath.endsWith("/")))( 
 sourcePath = sourcePath + "/"
 ) 
 if (opt.d) { 
 destFile = opt.d 
 } 
</pre></td></tr></table><br />
			 <div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major3"><span class="atitle">使用 AntBuilder 进行 Ant 脚本编程</span></a></p>
			 <p>在处理完程序的命令行选项之后，我们将进入本示例另一个重点：使用 AntBuilder 实现脚本的编译和打包。首先，我们来认识一下生成器。</p>
			 <p><a name="minor3.1"><span class="smalltitle">生成器 (Builder)</span></a></p>
			 <p>生成器 (Builder) 是 Groovy 中的一个特性，它可以很方便地在 Groovy 中构造如 XML 文档一般的树形数据结构。而 AntBuilder 就是众多生成器中的一员，通过它您可以毫不费力地构造 Ant 基于 XML 结构的构建文件 (build.xml)，不需要处理 XML 就可以执行构建。更加令人兴奋的是，与以往费力地用复制粘贴来创建 build.xml 文件不同，您不但可以编写循环、条件语句，甚至可以利用面向对象语言的优势。</p>
			 <p>以下代码段展示了使用 AntBuilder 的一个非常简单的例子。在本示例中，当用户在命令行指定了 -c 选项时将在命令行窗口输出其指定需要编译的 Groovy 脚本文件。</p>
			 <br /><a name="listing5"><strong>清单 5. 创建 AntBuilder 实例以及处理编译对象</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 def ant = new AntBuilder() 
 if (opt.c) { 
 // 检查脚本文件是否存在
 def scriptBase = mainClass.replace( '.', '/' ) 
 def scriptFile = new File(sourcePath + scriptBase +'.groovy' ) 
 if (!scriptFile.canRead()) { 
   println "Cannot read script file: '${scriptFile}'"
   return 
 } 
 ant.echo( "Compiling ${scriptFile}" ) 
 } 
</pre></td></tr></table><br />
			 <p><a name="minor3.2"><span class="smalltitle">调用 FileSystemCompiler 即时编译 Groovy 脚本</span></a></p>
			 <p>在本示例中，用户在命令行中使用 -c 选项指定了有效的 Groovy 脚本文件之后，程序将对其进行编译。我们将使用 FileSystemCompiler 类来实现脚本文件的编译，代码段 6 展示了这一过程。</p>
			 <br /><a name="listing6"><strong>清单 6. 用 GroovyClassLoader 的实例实现编译过程</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 try{ 
     FileSystemCompiler fc= new FileSystemCompiler() 
     fc.commandLineCompile( [ scriptFile ] as String[] ) 
 } 
 catch (org.codehaus.groovy.control.MultipleCompilationErrorsException e){ 
     println e.getMessage() 
     println "*** Possible solution: Please copy GroovyPackman.jar to 
    dir \"${sourcePath}\" and  try again. ***"
    return 
 } 
</pre></td></tr></table><br />
			 <p>FileSystemCompiler 类的实例相当于是 Groovy 的命令行编译器 (groovyc)。在 Groovy 中，您可以直接调用 Groovy 编译器来编译脚本文件，其命令一般为 groovyc *.groovy。这个过程将生成一个或多个 *.class 文件，这些文件可以使用 java 命令执行（但在执行 Groovy 生成的 .class 文件时，需保证 ClassPath 中指向了 Groovy 的库文件，例如：goovy-1.x.x.jar 等）。</p>
			 <p>在安装有 Groovy 的系统中您也可使用命令 groovy *.groovy，同时完成编译和运行 Groovy 脚本。与 groovyc 命令不同的是，groovy 命令不是在文件系统而是在内存中生成 *.class 文件并立即执行。</p>
			 <p><a name="minor3.3"><span class="smalltitle">使用 Groovy 中的 Ant 任务来进行流控制</span></a></p>
			 <p>在实现了对 Groovy 脚本文件编译的功能之后，接下来将利用 Groovy 中的 Ant 任务进行打包工作。</p>
			 <br /><a name="listing7"><strong>清单 7. 通过生成器的语法来构建类似于 XML 的结构</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 def GROOVY_SUPPORT = 
 (System.getenv('GROOVY_SUPPORT'))? (new File( System.getenv('GROOVY_SUPPORT'))) : "" 
 // 如果系统中安装了 Groovy，打包时我们将从系统中获取程序运行所必须的 Jar 包
 if (GROOVY_SUPPORT!=""){ 
 if (GROOVY_SUPPORT.canRead()) { 
 // 构建可执行的 Jar 包并指定 mainclass 
 ant.echo("Processing *.class files in ${sourcePath}...") 
 ant.jar( destfile: destFile, compress: true ) { 
   fileset( dir: sourcePath, includes: '**/*.class' ) 
   zipgroupfileset( dir: GROOVY_SUPPORT, includes: 'groovy-all-*.jar' ) 
   zipgroupfileset( dir: GROOVY_SUPPORT, includes: 'commons*.jar' ) 
   zipgroupfileset( dir: GROOVY_SUPPORT, includes: 'ant*.jar' ) 
   // 您可以在此添加更多的 Jar 包，这取决于您的需求
   manifest { 
    attribute( name: 'Main-Class', value: mainClass ) 
    attribute( name: 'Class-Path', value: '.' ) 
   } 
  } 
 } 
 } 
 // 如果系统未检测到 Groovy 环境，打包时将使用 GroovyPackman.jar 中获取程序运行所必须的 Jar 包
 else { 
 ant.echo( "Missing environment variable GROOVY_SUPPORT: '${GROOVY_SUPPORT}'" ) 
 def PACKMAN = 
 URLDecoder.decode(
 GroovyPackman.class.getProtectionDomain().getCodeSource().getLocation().getFile(), 
 "UTF-8") 
 PACKMAN = PACKMAN.toString().replaceFirst("/", "") 
 ant.echo( "Using Packman: '${PACKMAN}'" ) 
 ant.jar( destfile: destFile, compress: true) { 
  fileset( dir: sourcePath, includes: '**/*.class' ) 
  zipfileset( excludes: 'GroovyPackman*.*,org/apache/tools/**,images/**', src: PACKMAN) 
  // 您可以根据具体需要增加更多的 Jar   
  manifest { 
   attribute( name: 'Main-Class', value: mainClass ) 
   attribute( name: 'Class-Path', value: '.' ) 
  } 
 } 
 } 
</pre></td></tr></table><br />
			 <p>在代码清单 7 中，首先检查环境变量 GROOVY_SUPPORT 是否存在，该环境变量通常在安装 Groovy Eclipse Plugin 之后会被设置，指向包含 Groovy 运行库文件所在的目录。接着再分别针对 GROOVY_SUPPORT 存在与否来完成不同的打包过程。当 GROOVY_SUPPORT 可用时我们将从 GROOVY_SUPPORT 指向的目录中拾取相关的运行库（如：groovy-all-*.jar，commons*.jar，ant*.jar 等）；而当 GROOVY_SUPPORT 不可用即系统中未安装 Groovy 时，程序将从自身拾取相应的运行库并将其与编译后的脚本一同打包。</p>
			 <p><a name="minor3.4"><span class="smalltitle">最后，编译我们的程序</span></a></p>
			 <p>第一步，我们需要在 Eclipse 中编译本脚本文件，生成 *.class。要在 Eclipse 中编译 Groovy 脚本，可以通过点击菜单 Run -&gt; Run As -&gt; Groovy Script。</p>
				 <br /><a name="fig1"><strong>图 1. 通过 Eclipse 编译后生成的 .class 文件</strong></a><br />
				 <img alt="图 1. 通过 Eclipse 编译后生成的 .class 文件" height="173" src="index_files/image003.jpg" width="419"/>
			<br />
			 <p>为了便于分享同时执行起来更加方便，第二步，我们将用 Java 命令执行生成的 .class 文件并将其自身打包成可执行的 Jar 包。</p>
			 <br /><a name="listing8"><strong>清单 8. 运行 GroovyPackman.class 将其自身打包</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 C:\groovy\GroovyPackman\bin&gt;set GROOVY_SUPPORT= 
 d:\eclipse\plugins\org.codehaus.groovy_1.7.5.20101020-2100-e35-release\lib 
 C:\groovy\GroovyPackman\bin&gt;java -cp .\;%groovy_support%\;%groovy_support%\ 
 groovy-all-1.7.5.jar;%groovy_support%\commons-cli-1.2.jar;%groovy_support%\ant.jar;
 %groovy_support%\ant-launcher.jar 
 GroovyPackman -m GroovyPackman -s c:\Groovy\GroovyPackman\bin 
</pre></td></tr></table><br />
				 <br /><a name="fig2"><strong>图 2. 执行 GroovyPackman.class 将其自身打包</strong></a><br />
				 <img alt="图 2. 执行 GroovyPackman.class 将其自身打包" height="264" src="index_files/image005.jpg" width="578"/>
			<br />
			 <div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major4"><span class="atitle">看看这个小程序的效果如何</span></a></p>
			 <p><a name="minor4.1"><span class="smalltitle">即时编译和打包一组示例 Groovy 脚本</span></a></p>
			 <p>在这个例子中，我们使用一个非常简单的 helloworld 程序来做演示，看看如何用我们刚才制作的小工具来进行编译和打包。这个 helloworld 程序包含两个 *.groovy 脚本文件，本身为三层目录结构的包，如图 3 所示：</p>
				 <br /><a name="fig3"><strong>图 3. 演示程序中所包含的两个 groovy 脚本</strong></a><br />
				 <img alt="图 3. 演示程序中所包含的两个 groovy 脚本" height="153" src="index_files/image007.gif" width="401"/>
			<br />
			 <p>在这里，我们在命令行中执行以下命令：</p>
			 <br /><a name="listing9"><strong>清单 9. 测试 GroovyPackman.jar</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 java -jar GroovyPackman.jar 
</pre></td></tr></table><br />
			 <p>测试一下之前打包好的小工具能否正常运行。如图 4 所示：</p>
				 <br /><a name="fig4"><strong>图 4. GroovyPackman.jar 在命令行中执行</strong></a><br />
				 <img alt="图 4. GroovyPackman.jar 在命令行中执行" height="182" src="index_files/image009.jpg" width="578"/>
			<br />
			 <p>如上图命令行中的输出结果，GroovyPackman.jar 运行正常。接下来开始编译和打包 hellowworld 示例程序。</p>
			 <p>将 GroovyPackman.jar 拷贝到 com.test.helloworld 包所在的根目录。在命令行中执行以下命令：</p>
			 <br /><a name="listing10"><strong>清单 10. 运行 GroovyPackman.jar 打包 helloworld 程序</strong></a><br /><table width="100%" cellpadding="0" summary="这一表格包含代码清单。" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				 
 java -jar GroovyPackman.jar -m com.test,helloworld.helloworld -s c:\groovy -c 
</pre></td></tr></table><br />
			 <p>helloworld 将被自动编译并打包，如图 5 所示：</p>
				 <br /><a name="fig5"><strong>图 5. Helloworld 程序被打包</strong></a><br />
				 <img alt="图 5. Helloworld 程序被打包" height="132" src="index_files/image011.jpg" width="578"/>
			<br />
			 <p>从图 6 中可以看到，*.groovy 脚本文件已经被编译成多个 *.class 文件。</p>
				 <br /><a name="fig6"><strong>图 6. 打包过程中生成的 .class 文件</strong></a><br />
				 <img alt="图 6. 打包过程中生成的 .class 文件" height="100" src="index_files/image013.gif" width="495"/>
			<br />
			 <p>从图 7 中可以看到已经打包好的 helloworld 程序。</p>
				 <br /><a name="fig7"><strong>图 7. 打包后的 helloworld 程序</strong></a><br />
				 <img alt="图 7. 打包后的 helloworld 程序" height="94" src="index_files/image015.gif" width="485"/>
			<br />
			 <p>接下来我们在命令行中运行刚刚生成的 helloworld 程序，结果如图 8 所示：</p>
				 <br /><a name="fig8"><strong>图 8. 打包后的 Helloworld 运行结果</strong></a><br />
				 <img alt="图 8. 打包后的 Helloworld 运行结果" height="120" src="index_files/image017.gif" width="453"/>
			<br />
			 
		<!-- CMA ID: 845759 --> <!-- Site ID: 10 --> <!-- XSLT stylesheet used to transform this file: dw-document-html-6.0.xsl -->
<br />
<p><a name="resources"><span class="atitle">参考资料 </span></a></p><p><strong>学习</strong></p><ul><li>
				想了解更多关于在 Groovy 中使用 Ant 的技巧请参考 <a href="http://www.ibm.com/developerworks/cn/education/java/j-gant/section2.html">用 Gant 构建软件</a>（developerWorks）。
			<br /><br /></li><li>
				您还可以访问 <a href="http://www.ibm.com/developerworks/cn/education/java/j-groovy/section11.html">精通 Groovy</a>（developerWorks）来学习更多更精彩的 Groovy 知识。
			<br /><br /></li><li>“<a href="http://www.ibm.com/developerworks/cn/java/j-eaed15.html">演化架构和紧急设计：使用 Groovy 构建 DSL</a>”（developerWorks，2010 年 9 月）：内部特定领域语言（DSL）是可行的，但是由于 Java 语言的限制性语法使其使用并不灵活。JVM 中其他语言更适合构建它们。这一期的演化架构和紧急设计涵盖了许多您可以利用的功能，以及在您使用 Groovy 构建内部 DSL 时将要遇到的问题。<br /><br /></li><li>“<a href="http://www.ibm.com/developerworks/cn/java/j-ft7/">函数式思维：Groovy 中的函数式特性，第 1 部分</a>”（developerWorks，2011 年 12 月）：随着时间的推移，语言和运行时为我们处理了越来越多琐碎的细节。函数式语言在这方面体现了它的趋势，而且现代的动态语言也采用了许多函数式特性，让开发者的工作变得更轻松。这期文章将介绍 Groovy 中的一些函数式特性，并将展示如何用递归隐藏状态和构建惰性列表。<br /><br /></li><li>“<a href="http://www.ibm.com/developerworks/cn/java/j-ft8/">函数式思维：Groovy 中的函数式特性，第 2 部分</a>”（developerWorks，2012 年 2 月）：凭借 Groovy，元编程 (metaprogramming) 和函数式编程形成了一个强有力的组合。了解元编程如何支持您为 Integer 数据类型添加方法，从而使您能够利用 Groovy 的内置函数式特性。学习如何使用元编程将 Functional Java 框架的丰富函数式特性集无缝地整合到 Groovy 中。<br /><br /></li><li>“<a href="http://www.ibm.com/developerworks/cn/java/j-ft9/">函数式思维：Groovy 中的函数式特性，第 3 部分</a>”（developerWorks，2012 年 3 月）：现代的动态语言整合了许多函数式特性，以帮助开发人员完成平常的任务。本文将使用 Groovy 探索在函数级别应用缓存的好处，并将这种缓存方法与一种命令式方法进行对比。本文将演示两种类型的缓存，即方法内缓存和外部缓存，还将探讨命令式和函数式版本的优缺点。<br /><br /></li><li>
				<a href="http://www.ibm.com/developerworks/cn/java/" onmouseover="linkQueryAppend(this)">developerWorks Java 技术专区</a>：这里有数百篇关于 Java 编程各个方面的文章。
<br /><br /></li></ul><p><strong>讨论</strong></p><ul><li>加入 <a href="http://www.ibm.com/developerworks/cn/community/" onmouseover="linkQueryAppend(this)">developerWorks 中文社区</a>。查看开发人员推动的博客、论坛、组和维基，并与其他 developerWorks 用户交流。<br /><br /></li></ul>
<p><a name="author"><span class="atitle">关于作者</span></a></p><div class="ibm-container ibm-portrait-module ibm-alternate-two"><div class="ibm-container-body"><p><a name="author1"> </a>李彬是 IBM 中国软件开发实验室国际化共享服务中心(http://gssc.ibm.com)团队的成员。他于 2010 年加入 IBM，目前从事 Lotus Notes 国际化相关的开发工作。</p></div></div>
<!-- MAIN_COLUMN_CONTENT_END -->
  <!-- OVERLAYS_START -->
  <!-- Report_Abuse_Start -->
  <div class="ibm-common-overlay ibm-no-print" id="reportabuseoverlay">
    <div class="ibm-head"><p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">关闭 [x]</a></p></div>
    <div class="ibm-body">
      <div class="ibm-main">
        <a class="ibm-access" name="reportabuseoverlay">关于报告滥用的帮助</a>   
        <div class="ibm-title"><h1>报告滥用</h1></div>
        <div class="ibm-container ibm-alternate">
          <p><strong>谢谢!</strong>  此内容已经标识给管理员注意。</p>
          <div class="ibm-overlay-rule"><hr /></div>
          <div class="ibm-buttons-row">
            <input type="button" onclick="ibmCommon.Overlays.hide('reportabuseoverlay');return false;" class="ibm-btn-cancel-sec dw-btn-cancel-sec" name="ibm-cancel" value="关闭" />
          </div>
        </div>
      </div> 
    </div>
    <div class="ibm-footer"></div>
  </div>
  <!-- Report_Abuse_Error_Start -->
  <div class="ibm-common-overlay ibm-no-print" id="reportabuseoverlayerror">
    <div class="ibm-head"><p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">关闭 [x]</a></p></div>
    <div class="ibm-body">
      <div class="ibm-main">
        <a class="ibm-access" name="reportabuseoverlayerror">关于报告滥用的帮助</a>   
        <div class="ibm-title"><h1>报告滥用</h1></div>
        <div class="ibm-container ibm-alternate">
          <p class="ibm-ind-error"><strong>报告滥用提交失败。  请稍后重试。</strong></p>
          <div class="ibm-overlay-rule"><hr /></div>
          <div class="ibm-buttons-row">
            <input type="button" onclick="ibmCommon.Overlays.hide('reportabuseoverlayerror');return false;" class="ibm-btn-cancel-sec dw-btn-cancel-sec" name="ibm-cancel" value="关闭" />
          </div>
        </div>
      </div> 
    </div>
    <div class="ibm-footer"></div>
  </div>
  <!-- Sign in OVERLAY STARTS HERE --> 
  <div class="ibm-common-overlay" id="signin_overlay">
    <div class="ibm-head">
      <p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="clearForm();">关闭 [x]</a></p>
    </div>
    <div class="ibm-body">
      <div class="ibm-main">
        <div class="ibm-title ibm-subtitle">
          <h1>developerWorks：登录</h1>
          <div id="ibm-overlay-error-signin" class="no-display"></div>
        </div>
        
        <div class="ibm-container ibm-alternate ibm-buttons-last">
          <div class="ibm-container-body">

            <form class="ibm-column-form" id="sFormId" action="" method="post" name="sForm" onsubmit="return false;">
              <p><label for="ibmid">IBM ID：</label><span><input name="ibm-id" id="ibmid" size="25" value="" class="required" type="text" onkeypress="handleEP(event,this.form);" />
                <br /><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="(function () {window.location='/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh_CN&amp;d='+encodeURIComponent(location.href);})();">需要一个 IBM ID？</a>
                <br /><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/dwwi/jsp/WSHelp.jsp?lang=zh_CN">忘记 IBM ID？</a></span>   
              </p> 
              <p><label for="password">密码：</label><span><input name="password" id="password" size="25" value="" class="required" type="password" onkeypress="handleEP(event,this.form);" /><br />
                <a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="(function () {window.location='https://www.ibm.com/account/profile?page=forgot&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d='+encodeURIComponent(getAuthUrl())+'%3Fm%3Dloginpage%26lang%3Dzh_CN%26d%3D'+encodeURIComponent(location.href);})();">忘记密码？</a><br />
                <a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="(function () {window.location='https://www.ibm.com/account/profile?page=chpw&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d='+encodeURIComponent(location.href);})();">更改您的密码</a></span></p> 

              <p class="dw-perm-box">
                <span><input id="perm" type="checkbox" name="perm_name"/><label for="perm"> 保持登录。</label></span>
              </p>

              <p>单击提交则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/mydeveloperworks/terms?lang=zh">使用条款</a></p>
              <div class="ibm-buttons-row">
                <p><input class="ibm-btn-arrow-pri" name="ibm-submit" value="提交" onclick="signin();return false;" type="submit" /><span class="ibm-sep">&nbsp;</span>
                  <input value="取消" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="clearForm();ibmCommon.Overlays.hide('signin_overlay');return false;"/></p>
              </div>
            </form>
            <div class="ibm-overlay-rule"><hr /></div>
            <p>当您初次登录到 developerWorks 时，将会为您创建一份概要信息。<strong>您在 developerWorks 概要信息中选择公开的信息将公开显示给其他人，但您可以随时修改这些信息的显示状态。</strong>您的姓名（除非选择隐藏）和昵称将和您在 developerWorks 发布的内容一同显示。</p>
            <div class="dw-overlay-legal"><p>所有提交的信息确保安全。</p></div>
          </div>
        </div>
      </div>
    </div>
    <div class="ibm-footer"></div>
  </div>
  <!-- Sign in OVERLAY ENDS HERE --> 
  
  
  <!-- Display name OVERLAY STARTS HERE --> 
  <div class="ibm-common-overlay" id="displayname_overlay">
    <div class="ibm-head">
      <p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#" onclick="clearForm();">关闭 [x]</a></p>
    </div>
    <div class="ibm-body">
      <div class="ibm-main">
        <div class="ibm-title ibm-subtitle">
          <h1>请选择您的昵称：</h1>
          <div id="ibm-overlay-error-dname" class="no-display"></div>
        </div>
        <div class="ibm-container ibm-alternate ibm-buttons-last">
          <div class="ibm-container-body">
            <p class="ibm-overlay-intro">当您初次登录到 developerWorks 时，将会为您创建一份概要信息，您需要指定一个昵称。您的昵称将和您在 developerWorks 发布的内容显示在一起。</p><p><strong>昵称长度在 3 至 31 个字符之间</strong>。 您的昵称在 developerWorks 社区中必须是唯一的，并且出于隐私保护的原因，不能是您的电子邮件地址。</p>
            <form id="dFormId" method="post" action="" name="dForm" onsubmit="return false;" class="ibm-column-form">
              <p><label for="displayname">昵称：</label><span><input name="displayname" id="displayname" size="25" value="" type="text" onkeypress="handleEP(event,this.form);" /></span><span class="ibm-form-note">（长度在 3 至 31 个字符之间）</span>
              </p>
              
              <div class="ibm-overlay-rule"><hr />
              </div>
              <p>单击<strong>提交</strong>则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/mydeveloperworks/terms?lang=zh">使用条款</a>.</p>
              <div class="ibm-buttons-row">
                <p><input class="ibm-btn-arrow-pri" name="ibm-submit" value="提交" onclick="signin();return false;" type="submit" /><span class="ibm-sep">&nbsp;</span>
                  <input value="取消" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="clearForm();ibmCommon.Overlays.hide('displayname_overlay');return false;" /></p>
              </div>
            </form>
            <div class="ibm-overlay-rule"><hr /></div>
            <div class="dw-overlay-legal"><p>所有提交的信息确保安全。</p></div>
          </div>
        </div>
      </div>
    </div>
    <div class="ibm-footer"></div>
  </div>
  <!-- Display name OVERLAY ENDS HERE -->
  <!-- OVERLAYS_END -->
  <!-- RATINGS START -->
  <p class="ibm-no-print"><span class="atitle"><a name="iratings">为本文评分</a></span></p>
  <input id="art-rating" name="ratinga" type="hidden" value="0"/><div id="art-rating-module"></div>
  <script language="JavaScript" type="text/javascript">
    // <![CDATA[
   // widget div id and article id as args
   window.artRating.init('art-rating-module','art-rating-summary');
// ]]>
  </script>
  <!-- RATINGS END --> 
  
  <!-- INLINE_COMMENTS_START -->
  <p class="ibm-no-print"><span class="atitle"><a name="icomments">评论</a></span></p>
    <script language="JavaScript" type="text/javascript">
      // <![CDATA[
dwc = {};
dwc.cmts = '条评论';
dwc.signInPreText = '请';
dwc.signIn = '登录';
dwc.or = '或';
dwc.register = '注册';
dwc.signInPostText = '';
dwc.leaveCmt = '后发表评论。';
dwc.view = '查看';
dwc.totalCmts = '共有评论';
dwc.postYourCmt = '添加您的评论';
dwc.show = '显示：';
dwc.recentCmts = '最新评论';
dwc.allCmts = '所有评论';
dwc.tooLongCmt = '您的评论超过了 1000 字符限制';
dwc.numCharsLeft = '剩余 <span id="charCount">{1}</span> 字符';
dwc.reportAbuse = '报告滥用';
dwc.notifyMsg = '有新评论时提醒我';
dwc.htmlWarning = '注意：评论中不支持 HTML 语法'; 
dwc.cmt = '评论：';
dwc.addCmts = '添加评论';
dwc.addCmt = '添加评论';
dwc.doNotErase = '--在下方添加评论--'; 
dwc.viewOrAddCmts = '查看或添加评论';
dwc.reportInapprCont = '举报不良信息';
dwc.reportInapprContLink = 'http://www.ibm.com/developerworks/forums/forum.jspa?forumID=1834';
dwc.postingCmt = '正在发布评论……';
dwc.noCmt = '快来添加第一条评论';
dwc.netwkErr = '在检索评论时出错，请稍后刷新。';
dwc.addACmt = '添加评论';
dwc.instructCmt = '标有星号（<span class="ibm-required">*</span>）的是必填项目。';
dwc.btnPost = '发布';
dwc.btnPostAnon = '匿名发布';
dwc.btnClrCmt = '清除评论';
dwc.btnCancel = '取消';
dwc.showRecent = '显示最新的 {1} 条评论'; // {1} is the count to be substituted
dwc.showNext = '显示后 {1} 条评论'; // {1} is the count to be substituted
dwc.showAllCmts = '显示所有评论';
dwc.enterCmt = '请输入评论内容。';
dwc.loginErr = '暂时无法验证您的登录状态，请稍后再试。';
dwc.postErr = '暂时无法发布您的评论，请稍后再试。';
dwc.postBy = '由 <strong>{1}</strong>  于 {2} '; // {1} is the author to be substituted; {2} is the date
dwc.siteId = 10;
dwc.lang = 'zh_CN';
dwc.viperLang = 'zh';
// ]]>
    </script>
    <div id="threadShow"></div>
  <!-- INLINE_COMMENTS_END -->
  

  <p class="ibm-ind-link ibm-back-to-top"><a class="ibm-anchor-up-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#ibm-pcon">回页首</a></p>

<!-- Overlays -->
<!-- lk - pull in overlays from ww when required on cn -->
  </div>
<!-- MAIN_COLUMN_CONTAINER_END -->

<!-- Rating_Meta_BEGIN -->
<!--Rating_Meta_BEGIN--><div class="metavalue">static.content.url=http://www.ibm.com/developerworks/js/artrating/</div><div class="metavalue">SITE_ID=10</div><div class="metavalue">Zone=Java technology</div><div class="metavalue">ArticleID=845759</div><div class="metavalue">ArticleTitle=即时编译和打包您的 Groovy 脚本</div><div class="metavalue">publish-date=11152012</div><script language="javascript" type="text/javascript">document.write('<div class="metavalue">url='+location.href.replace(/</g,  '%3C')+'</div>');</script><!--Rating_Meta_END-->
<!-- Rating_Meta_END -->

</div>
<!-- MAIN_COLUMN_END-->

<!-- RIGHT_COLUMN_BEGIN -->
<div id="ibm-content-sidebar">

<!-- RIGHT_COLUMN_CONTENT_BEGIN --> 
<div class="ibm-container"><h2>内容</h2><div class="ibm-container-body"><img alt="" height="1" width="1" src="index_files/c-2.gif"/><ul class="ibm-bullet-list"><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#major1">开始之前</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#major2">利用 CliBuilder 设计命令行程序</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#major3">使用 AntBuilder 进行 Ant 脚本编程</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#major4">看看这个小程序的效果如何</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#resources">参考资料 </a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#author">关于作者</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#icomments">评论</a></li></ul></div></div>

 


<!-- Dig_Deeper -->

<!-- High_Visibility_Offer -->

<!-- Special_Offers -->

<!-- RIGHT_COLUMN_CONTENT_END -->

</div>
<!-- RIGHT_COLUMN_END -->

<!-- CONTENT_BODY_END -->
</div>

</div>
<!-- CONTENT_END -->

 <!-- END_IBM-PCON -->
</div>

<!-- FOOTER_BEGIN -->
<div id="ibm-footer">
<!-- IBM footer container; disabled -->
</div>

<div id="ibm-page-tools-dw">
	<div id="dw-footer-top-row">
		<ul id="dw-foot-options">
			<li id="dw-print"><a class="ibm-print-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">打印此页面</a></li>
		</ul>
		<ul id="ibm-foot-options-dw">
			<li id="dw-foot-0" class="dw-foot-0-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">分享此页面</a></li>
			<li id="dw-foot-1" class="dw-foot-1-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">关注 developerWorks</a></li>
		</ul>
	</div>       
	
	
	<!-- TOP ROW SLIDER -->
    <div id="dw-page-tools-menu">    
        <div class="ibm-ribbon-pane-dw">
            <div class="ibm-ribbon-section-dw">
				<!-- Share this page -->			
                <div class="dw-footer-columns">
                    <div class="dw-footer-col-4-1">
                    	<h2>分享此页面：</h2>                            
						<ul class="ibm-link-list">
						  <!--<li><a id="dw-foot-0-0" class="dwcn-sina-link"
						        href="#"
						        onClick="javascript:location.href='http://hits.sinajs.cn/A1/weiboshare.html?&amp;appkey=&amp;title='+escape(document.title)+'&amp;url='+escape(location.href)'+'&amp;pic=&ralateUid&amp;language=zh_cn;
						        ">新浪微博</a></li> -->
						   <li><a id="dw-foot-0-0" class="dwcn-sina-link"
						        href="#"
						        onClick="javascript:location.href='http://service.weibo.com/share/share.php?title='+encodeURIComponent(document.title)+'&amp;url='+escape(location.href)+'&amp;language=zh_cn'
						        ; ">新浪微博</a></li> 
						   <li><a class="dwcn-renren-link"
						        href="#" onClick="javascript:location.href='http://share.renren.com/share/buttonshare?title='+encodeURIComponent(document.title)+'&amp;link='+escape(location.href);
						        ">人人网</a></li> 
						    <li><a class="dwcn-tencent-link"
						        href="#" onClick="javascript:location.href='http://v.t.qq.com/share/share.php?title='+encodeURIComponent(document.title)+'&amp;url='+escape(location.href);
						        ">腾讯微博</a></li> 
						   				
						</ul>
                    </div>
                    <div class="dw-footer-col-4-2">
						<ul class="ibm-link-list">
						    <li><a class="dwcn-sohu-link"
						        href="#"
						        onClick="javascript:location.href='http://t.sohu.com/third/post.jsp?title='+encodeURIComponent(document.title)+'&amp;link='+escape(location.href);
						        ">搜狐微博</a></li>
						    
						    <li><a class="dwcn-netease-link"
						        href="#"
						        onClick="javascript:location.href='http://t.163.com/article/user/checkLogin.do?info='+encodeURIComponent(document.title)+ '' +escape(location.href);
						        ">网易微博</a></li>
						    <li><a class="ibm-facebook-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">Facebook</a></li>
						</ul>
                </div>
                    <div class="dw-footer-col-4-3">
						<ul class="ibm-link-list">
						 <li><a class="ibm-linkedin-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">LinkedIn</a></li>   
						 <li><a class="ibm-twitter-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">Twitter</a></li>   
						 <li><a class="ibm-delicious-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">Delicious</a></li>
						
						</ul>
                    </div>
                   <div class="dw-footer-col-4-4">
						<ul class="ibm-link-list">
						 <li><a class="ibm-digg-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">Digg</a></li>   
						 <li><a class="ibm-email-link" href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#">发送此页面</a></li>
						</ul>
                    </div>
                    <div class="dw-footer-close">
						<ul>
							<li><div class="dw-footer-close-share"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10"/></a></div></li>
						</ul>
                    </div>
                </div>
                  <!-- Follow developerWorks -->
                <div class="dw-footer-columns">
                    <div class="dw-footer-col-1-1 dw-footer-col-1-1-cn">
                    	<h2>关注 developerWorks 中国网站：</h2>
						<ul class="ibm-link-list">
							<!--<li><a id="dw-foot-1-0" class="ibm-twitter-link" href="http://www.twitter.com/dwchina">Twitter</a></li>-->
						    <li><a id="dw-foot-1-0" class="dwcn-sina-link"
						        href="http://weibo.com/ibmdw/">新浪微博</a></li>
						</ul>
                    </div>
                    <div class="dw-footer-close">
						<ul>
							<li><div class="dw-footer-close-follow-cn"><a href="http://www.ibm.com/developerworks/cn/java/j-lo-groovypackage/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10"/></a></div></li>
						</ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="ibm-footer-module-dw">
	<div class="dw-footer-columns">
		<div class="dw-footer-col-6-1">
			<ul>
				<!--<li><a href="http://www.ibm.com/developerworks/aboutdw/">About</a></li>-->
				<li><a href="https://www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina">帮助</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/author/">联系编辑</a></li>
				<li><a href="https://www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina&start=true">提交内容</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/sitemap/">网站导航</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-2">
			<ul>
				<li><a href="http://www.ibm.com/developerworks/cn/rss/">订阅源</a></li>
				<li><a href="http://www.ibm.com/vrm/newsletter/10104?S_TACT=105AGX52&S_CMP=dwcntop">在线浏览每周时事通讯</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-3">
			<ul>
				<li><a href="https://www.ibm.com/developerworks/community/report?lang=zh">报告滥用</a></li>
				<li><a href="https://www.ibm.com/developerworks/community/terms?lang=zh">使用条款</a></li>
				<li><a href="http://www.ibm.com/privacy/cn/zh/">隐私条约</a></li>
				<li><a href="http://www.ibm.com/ibm/accessibility/cn/">浏览辅助</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-4-cn">
			<ul>
				<li><a href="http://www-900.ibm.com/cn/ai/">IBM 教育学院教育培养计划</a></li>
				<li><a href="http://www.ibm.com/partnerworld/isv/">ISV 资源 (英语)</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-5">
		</div>
		<div class="dw-footer-col-6-6">
		</div>
	</div>
	<!-- Language selector no-script -->
	<noscript>
	<div id="dw-footer-selectlang">
		<h2><a name="SELECTLANG">选择语言：</a></h2>
		<ul>
			<li><a href="http://www.ibm.com/developerworks/">English</a></li>
			<li><a href="http://www.ibm.com/developerworks/cn/">中文</a></li>
			<li><a href="http://www.ibm.com/developerworks/jp/">日本語</a></li>
			<li><a href="http://www.ibm.com/developerworks/ru/">Русский</a></li>
			<li><a href="http://www.ibm.com/developerworks/br/">Português (Brasil)</a></li>
			<li><a href="http://www.ibm.com/developerworks/ssa/">Español</a></li>
			<li><a href="http://www.ibm.com/developerworks/vn/">Việt</a></li>
		</ul>
	</div>
	</noscript>
</div><!-- FOOTER_END -->

 <!-- END_IBM-TOP -->
</div>
 
 <!-- SCRIPTS_INCLUDE_BEGIN -->
<!-- JQuery start -->
<script type="text/javascript" language="JavaScript" src="index_files/jquery.hoverIntent.minified.js"></script>
<script type="text/javascript" language="JavaScript" src="index_files/jquery.cluetip.js"></script>
<!-- xM Masthead/Footer -->
<script src="index_files/jquery.tools.min.js" type="text/javascript">//</script>
<script src="index_files/jquery.jscroll.js" type="text/javascript">//</script>
<script src="index_files/dw_v16.js" type="text/javascript">//</script>
<script src="index_files/flash-detect.js" type="text/javascript">//</script>
<script src="index_files/dwsi.js" type="text/javascript">//</script>
<script type="text/javascript" language="JavaScript" src="index_files/showcomments.js">//</script>
<script language="JavaScript" type="text/javascript">
	// <![CDATA[
 jQuery('threadShow').showComments('95%',5,'nCmts','icomments');
// ]]>
</script>
<script type="text/javascript" language="JavaScript">
	jQuery.noConflict();     
	// Put all your code in your document ready area
	jQuery(document).ready(function(jQuery) {
	// Do jQuery stuff using jQuery 
	jQuery('a.dwauthor').cluetip({
	local: true,
	showTitle: false,
	positionBy: 'bottomTop',
	sticky: true,	
	mouseOutClose: true,
	closeText: '<img src="//dw1.s81c.com/developerworks/js/jquery/cluetip98/i/x.gif" alt="Close" />',
	arrows: false,
	dropShadow: true,
	cluetipClass: 'dwbasic'
	});

	rBHash = {};
	rBHash['viperLang'] = 'zh';
	rBHash['urlLang'] = 'cn';

	// si
	initSI();
	});
</script>
<!-- JQuery end -->
<!-- Overlay js -->
<script language="JavaScript" src="index_files/overlay.js" type="text/javascript"></script><!-- BEGIN: Use this section to set page specific variables for the Unica Page Tag -->
<script language="JavaScript">var NTPT_PGEXTRA="ibmSkillLevel=3&ibmAdoptPhase=651&ibmRole=36&ibmCmaId=845759";</script>
<!--END --><!-- SCRIPTS_INCLUDE_END -->

<div id="ibm-metrics">
<script src="index_files/stats.js" type="text/javascript">//</script>
</div>

</body>
</html>
