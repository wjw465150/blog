<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Groovy解惑-Closure中的owner,this,delegate</title>



<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style>
html,body { 
	/* Default Font */
	font-family: 宋体, Arial, Helvetica, sans-serif;
	font-size: 10pt;
}
</style></head><body>
<div class="postTitle" style="margin-bottom: 10px; white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: bold; font-size: 14px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><a id="viewpost1_TitleUrl" class="postTitle2" style="color: rgb(26, 139, 200); text-decoration: none;" href="http://www.blogjava.net/BlueSUN/archive/2007/12/23/169683.html">Groovy解惑――closure中的owner</a></div>
<p><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">在上篇《</span><a id="viewpost1_TitleUrl" class="postTitle2" style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(26, 139, 200); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; text-decoration: none; letter-spacing: normal; text-indent: 0px;" href="http://www.blogjava.net/BlueSUN/archive/2007/12/22/169580.html">Groovy解惑――closure中的delegate</a><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">》中，我帮大家讲解了delegate是什么以及其作用。</span><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">本篇将讲解一下closure中的owner，以及this,delegate以及owner三者间的关系。</span><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">先让我们来看个例子：</span><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"></p>
<div style="border: 1px solid rgb(204, 204, 204); padding: 4px 5px 4px 4px; white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; width: 809px; background-color: rgb(238, 238, 238); text-indent: 0px;"><span style="color: rgb(0, 0, 255);">class</span><span style="color: rgb(0, 0, 0);">&nbsp;OwnerDemo&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;outerClosure&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;owner&nbsp;of&nbsp;outerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;owner<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;innerClosure&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;owner&nbsp;of&nbsp;innerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;owner&nbsp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;innestClosure&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;owner&nbsp;of&nbsp;innestClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;owner<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;innestClosure()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;innerClosure()<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>def&nbsp;ownerDemo&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">new</span><span style="color: rgb(0, 0, 0);">&nbsp;OwnerDemo()<br>ownerDemo.outerClosure()</span></div>
<p><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">运行结果：</span><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"></p>
<div style="border: 1px solid rgb(204, 204, 204); padding: 4px 5px 4px 4px; white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; width: 809px; background-color: rgb(238, 238, 238); text-indent: 0px;"><span style="color: rgb(0, 0, 0);">the owner of outerClosure: OwnerDemo@eccfe7<br>the 
owner of innerClosure: OwnerDemo$_closure1@4745cf<br>the owner of innestClosure: 
OwnerDemo$_closure1_closure2@109dcbb<br></span></div>
<p><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">注意：OwnerDemo$_closure1指的是outerClosure的类名，而OwnerDemo$_closure1_closure2指的是innerClosure的类名</span><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">通过这个例子，大家就清楚了，</span><b style="font-size: 13px; font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-variant: normal; white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-style: normal; letter-spacing: normal; line-height: 19px; text-indent: 0px;">closure的owner引用的是该closure的‘拥有者’</b><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><font style="white-space: normal; text-transform: none; word-spacing: 0px; font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;" color="#cc0000"><b>那么this, 
delegate以及owner有什么关系呢？<br>隐式变量delegate的默认值为owner，<br>如果closure没有‘嵌套’在其他closure中，那么该closure的owner的值为this；<br>否则该closure的owner引用的是‘直接包含’该closure的closure</b></font><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">让我们用事实来说话吧：</span><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"></p>
<div style="border: 1px solid rgb(204, 204, 204); padding: 4px 5px 4px 4px; white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; width: 809px; background-color: rgb(238, 238, 238); text-indent: 0px;"><span style="color: rgb(0, 0, 255);">class</span><span style="color: rgb(0, 0, 0);">&nbsp;OwnerDemo&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;outerClosure&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;owner&nbsp;of&nbsp;outerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;owner<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;delegate&nbsp;of&nbsp;outerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;delegate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">this&nbsp;in&nbsp;the&nbsp;outerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">this<br>
</span><span style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println ""<br>
</span><span style="color: rgb(0, 0, 255);"><br>
</span><span style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;innerClosure&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;owner&nbsp;of&nbsp;innerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;owner&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;delegate&nbsp;of&nbsp;innerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;delegate&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">this&nbsp;in&nbsp;the&nbsp;innerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">this</span><span style="color: rgb(0, 0, 0);"> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println ""<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;innestClosure&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;owner&nbsp;of&nbsp;innestClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;owner<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">the&nbsp;delegate&nbsp;of&nbsp;innestClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;delegate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">this&nbsp;in&nbsp;the&nbsp;innestClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">this</span><span style="color: rgb(0, 0, 0);"><br></span><span style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println ""<br>
<br>
</span><span style="color: rgb(0, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">innestClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;innestClosure<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;innestClosure()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">innerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;innerClosure<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;innerClosure()<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>def&nbsp;ownerDemo&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">new</span><span style="color: rgb(0, 0, 0);">&nbsp;OwnerDemo()<br>def&nbsp;outerClosure&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;ownerDemo.outerClosure<br>println&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">outerClosure:&nbsp;</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">&nbsp;outerClosure<br>outerClosure()</span></div>
<p><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">运行结果：</span><br style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; text-indent: 0px;"></p>
<div style="border: 1px solid rgb(204, 204, 204); padding: 4px 5px 4px 4px; white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; letter-spacing: normal; width: 809px; background-color: rgb(238, 238, 238); text-indent: 0px;">
  
    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

    
<p style="margin-top: 0pt;">
      <output>
    </output></p>

  outerClosure: <span style="color: rgb(51, 204, 0);">OwnerDemo$_closure1@782bf2</span><br>
the <span style="font-weight: bold;">owner</span> of outerClosure: <span style="color: rgb(255, 102, 102);">OwnerDemo@1402ed2</span><br>
the <span style="font-style: italic; text-decoration: underline;">delegate</span> of outerClosure: <span style="color: rgb(255, 102, 102);">OwnerDemo@1402ed2</span><br>
<span style="text-decoration: underline; font-weight: bold;">this</span> in the outerClosure: <span style="color: rgb(255, 102, 102);">OwnerDemo@1402ed2</span><br>
<br>
innerClosure: <span style="color: rgb(51, 51, 255);">OwnerDemo$_closure1$_closure2@155d945</span><br>
the <span style="font-weight: bold;">owner</span> of innerClosure: <span style="color: rgb(51, 204, 0);">OwnerDemo$_closure1@782bf2</span><br>
the <span style="text-decoration: underline;">delegate</span> of innerClosure: <span style="color: rgb(51, 204, 0);">OwnerDemo$_closure1@782bf2</span><br>
<span style="text-decoration: underline; font-weight: bold;">this</span> in the innerClosure: <span style="color: rgb(255, 102, 102);">OwnerD0emo@1402ed2</span><br>
<br>
innestClosure: OwnerDemo$_closure1$_closure2$_closure3@1335fc5<br>
the <span style="font-weight: bold;">owner</span> of innestClosure: <span style="color: rgb(102, 51, 255);">OwnerDemo$_closure1$_closure2@155d945</span><br>
the <span style="font-style: italic; text-decoration: underline;">delegate</span> of innestClosure: <span style="color: rgb(102, 51, 255);">OwnerDemo$_closure1$_closure2@155d945</span><br>
<span style="text-decoration: underline; font-weight: bold;">this</span> in the innestClosure: <span style="color: rgb(255, 102, 102);">OwnerDemo@1402ed2</span><span style="color: rgb(0, 0, 0);"><br></span></div>
<p><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(75, 75, 75); font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 13px; line-height: 19px; font-size-adjust: none; font-stretch: normal; display: inline ! important; letter-spacing: normal; background-color: rgb(255, 255, 255); text-indent: 0px;">大家可以从其中值的关系看出this, 
delegate以及owner三者的关系与我们之前所说的相符　:)</span></p></body></html>