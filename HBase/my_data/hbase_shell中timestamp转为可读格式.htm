<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>hbase shell中timestamp转为可读格式</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 16px/28px 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; MARGIN: 0px 0px 0.75em; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 1em; -webkit-text-stroke-width: 0px"><SPAN>将hbase 
shell的timestamp转为可读。下面的示例将-ROOT-表的列info:serverstartcode的timestamp和value转成可读格式。</SPAN><SPAN></SPAN></P><PRE class="prettyprint php" style="WORD-WRAP: break-word; BORDER-TOP: 1px solid; BORDER-RIGHT: 1px solid; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; OVERFLOW-Y: auto; BORDER-BOTTOM: 1px solid; TEXT-TRANSFORM: none; WORD-BREAK: break-all; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0.3em; PADDING-TOP: 0.3em; FONT: 14px/1.5em Monaco, Menlo, Consolas, 'Courier New', monospace; PADDING-LEFT: 0.3em; MARGIN: 0px 0px 1.5em; BORDER-LEFT: 1px solid; DISPLAY: block; LETTER-SPACING: normal; PADDING-RIGHT: 0.3em; BACKGROUND-COLOR: rgb(246,246,246); TEXT-INDENT: 0px; border-radius: 4px; -webkit-text-stroke-width: 0px">hbase(main):<SPAN class=number style="COLOR: rgb(0,153,153)">001</SPAN>:<SPAN class=number style="COLOR: rgb(0,153,153)">0</SPAN>&gt; scan <SPAN class=string style="COLOR: rgb(221,17,68)">'-ROOT-'</SPAN>
ROW                        COLUMN+CELL
 .META.,,<SPAN class=number style="COLOR: rgb(0,153,153)">1</SPAN>                 column=info:regioninfo, timestamp=<SPAN class=number style="COLOR: rgb(0,153,153)">1340249081981</SPAN>, value={NAME =&gt; <SPAN class=string style="COLOR: rgb(221,17,68)">'.META.,,
<SPAN class=indent>  </SPAN> 1'</SPAN>, STARTKEY =&gt; <SPAN class=string style="COLOR: rgb(221,17,68)">''</SPAN>, ENDKEY =&gt; <SPAN class=string style="COLOR: rgb(221,17,68)">''</SPAN>, ENCODED =&gt; <SPAN class=number style="COLOR: rgb(0,153,153)">1028785192</SPAN>,}
 .META.,,<SPAN class=number style="COLOR: rgb(0,153,153)">1</SPAN>                 column=info:server, timestamp=<SPAN class=number style="COLOR: rgb(0,153,153)">1341304672637</SPAN>, value=Hadoop46:<SPAN class=number style="COLOR: rgb(0,153,153)">60020</SPAN>
 .META.,,<SPAN class=number style="COLOR: rgb(0,153,153)">1</SPAN>                 column=info:serverstartcode, timestamp=<SPAN class=number style="COLOR: rgb(0,153,153)">1341304672637</SPAN>, value=<SPAN class=number style="COLOR: rgb(0,153,153)">1341301228326</SPAN>
 .META.,,<SPAN class=number style="COLOR: rgb(0,153,153)">1</SPAN>                 column=info:v, timestamp=<SPAN class=number style="COLOR: rgb(0,153,153)">1340249081981</SPAN>, value=\x00\x00
<SPAN class=number style="COLOR: rgb(0,153,153)">1</SPAN> row(s) in <SPAN class=number style="COLOR: rgb(0,153,153)">1.3230</SPAN> seconds

hbase(main):<SPAN class=number style="COLOR: rgb(0,153,153)">002</SPAN>:<SPAN class=number style="COLOR: rgb(0,153,153)">0</SPAN>&gt; import java.util.Date
=&gt; Java::JavaUtil::Date
hbase(main):<SPAN class=number style="COLOR: rgb(0,153,153)">003</SPAN>:<SPAN class=number style="COLOR: rgb(0,153,153)">0</SPAN>&gt; Date.<SPAN class=keyword style="FONT-WEIGHT: bold; COLOR: rgb(51,51,51)">new</SPAN>(<SPAN class=number style="COLOR: rgb(0,153,153)">1341304672637</SPAN>).toString()
=&gt; <SPAN class=string style="COLOR: rgb(221,17,68)">"Tue Jul 03 16:37:52 CST 2012"</SPAN>
hbase(main):<SPAN class=number style="COLOR: rgb(0,153,153)">004</SPAN>:<SPAN class=number style="COLOR: rgb(0,153,153)">0</SPAN>&gt; Date.<SPAN class=keyword style="FONT-WEIGHT: bold; COLOR: rgb(51,51,51)">new</SPAN>(<SPAN class=number style="COLOR: rgb(0,153,153)">1341301228326</SPAN>).toString()
=&gt; <SPAN class=string style="COLOR: rgb(221,17,68)">"Tue Jul 03 15:40:28 CST 2012"</SPAN></PRE>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 16px/28px 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; MARGIN: 0px 0px 0.75em; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 1em; -webkit-text-stroke-width: 0px">在shell中，如果有可读日期，能否转成long类型呢？</P><PRE class="prettyprint php" style="WORD-WRAP: break-word; BORDER-TOP: 1px solid; BORDER-RIGHT: 1px solid; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; OVERFLOW-Y: auto; BORDER-BOTTOM: 1px solid; TEXT-TRANSFORM: none; WORD-BREAK: break-all; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0.3em; PADDING-TOP: 0.3em; FONT: 14px/1.5em Monaco, Menlo, Consolas, 'Courier New', monospace; PADDING-LEFT: 0.3em; MARGIN: 0px 0px 1.5em; BORDER-LEFT: 1px solid; DISPLAY: block; LETTER-SPACING: normal; PADDING-RIGHT: 0.3em; BACKGROUND-COLOR: rgb(246,246,246); TEXT-INDENT: 0px; border-radius: 4px; -webkit-text-stroke-width: 0px">hbase(main):<SPAN class=number style="COLOR: rgb(0,153,153)">005</SPAN>:<SPAN class=number style="COLOR: rgb(0,153,153)">0</SPAN>&gt; import java.text.SimpleDateFormat
=&gt; Java::JavaText::SimpleDateFormat
hbase(main):<SPAN class=number style="COLOR: rgb(0,153,153)">006</SPAN>:<SPAN class=number style="COLOR: rgb(0,153,153)">0</SPAN>&gt; import java.text.ParsePosition
=&gt; Java::JavaText::ParsePosition

hbase(main):<SPAN class=number style="COLOR: rgb(0,153,153)">015</SPAN>:<SPAN class=number style="COLOR: rgb(0,153,153)">0</SPAN>&gt; SimpleDateFormat.<SPAN class=keyword style="FONT-WEIGHT: bold; COLOR: rgb(51,51,51)">new</SPAN>(<SPAN class=string style="COLOR: rgb(221,17,68)">"yy/MM/dd"</SPAN>).parse(<SPAN class=string style="COLOR: rgb(221,17,68)">"12/07/03"</SPAN>,ParsePosition.<SPAN class=keyword style="FONT-WEIGHT: bold; COLOR: rgb(51,51,51)">new</SPAN>(<SPAN class=number style="COLOR: rgb(0,153,153)">0</SPAN>)).getTime()
=&gt; <SPAN class=number style="COLOR: rgb(0,153,153)">1341244800000</SPAN></PRE>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 16px/28px 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; MARGIN: 0px 0px 0.75em; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 1em; -webkit-text-stroke-width: 0px">&nbsp;</P></body>
</html>
