<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Apache+Tomcat负载均衡与群集</title>
<script src="def.js"></script>

<script language=javascript src="message.js" 
type=text/javascript></script>

<script language=javascript src="user_comment.js" 
type=text/javascript></script>

<script language=javascript src="base2.js" 
type=text/javascript></script>

<script language=javascript src="dialog_utf8.js" 
type=text/javascript></script>
<link href="12.css" type=text/css rel=stylesheet><link 
href="group.css" type=text/css rel=stylesheet><link title="RSS 2.0" 
href="rss.php_uid=401086" type=application/rss+xml rel=alternate><link 
title=rsd href="xmlrpc.php_rsd=1" type=application/rsd+xml rel=edituri>
<script>
var myid = "";
function add_flink(){
	if(myid){
		var url='/mod/edit_flink.php?type=addflink&uid=401086&flink=http://411086.blog.51cto.com';
		var ajax = InitAjax1();
		ajax.open("GET", url, true);
		ajax.onreadystatechange = function() {
			if (ajax.readyState == 4 && ajax.status == 200) {
				if(ajax.responseText==""){
					alert("添加成功。");
				}
				if(ajax.responseText=="1"){
				alert("链接指向自己。");
				}
				if(ajax.responseText=="2"){
				alert("友情链接已存在。")
				}
			}
		}
		ajax.send(null);
	}else{

	var refurlk = "http://411086.blog.51cto.com/401086/81418";	

		commentSubmit("",refurlk);
		return false;
	}
	
}
function sendmessage(){

	var refurlk = "http://411086.blog.51cto.com/401086/81418";	

	if(myid){
		return true;
	}else{
		commentSubmit("",refurlk);
		return false;
	}
}
function copylink(ourl){
	if(!ourl){
		var clipBoardContent = "http://411086.blog.51cto.com";
	}else{
		var clipBoardContent = ourl;
	}
	window.clipboardData.setData("Text",clipBoardContent);
	alert("复制成功!");
	return false;
}
function correctPNG() {
if (document.getElementById('blog_touxian'))
{
var img = document.getElementById('blog_touxian');
      var imgName = img.src.toUpperCase()
      var imgID = (img.id) ? "id='" + img.id + "' " : ""
      var imgClass = (img.className) ? "class='" + img.className + "' " : ""
      var imgTitle = (img.title) ? "title='" + img.title + "' " : "title='" + img.alt + "' "
      var imgStyle = "display:inline-block;" + img.style.cssText 
      if (img.align == "left") imgStyle = "float:left;" + imgStyle
      if (img.align == "right") imgStyle = "float:right;" + imgStyle
      if (img.parentElement.href) imgStyle = "cursor:hand;" + imgStyle        
      var strNewHTML = "<span " + imgID + imgClass + imgTitle
         + " style=\"" + "width:" + img.width + "px; height:" + img.height + "px;" + imgStyle + ";"
         + "filter:progid:DXImageTransform.Microsoft.AlphaImageLoader"
         + "(src=\'" + img.src + "\', sizingMethod='scale');\"></span>" ;
      img.outerHTML = strNewHTML;
} 
}
//window.attachEvent("onload", correctPNG);
window.onload=correctPNG;
</script>

<style type=text/css>
#layout_0{
	width:;
	float:left;
}
#layout_1{
	width:;
	float:left;
}
#layout_3{
	width:;
	float:left;
}
.albumalert{
	width:250px;
	height:150px;
	background:#fff;
	border:1px solid #777;
}
.alerttitle{
	text-align:left;
	color:#000;
	padding:6px;
	background-image:url("http://img1.51cto.com/images/quickwindow.jpg");
	background-repeat:repeat-x;
	font-size:14px;
	height:22px;
}
.alertcentent{
	line-height:30px;
}
.alertcentent p{
color:#000;
}

#fixed{position:fixed;top:120px;right:40%;z-index:255;}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>

<div id=wrapper>

<div id=innerWrapper>

<div id=mainWrapper>

<div id=innerMainWrapper>

<div class=mod id=layout_1 style="WIDTH: 74%; FLOAT: right">

<div class=nouse id=face>

<div class=l>

<div class=r>

<div class=c>

<div class=article id=article align=left><!--StartFragment-->
<h1 class=subject style="WORD-WRAP: break-word"><b>Apache+Tomcat负载均衡与群集 </b></h1>
<hr 
style="BORDER-TOP: #eeeeee 1px solid; BORDER-RIGHT: #eeeeee 1px solid; BORDER-BOTTOM: #eeeeee 1px solid; BORDER-LEFT: #eeeeee 1px solid" 
align=center width="94%" size=1>

<div>
<div class=posttime><small>2008-06-12 11:17:40</small></div>
<div style="WIDTH: 94%; PADDING-LEFT: 20px">　标签：<span style="COLOR: #aaaaaa"><A 
class=operlink 
href="tagindex.php_keyword=Apache　Tomcat　负载均衡　群集" 
target=_blank>Apache　Tomcat　负载均衡　群集</a></span>　　　[<a class=operlink 
onClick="javascript:dfanologin();return false;" href="http://411086.blog.51cto.com/401086/81418#">推送到技术圈</a>] 
<br><br></div></div>
<div>
<table id=content style="WIDTH: 650px; TABLE-LAYOUT: fixed" cellspacing=10 
cellpadding=0 width=650 border=0>
<tbody>
<tr>
<td>
<div class=copy><strong>版权声明：</strong>原创作品，允许转载，转载时请务必以超链接形式标明文章 <a 
style="TEXT-DECORATION: underline" href="http://411086.blog.51cto.com/401086/81418" target=_blank>原始出处</a> 
、作者信息和本声明。否则将追究法律责任。<a 
href="http://411086.blog.51cto.com/401086/81418">http://411086.blog.51cto.com/401086/81418</a></div></td></tr>
<tr>
<td>
<div 
style="WORD-WRAP: break-word; FONT-SIZE: 10pt; POSITION: relative; WORD-BREAK: break-all">&nbsp; 

<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">环境：</div>
<ul 
style="MARGIN-BOTTOM: 0in; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=disc>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">操作系统均为：</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">CentOS 5.1</span> 
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">Apache2.X</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">服务器一台：</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">IP</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">地址</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">192.168.232.4</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">；安装路径</span><span 
lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">/usr/local/apache</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">；</span> 
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">Tomcat6</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">服务器一台：</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">IP</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">地址</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">192.168.232.5</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">；安装路径</span><span 
lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">/usr/local/tomcat</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">；</span> 
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">Tomcat6</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">服务器一台：</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">IP</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">地址</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">192.168.232.6</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">；安装路径</span><span 
lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">/usr/local/tomcat</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">；</span></li></ul>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">配置：</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=1><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">Apache</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">安装：</span></li></ol>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#./configure 
--prefix=/usr/local/apache --enable-modules=so --enable-mods-shared=all 
--enable-proxy --enable-proxy-connect --enable-proxy-ftp --enable-proxy-http 
--enable-proxy-ajp --enable-proxy-balancer --enable-rewrite</div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">注释：激活</span><span lang=en-US 
style="FONT-FAMILY: calibri">tomcat</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">集群需要的</span><span lang=en-US 
style="FONT-FAMILY: calibri"> enable-proxy</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">，</span><span lang=en-US 
style="FONT-FAMILY: calibri">enable-proxy-http</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">，</span><span lang=en-US 
style="FONT-FAMILY: calibri">enable-proxy-connect</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">，</span><span lang=en-US 
style="FONT-FAMILY: calibri">enable-proxy-ajp</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">和</span><span lang=en-US 
style="FONT-FAMILY: calibri">enable-proxy-balancer</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">，其中</span><span lang=en-US 
style="FONT-FAMILY: calibri">proxy-ajp</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">和</span><span lang=en-US 
style="FONT-FAMILY: calibri">proxy-balancer</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">必须依赖</span><span lang=en-US 
style="FONT-FAMILY: calibri">proxy</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">，如果是自定义的编译除了以上几个必须的模块外，</span><span lang=en-US 
style="FONT-FAMILY: calibri">mod_status</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">也要编译进去，切记。</span><span lang=en-US 
style="FONT-FAMILY: calibri">enable-proxy-ftp</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">可以不编译。</span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#make;make 
install</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=2><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">制作</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">Apache</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">启动项：</span></li></ol>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#cp 
support/apachectl /etc/rc.d/init.d/httpd</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#vi 
/etc/rc.d/init.d/httpd</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">添加以下内容：（包括＃号）</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in"># 
Startup script for the Apache Web Server</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in"># 
chkconfig: 2345 85 15</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in"># 
description: Apache is a World Wide Web server .It is used to server</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in"># 
HTML files and CGI.</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in"># 
processname: httpd</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in"># 
pidfile: /usr/local/apache/log/httpd.pid</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in"># 
config: /usr/local/apache/conf/httpd.conf</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">增加服务项</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#chkconfig --add 
httpd</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#chmod 755 
/etc/rc.d/init.d/httpd</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#chkconfig --level 
345 httpd on</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=3><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">JDK</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">安装：</span></li></ol>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#chmod a+x 
jdk-6u4-linux-i586-rpm.bin</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#./jdk-6u4-linux-i586-rpm.bin</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=4><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">JAVA</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">环境变量设置：</span></li></ol>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#vi 
/etc/profile</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">在文件最后添加以下内容：</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">JAVA_HOME=/usr/java/jdk1.6.0_04</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">CLASSPATH=.:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">PATH=$JAVA_HOME/bin:$PATH</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">CATALINA_HOME=/usr/local/tomcat</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">export JAVA_HOME 
CLASSPATH PATH CATALINA_HOME </div>
<div 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">执行如下命令使环境变量生效：</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">source 
/etc/profile</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">测试配置是否成功：</div>
<div lang=en-US style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span 
style="FONT-FAMILY: calibri">java </span><span 
style="FONT-FAMILY: simsun">–</span><span 
style="FONT-FAMILY: calibri">version</span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=5><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">Tomcat</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">安装：</span></li></ol>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#wget <a 
href="http://apache.mirror.phpchina.com/tomcat/tomcat-6/v6.0.16/bin/apache-tomcat-6.0.16.tar.gz">[url]http://apache.mirror.phpchina.com/tomcat/tomcat-6/v6.0.16/bin/apache-tomcat-6.0.16.tar.gz[/url]</a></div>
<div lang=en-US style="MARGIN: 0in"><span 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">#tar zxvf </span><span 
style="FONT-SIZE: 9pt; FONT-FAMILY: tahoma; FONT-WEIGHT: bold; COLOR: black">apache-tomcat-6.0.16.tar.gz</span></div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: tahoma; FONT-WEIGHT: bold; COLOR: black; MARGIN: 0in">#mv 
apache-tomcat-6.0.16 /usr/local/tomcat</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: tahoma; COLOR: black; MARGIN: 0in">&nbsp;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=6><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">Tomcat</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">随机启动：</span></li></ol>
<div lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">#vi 
/etc/rc.local</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">添加以下内容：</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: tahoma; FONT-WEIGHT: bold; COLOR: black; MARGIN: 0in">/usr/local/tomcat/bin/startup.sh</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=7><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">tomcat6</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">配置文件</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">server.xml</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">：</span></li></ol>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">把</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;!-- You should 
set jvmRoute to support load-balancing via AJP ie :</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Engine 
name="Standalone" defaultHost="localhost" jvmRoute="<span 
style="FONT-WEIGHT: bold">jvm1</span>"&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">--&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Engine 
name="Catalina" defaultHost="localhost"&gt;</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">改成</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;!-- You should 
set jvmRoute to support load-balancing via AJP ie :</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">--&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Engine 
name="Standalone" defaultHost="localhost" jvmRoute="<span 
style="FONT-WEIGHT: bold">tomcatX</span>"&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;!-- </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Engine 
name="Catalina" defaultHost="localhost"&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">--&gt;</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">说明：</div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">第一台</span><span lang=en-US 
style="FONT-FAMILY: calibri">tomcat</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">就把</span><span lang=en-US 
style="FONT-FAMILY: calibri">jvmRoute="tomcat1"</span></div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">第二台</span><span lang=en-US 
style="FONT-FAMILY: calibri">tomcat</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">就把</span><span lang=en-US 
style="FONT-FAMILY: calibri">jvmRoute="tomcat2"</span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">把</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;!--</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Cluster 
className="org.apache.catalina.ha.tcp.SimpleTcpCluster"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">--&gt;</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">改为</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Cluster 
className="org.apache.catalina.ha.tcp.SimpleTcpCluster"/&gt;</div>
<div style="FONT-SIZE: 10.5pt; FONT-WEIGHT: bold; MARGIN: 0in"><span lang=en-US 
style="FONT-FAMILY: calibri">***</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">群集详细配置</span><span lang=en-US 
style="FONT-FAMILY: calibri">***</span></div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Cluster 
className="org.apache.catalina.ha.tcp.SimpleTcpCluster"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">channelSendOptions="8"&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Manager 
className="org.apache.catalina.ha.session.DeltaManager"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">expireSessionsOnShutdown="false"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">notifyListenersOnReplication="true"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Channel 
className="org.apache.catalina.tribes.group.GroupChannel"&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Membership 
className="org.apache.catalina.tribes.membership.McastService"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">address="228.0.0.4"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">port="45564"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">frequency="500"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">dropTime="3000"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Receiver 
className="org.apache.catalina.tribes.transport.nio.NioReceiver"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">address="auto"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">port="4000"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">autoBind="100"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">selectorTimeout="5000"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">maxThreads="6"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Sender 
className="org.apache.catalina.tribes.transport.ReplicationTransmitter"&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Transport 
className="org.apache.catalina.tribes.transport.nio.PooledParallelSender"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;/Sender&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Interceptor 
className="org.apache.catalina.tribes.group.interceptors.TcpFailureDetector"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Interceptor 
className="org.apache.catalina.tribes.group.interceptors.MessageDispatch15Interceptor"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;/Channel&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Valve 
className="org.apache.catalina.ha.tcp.ReplicationValve"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">filter=""/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Valve 
className="org.apache.catalina.ha.session.JvmRouteBinderValve"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Deployer 
className="org.apache.catalina.ha.deploy.FarmWarDeployer"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">tempDir="/tmp/war-temp/"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">deployDir="/tmp/war-deploy/"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">watchDir="/tmp/war-listen/"</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">watchEnabled="false"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;ClusterListener 
className="org.apache.catalina.ha.session.JvmRouteSessionIDBinderListener"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;ClusterListener 
className="org.apache.catalina.ha.session.ClusterSessionListener"/&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;/Cluster&gt;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=8><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">配置应用的</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">web.xml</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">：</span></li></ol>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">在每个</span><span lang=en-US 
style="FONT-FAMILY: calibri">webapps</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">应用中</span><span lang=en-US 
style="FONT-FAMILY: calibri">,</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">修改配置文件</span><span lang=en-US 
style="FONT-FAMILY: calibri">web.xml</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">文件</span><span lang=zh-CN style="FONT-FAMILY: calibri"> 
</span><span lang=zh-CN style="FONT-FAMILY: 宋体">添加元素</span><span lang=en-US 
style="FONT-FAMILY: calibri">&lt;distributable/&gt; </span></div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">在</span><span lang=en-US 
style="FONT-FAMILY: calibri">web.xml</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">文件中</span><span lang=en-US 
style="FONT-FAMILY: calibri">&lt;web-app&gt;</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">元素下增加以下内容：</span><span lang=zh-CN 
style="FONT-FAMILY: calibri"> </span></div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=en-US 
style="FONT-FAMILY: calibri">&lt;!--</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">此应用将与群集服务器复制</span><span lang=en-US 
style="FONT-FAMILY: calibri">Session--&gt; </span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;distributable/&gt; 
</div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">具体修改如下</span><span lang=en-US 
style="FONT-FAMILY: calibri">: </span></div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">修改前</span><span lang=en-US 
style="FONT-FAMILY: calibri">: </span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;?xml 
version="1.0" encoding="ISO-8859-1"?&gt; </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;web-app 
xmlns="<a 
href="http://java.sun.com/xml/ns/javaee">[url]http://java.sun.com/xml/ns/javaee[/url]</a>" 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
<a 
href="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">[url]http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd[/url]</a>" 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">version="2.5"&gt; 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;/web-app&gt; 
</div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">修改后</span><span lang=en-US 
style="FONT-FAMILY: calibri">: </span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;?xml 
version="1.0" encoding="ISO-8859-1"?&gt; </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;web-app 
xmlns="<a 
href="http://java.sun.com/xml/ns/javaee">[url]http://java.sun.com/xml/ns/javaee[/url]</a>" 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
<a 
href="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">[url]http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd[/url]</a>" 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">version="2.5"&gt; 
</div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=en-US 
style="FONT-FAMILY: calibri">&lt;!--</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">此应用将与群集服务器复制</span><span lang=en-US 
style="FONT-FAMILY: calibri">Session--&gt; </span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;distributable/&gt; 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;/web-app&gt;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=9><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">配置</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">apache</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">的</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">ajp</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">负载均衡功能：</span></li></ol>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">确保将以下</span><span lang=en-US 
style="FONT-FAMILY: calibri">Module</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">的注释去掉</span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">LoadModule 
proxy_module modules/mod_proxy.so </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">LoadModule 
proxy_connect_module modules/mod_proxy_connect.so </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">LoadModule 
proxy_ftp_module modules/mod_proxy_ftp.so </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">LoadModule 
proxy_http_module modules/mod_proxy_http.so </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">LoadModule 
proxy_ajp_module modules/mod_proxy_ajp.so </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">LoadModule 
proxy_balancer_module modules/mod_proxy_balancer.so </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">LoadModule 
status_module modules/mod_status.so</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">增加以下内容：</div>
<div style="FONT-SIZE: 9pt; FONT-FAMILY: ; MARGIN: 0in" courier new??># 
Proxypass Config</div>
<div lang=en-US style="FONT-SIZE: 9pt; FONT-FAMILY: ; MARGIN: 0in" courier 
new??>Include conf/extra/httpd-modproxy.conf</div>
<div style="MARGIN: 0in"><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">建立文件</span><span lang=en-US 
style="FONT-SIZE: 9pt; FONT-FAMILY: " courier 
new??>httpd-modproxy.conf</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">输入内容：</span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Location 
/server-status&gt; </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">SetHandler 
server-status </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">Order Deny,Allow 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">Deny from all 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">Allow from all 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;/Location&gt; 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Location 
/balancer-manager&gt; </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">SetHandler 
balancer-manager </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">Order Deny,Allow 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">Deny from all 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">Allow from all 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;/Location&gt; 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">ProxyRequests Off 
</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">ProxyPass <span 
style="FONT-WEIGHT: bold">/</span> balancer://tomcatcluster 
stickysession=jsessionid nofailover=On</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;Proxy 
balancer://tomcatcluster&gt; </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">BalancerMember <a 
href="http://192.168.232.5:8080/">[url]http://192.168.232.5:8080[/url]</a> 
loadfactor=1 </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">BalancerMember <a 
href="http://192.168.232.6:8080/">[url]http://192.168.232.6:8080[/url]</a> 
loadfactor=2 </div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&lt;/Proxy&gt;</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">注释：</div>
<ul 
style="MARGIN-BOTTOM: 0in; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=disc>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">ProxyRequests Off 
</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">表示启用反向代理，必须开启；</span> 
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">ProxyPass</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">为代理转发的</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">Url,</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">即将所有访问</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">/</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">的请求转发到群集</span><span 
lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">balancer://tomcatcluster</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">，这里为</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">/</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">即将所有访问</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">/</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">的请求转发到群集</span><span 
lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">balancer://tomcatcluster</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">的</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">/test</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">目录；</span> 
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><span 
lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">BalancerMember</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">为群集的成员</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">,</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">即群集服务器</span><span 
lang=en-US style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">1</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">或</span><span lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">2,</span><span lang=zh-CN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">负载均衡服务器会根据均衡规则来将请求转发给</span><span 
lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">BalancerMember</span><span 
lang=zh-CN style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">；</span></li></ul>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; MARGIN: 0in">&nbsp;</div>
<ol 
style="MARGIN-BOTTOM: 0in; FONT-SIZE: 10.5pt; FONT-FAMILY: simsun; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=1>
<li style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px" 
value=10><span 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">调试负载均衡集群系统：</span></li></ol>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">访问</span><span lang=en-US 
style="FONT-FAMILY: calibri">apache</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">服务器的</span><span lang=en-US 
style="FONT-FAMILY: calibri">web</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">服务：</span><a 
href="http://192.168.232.4/balancer-manager"><span lang=en-US 
style="FONT-FAMILY: calibri">[url]http://192.168.232.4/balancer-manager[/url]</span></a></div>
<div style="FONT-SIZE: 10.5pt; MARGIN: 0in"><span lang=zh-CN 
style="FONT-FAMILY: 宋体">如果显示负载均衡有关信息则说明成功了，接着可以访问</span><a 
href="http://192.168.232.4/即访问到了tomcat的应用"><span lang=en-US 
style="FONT-FAMILY: calibri">[url]http://192.168.232.4/[/url]</span><span 
lang=zh-CN style="FONT-FAMILY: 宋体">即访问到了</span><span lang=en-US 
style="FONT-FAMILY: calibri">tomcat</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">的应用</span></a></div>
<div style="FONT-SIZE: 10.5pt; FONT-WEIGHT: bold; MARGIN: 0in"><span lang=en-US 
style="FONT-FAMILY: calibri">***</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">必须先启动</span><span lang=en-US 
style="FONT-FAMILY: calibri">Tomcat</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">服务再启动</span><span lang=en-US 
style="FONT-FAMILY: calibri">Apache</span><span lang=zh-CN 
style="FONT-FAMILY: 宋体">服务！</span><span lang=en-US 
style="FONT-FAMILY: calibri">***</span></div>
<div lang=en-US 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri; FONT-WEIGHT: bold; MARGIN: 0in">&nbsp;</div>
<div style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; MARGIN: 0in">参考文档：</div>
<ul 
style="MARGIN-BOTTOM: 0in; unicode-bidi: embed; DIRECTION: ltr; MARGIN-LEFT: 0.75in; MARGIN-TOP: 0in" 
type=disc>
<li lang=en-US 
style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><a 
href="http://tomcat.apache.org/tomcat-6.0-doc/cluster-howto.html"><span 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">[url]http://tomcat.apache.org/tomcat-6.0-doc/cluster-howto.html[/url]</span></a> 

<li lang=en-US 
style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><a 
href="http://tomcat.apache.org/tomcat-6.0-doc/balancer-howto.html"><span 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">[url]http://tomcat.apache.org/tomcat-6.0-doc/balancer-howto.html[/url]</span></a> 

<li lang=en-US 
style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><a 
href="http://man.chinaunix.net/newsoft/ApacheMenual_CN_2.2new/mod/mod_proxy.html"><span 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">[url]http://man.chinaunix.net/newsoft/ApacheMenual_CN_2.2new/mod/mod_proxy.html[/url]</span></a> 

<li lang=en-US 
style="MARGIN-BOTTOM: 0px; VERTICAL-ALIGN: middle; MARGIN-TOP: 0px"><a 
href="http://man.chinaunix.net/newsoft/ApacheMenual_CN_2.2new/mod/mod_proxy_balancer.html[/url]" 
       ><span 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: calibri">[url]http://man.chinaunix.net/newsoft/ApacheMenual_CN_2.2new/mod/mod_proxy_balancer.html[/url]</span></a></li></ul></div></td></tr></tbody></table></div><!--EndFragment--></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<P>&nbsp;</P>
<P>&nbsp;</P>
</body>
</html>