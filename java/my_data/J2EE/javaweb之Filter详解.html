<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <title>javaweb之Filter详解</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1560"/>

<div><div><br/><div style="font-size: 16px"><div><div style="font-size:12px;font-family:Arial, Console, Verdana, 'Courier New';background:url(http://static.blog.csdn.net/skin/dark1/images/body_bg.jpg) 50% 0% repeat;"><div><div style="text-align:left;"><div style="overflow:hidden;"><div style="background:rgb(255, 255, 255);"><div>
    <div style="display:block;margin:5px 0px;color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';">   
         <span style="display:inline-block;width:19px;height:19px;margin:0px 2px 0px 0px;vertical-align:middle;background:url(http://static.blog.csdn.net/images/ico_Original.gif) 0px 0px no-repeat;"></span>


    <h1 style="margin:0px;padding:0px;display:inline;font-style:normal;font-variant:normal;font-weight:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';vertical-align:middle;">
        <span><a href="http://blog.csdn.net/chenshufei2/article/details/8091908" style="color:rgb(0, 0, 0);text-decoration:none;">
        javaweb之Filter详解
        </a></span>
    </h1>
<span style="color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

    <div style="padding:5px 0px;color:rgb(153, 153, 153);font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:24px;font-family:Arial;text-align:right;">
        <span style="margin:0px 5px;float:left;">
        分类：
            <a href="http://blog.csdn.net/chenshufei2/article/category/1239279" style="color:rgb(202, 0, 0);text-decoration:none;">javaweb</a> 
        </span>
    <span style="margin:0px 5px 0px 0px;">2012-10-20 00:40</span>
    <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_view.png) 0% 50% no-repeat;" title="阅读次数">1854人阅读</span>
    <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_comm.png) 0% 50% no-repeat;" title="评论次数"><a href="http://blog.csdn.net/chenshufei2/article/details/8091908#comments" style="color:rgb(202, 0, 0);text-decoration:none;">评论</a>(0)</span>
    <span style="margin:0px 5px;"><a href="#" style="color:rgb(202, 0, 0);text-decoration:none;" title="收藏">收藏</a></span>
    <span style="margin:0px 5px;"><a href="http://blog.csdn.net/chenshufei2/article/details/8091908#report" style="color:rgb(202, 0, 0);text-decoration:none;" title="举报">举报</a></span>
    
</div>
<div style="margin:10px 0px;"><a href="http://www.csdn.net/tag/filter" style="color:rgb(202, 0, 0);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">filter</a><a href="http://www.csdn.net/tag/servlet" style="color:rgb(202, 0, 0);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">servlet</a><a href="http://www.csdn.net/tag/include" style="color:rgb(202, 0, 0);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">include</a><a href="http://www.csdn.net/tag/web%e6%9c%8d%e5%8a%a1" style="color:rgb(202, 0, 0);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">web服务</a><a href="http://www.csdn.net/tag/web" style="color:rgb(202, 0, 0);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">web</a><a href="http://www.csdn.net/tag/web%e5%bc%80%e5%8f%91" style="color:rgb(202, 0, 0);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">web开发</a></div>

  
    
<div style="margin:20px 0px 0px;font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:26px;font-family:Arial;">

<p style="margin:0px;padding:0px;">一、概念：</p>
<p style="margin:0px;padding:0px;">Filter<span style="font-family:宋体;">也称之为过滤器，它是</span><span style="font-family:Calibri;">Servlet</span><span style="font-family:宋体;">技术中比较激动人心的技术，</span><span style="font-family:Calibri;">WEB</span><span style="font-family:宋体;">开发人员</span><span style="color:rgb(0,0,255);">通过<span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">技术，对</span><span style="font-family:Calibri;">web</span><span style="font-family:宋体;">服务器管理的所有</span><span style="font-family:Calibri;">web</span><span style="font-family:宋体;">资源：例如</span><span style="font-family:Calibri;">Jsp, Servlet, </span><span style="font-family:宋体;">静态图片文件或静态 </span><span style="font-family:Calibri;">html </span><span style="font-family:宋体;">文件等进行拦截，从而实现一些特殊的功能。例如实现</span><span style="font-family:Calibri;">URL</span><span style="font-family:宋体;">级别的权限访问控制、过滤敏感词汇、压缩响应信息等一些高级功能</span></span>。</p>
<p style="margin:0px;padding:0px;"><img src="javaweb之Filter详解_files/1350665050_5895.jpg" type="image/jpeg" height="268" style="border:none;max-width:100%;" width="568"/><br/>
</p>
<p style="margin:0px;padding:0px;">二、<span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">简介</span></p>
<p style="margin:0px;padding:0px;">Servlet API<span style="font-family:宋体;">中提供了一个</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">接口，开发</span><span style="font-family:Calibri;">web</span><span style="font-family:宋体;">应用时，如果</span><span style="color:rgb(0,0,255);">编写的<span style="font-family:Calibri;">Java</span><span style="font-family:宋体;">类实现了这个接口，则把这个</span><span style="font-family:Calibri;">java</span><span style="font-family:宋体;">类称之为过滤器</span><span style="font-family:Calibri;">Filter</span></span>。通过<span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">技术，开发人员可以实现用户在访问某个目标资源之前，对访问的请求和响应进行拦截。</span><span style="color:rgb(0,0,255);">简单说，就是可以实现<span style="font-family:Calibri;">web</span><span style="font-family:宋体;">容器对某资源的访问前截获进行相关的处理，还可以在某资源向</span><span style="font-family:Calibri;">web</span><span style="font-family:宋体;">容器返回响应前进行截获进行处理。</span></span></p>
<p style="margin:0px;padding:0px;">三、快速入门</p>
<p style="margin:0px;padding:0px;">1<span style="font-family:宋体;">、新建一个类，实现</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">接口</span></p>
<p style="margin:0px;padding:0px;">2<span style="font-family:宋体;">、实现</span><span style="font-family:Calibri;">doFilter()</span><span style="font-family:宋体;">方法，打印一句话，来证明能够进行拦截</span></p>
<p style="margin:0px;padding:0px;">3<span style="font-family:宋体;">、在</span><span style="font-family:Calibri;">web.xml</span><span style="font-family:宋体;">中进行配置（参照</span><span style="font-family:Calibri;">Servlet</span><span style="font-family:宋体;">配置）</span></p>
<p style="margin:0px;padding:0px;">4<span style="font-family:宋体;">、访问一个页面，看看能不能拦截</span></p>
<p style="margin:0px;padding:0px;"><span style="font-family:宋体;">1&gt;</span></p>
<div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;background-color:rgb(231, 229, 220);"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);"><b>[java]</b> <a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(160, 160, 160);text-decoration:none;border:none;padding:1px;margin:0px;background:none;font-size:9px;margin-right:10px;background-color:inherit;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);" title="view plain">view plain</a><a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(160, 160, 160);text-decoration:none;border:none;padding:1px;margin:0px;background:none;font-size:9px;margin-right:10px;background-color:inherit;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);" title="copy">copy</a><div style="position:absolute;left:715px;top:1083px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">package</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> com.test.filter;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.IOException;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> javax.servlet.Filter;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> javax.servlet.FilterChain;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> javax.servlet.FilterConfig;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> javax.servlet.ServletException;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> javax.servlet.ServletRequest;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> javax.servlet.ServletResponse;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Demo1Filter </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">implements</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Filter {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FilterConfig filterConfig;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> doFilter(ServletRequest request, ServletResponse response,  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            FilterChain chain) <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException, ServletException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;Demo1过滤前&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(filterConfig.getInitParameter(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;param1&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">));  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        chain.doFilter(request, response);<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//放行。让其走到下个链或目标资源中</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;Demo1过滤后&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> init(FilterConfig filterConfig) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ServletException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;初始化了&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.filterConfig = filterConfig;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> destroy() {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;销毁了&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div>
<p style="margin:0px;padding:0px;"></p>
<p style="margin:0px;padding:0px;">2&gt;<span style="font-family:宋体;">在</span><span style="font-family:Calibri;">web.xml</span><span style="font-family:宋体;">中进行配置</span></p>
<div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;background-color:rgb(231, 229, 220);"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);"><b>[html]</b> <a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(160, 160, 160);text-decoration:none;border:none;padding:1px;margin:0px;background:none;font-size:9px;margin-right:10px;background-color:inherit;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);" title="view plain">view plain</a><a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(160, 160, 160);text-decoration:none;border:none;padding:1px;margin:0px;background:none;font-size:9px;margin-right:10px;background-color:inherit;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);" title="copy">copy</a><div style="position:absolute;left:715px;top:1701px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter-name</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">Demo1Filter</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter-name</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter-class</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">com.itheima.filter.Demo1Filter</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter-class</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">init-param</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">param-name</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">param1</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">param-name</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">param-value</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">value在这里呢</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">param-value</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">init-param</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter-mapping</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter-name</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">Demo1Filter</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter-name</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">url-pattern</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">/*</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">url-pattern</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">dispatcher</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">REQUEST</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">dispatcher</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">&lt;!-- 没有配置dispatcher就是默认request方式的 --&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">dispatcher</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">FORWARD</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">dispatcher</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">dispatcher</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">ERROR</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">dispatcher</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:inherit;line-height:150%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">dispatcher</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">INCLUDE</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">dispatcher</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&lt;/</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">filter-mapping</span><span style="margin:0px;padding:0px;border:none;color:rgb(153, 51, 0);background-color:inherit;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li></ol></div><br/>
<div>
<p style="margin:0px;padding:0px;">四、<span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">的应用场景</span></p>
<p style="margin:0px;padding:0px;">通过对<span style="font-family:Calibri;">filter</span><span style="font-family:宋体;">过滤器的了解，可以得知在以下三种情况下可以做些处理：</span></p>
<p style="margin:0px;padding:0px;">1&gt; <span style="font-family:宋体;">通过控制对</span><span style="font-family:Calibri;">chain.doFilter</span><span style="font-family:宋体;">的方法的调用，来决定是否需要访问目标资源。</span></p>
<p style="margin:0px;padding:0px;"><span style="color:rgb(0,0,255);">比如，可以在用户权限验证等等。判断用户是否有访问某些资源的权限，有权限放行，没权限不执行<span style="font-family:Calibri;">chain.doFilter</span><span style="font-family:宋体;">方法。</span></span></p>
<p style="margin:0px;padding:0px;">2&gt; <span style="font-family:宋体;">通过在调用</span><span style="font-family:Calibri;">chain.doFilter</span><span style="font-family:宋体;">方法之前，做些处理来达到某些目的。</span></p>
<p style="margin:0px;padding:0px;"><span style="color:rgb(0,0,255);">比如，解决中文乱码的问题等等。可以在<span style="font-family:Calibri;">doFilter</span><span style="font-family:宋体;">方法前，执行设置请求编码与响应的编码。甚至可以对</span><span style="font-family:Calibri;">request</span><span style="font-family:宋体;">接口进行封装装饰来处理</span><span style="font-family:Calibri;">get</span><span style="font-family:宋体;">请求方式的中文乱码问题</span><span style="font-family:Calibri;">(</span><span style="font-family:宋体;">重写相应的</span><span style="font-family:Calibri;">request.getParameter</span><span style="font-family:宋体;">方法</span><span style="font-family:Calibri;">)</span><span style="font-family:宋体;">。</span></span></p>
<p style="margin:0px;padding:0px;">3&gt; <span style="font-family:宋体;">通过在调用</span><span style="font-family:Calibri;">chain.doFilter</span><span style="font-family:宋体;">方法之后，做些处理来达到某些目的。</span></p>
<p style="margin:0px;padding:0px;"><span style="color:rgb(0,0,255);">比如对整个<span style="font-family:Calibri;">web</span><span style="font-family:宋体;">网站进行压缩。在调用</span><span style="font-family:Calibri;">chain.doFilter</span><span style="font-family:宋体;">方法之前用类</span><span style="font-family:Calibri;">A</span><span style="font-family:宋体;">对</span><span style="font-family:Calibri;">response</span><span style="font-family:宋体;">对象进行封装装饰，重写</span><span style="font-family:Calibri;">getOutputStream</span><span style="font-family:宋体;">和重写</span><span style="font-family:Calibri;">getWriter</span><span style="font-family:宋体;">方法。在类</span><span style="font-family:Calibri;">A</span><span style="font-family:宋体;">内部中，将输出内容缓存进</span><span style="font-family:Calibri;">ByteArrayOutputStream</span><span style="font-family:宋体;">流中，然后在</span><span style="font-family:Calibri;">chain.doFilter</span><span style="font-family:宋体;">方法执行后，获取类</span><span style="font-family:Calibri;">A</span><span style="font-family:宋体;">中</span><span style="font-family:Calibri;">ByteArrayOutputStream</span><span style="font-family:宋体;">流缓存数据，用</span><span style="font-family:Calibri;">GZIPOutputStream</span><span style="font-family:宋体;">流进行压缩下。</span></span></p>
<p style="margin:0px;padding:0px;">五、<span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">实现拦截的原理</span></p>
<p style="margin:0px;padding:0px;">Filter<span style="font-family:宋体;">接口中有一个</span><span style="font-family:Calibri;">doFilter</span><span style="font-family:宋体;">方法，当开发人员编写好</span><span style="font-family:Calibri;">Filter</span>类实现<span style="font-family:Calibri;">doFilter</span><span style="font-family:宋体;">方法</span>，并配置对哪个<span style="font-family:Calibri;">web</span><span style="font-family:宋体;">资源进行拦截后，</span><span style="font-family:Calibri;">WEB</span><span style="font-family:宋体;">服务器每次在调用</span><span style="font-family:Calibri;">web</span><span style="font-family:宋体;">资源的</span><span style="font-family:Calibri;">service</span><span style="font-family:宋体;">方法之前</span>(<span style="font-family:宋体;">服务器内部对资源的访问机制决定的</span><span style="font-family:Calibri;">)</span>，都会先调用一下<span style="font-family:Calibri;">filter</span><span style="font-family:宋体;">的</span><span style="font-family:Calibri;">doFilter</span><span style="font-family:宋体;">方法</span>。</p>
<p style="margin:0px;padding:0px;">六、<span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">生命周期</span></p>
<p style="margin:0px;padding:0px;">和<span style="font-family:Calibri;">Servlet</span><span style="font-family:宋体;">一样</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">的创建和销毁也是由</span><span style="font-family:Calibri;">WEB</span><span style="font-family:宋体;">服务器负责。不过与</span><span style="font-family:Calibri;">Servlet</span><span style="font-family:宋体;">区别的是，它是</span><span style="color:rgb(0,0,255);">1&gt;<span style="font-family:宋体;">在应用启动的时候就进行装载</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">类</span></span>(<span style="font-family:宋体;">与</span><span style="font-family:Calibri;">Servlet</span><span style="font-family:宋体;">的</span><span style="color:rgb(255,0,0);">load-on-startup</span><span style="color:rgb(255,0,0);">配置效果相同</span>)<span style="font-family:宋体;">。</span><span style="color:rgb(0,0,255);">2&gt;<span style="font-family:宋体;">容器创建好</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">对象实例后，调用</span><span style="font-family:Calibri;">init()</span><span style="font-family:宋体;">方法。</span></span>接着被<span style="font-family:Calibri;">Web</span><span style="font-family:宋体;">容器保存进应用级的集合容器中去了等待着，用户访问资源。</span><span style="color:rgb(0,0,255);">3&gt;<span style="font-family:宋体;">当用户访问的资源正好被</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">的</span><span style="font-family:Calibri;">url-pattern</span><span style="font-family:宋体;">拦截时，容器会取出</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">类调用</span><span style="font-family:Calibri;">doFilter</span><span style="font-family:宋体;">方法，下次或多次访问被拦截的资源时，</span><span style="font-family:Calibri;">Web</span><span style="font-family:宋体;">容器会直接取出指定</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">对象实例调用</span><span style="font-family:Calibri;">doFilter</span><span style="font-family:宋体;">方法</span></span>(Filter<span style="font-family:宋体;">对象常驻留</span><span style="font-family:Calibri;">Web</span><span style="font-family:宋体;">容器了</span><span style="font-family:Calibri;">)</span><span style="font-family:宋体;">。</span><span style="color:rgb(0,0,255);">4&gt;<span style="font-family:宋体;">当</span></span><span style="color:rgb(0,0,255);">应用服务被停止</span><span style="color:rgb(0,0,255);">或重新装载了，则会执行</span><span style="color:rgb(0,0,255);">Filter<span style="font-family:宋体;">的</span><span style="font-family:Calibri;">destroy</span><span style="font-family:宋体;">方法，</span><span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">对象销毁。</span></span></p>
<p style="margin:0px;padding:0px;"><span style="color:rgb(0,0,255);">注意：<span style="font-family:Calibri;">init</span><span style="font-family:宋体;">方法与</span><span style="font-family:Calibri;">destroy</span><span style="font-family:宋体;">方法只会直接一次。</span></span></p>
<p style="margin:0px;padding:0px;">七、<span style="font-family:Calibri;">Filter</span><span style="font-family:宋体;">部署应用注意事项</span></p>
<p style="margin:0px;padding:0px;">1&gt; filter-mapping标签中<span style="font-family:Calibri;">servlet-name</span><span style="font-family:宋体;">与</span><span style="font-family:Calibri;">url-pattern</span><span style="font-family:宋体;">。</span></p>
<p style="margin:0px;padding:0px;">Filter<span style="font-family:宋体;">不仅可以通过</span><span style="font-family:Calibri;">url-pattern</span><span style="font-family:宋体;">来指定拦截哪些</span><span style="font-family:Calibri;">url</span><span style="font-family:宋体;">匹配的资源。而且还可以通过</span><span style="font-family:Calibri;">servlet-name</span><span style="font-family:宋体;">来指定拦截哪个指定的</span><span style="font-family:Calibri;">servlet(</span><span style="font-family:宋体;">专门为某个</span><span style="font-family:Calibri;">servlet</span><span style="font-family:宋体;">服务了</span><span style="font-family:Calibri;">,servlet-name</span><span style="font-family:宋体;">对应</span><span style="font-family:Calibri;">Servlet</span><span style="font-family:宋体;">的相关配置</span><span style="font-family:Calibri;">)</span><span style="font-family:宋体;">。</span></p>
<p style="margin:0px;padding:0px;">2&gt; filter-mapping标签中<span style="font-family:Calibri;">dispatcher</span><span style="font-family:宋体;">。</span></p>
<p style="margin:0px;padding:0px;">指定过滤器所拦截的资源被 <span style="font-family:Calibri;">Servlet </span><span style="font-family:宋体;">容器调用的方式，可以是</span><span style="font-family:Calibri;">REQUEST,INCLUDE,FORWARD</span><span style="font-family:宋体;">和</span><span style="font-family:Calibri;">ERROR</span><span style="font-family:宋体;">之一，默认</span><span style="font-family:Calibri;">REQUEST</span><span style="font-family:宋体;">。用户可以设置多个</span><span style="font-family:Calibri;">&lt;dispatcher&gt; </span><span style="font-family:宋体;">子元素用来指定 </span><span style="font-family:Calibri;">Filter </span><span style="font-family:宋体;">对资源的多种调用方式进行拦截。</span></p>
<p style="margin:0px;padding:0px;">REQUEST<span style="font-family:宋体;">：</span></p>
<p style="margin:0px;padding:0px;">当用户直接访问页面时，<span style="font-family:Calibri;">Web</span><span style="font-family:宋体;">容器将会调用过滤器。如果目标资源是通过</span><span style="font-family:Calibri;">RequestDispatcher</span><span style="font-family:宋体;">的</span><span style="font-family:Calibri;">include()</span><span style="font-family:宋体;">或</span><span style="font-family:Calibri;">forward()</span><span style="font-family:宋体;">方法访问或</span><span style="font-family:Calibri;">ERROR</span><span style="font-family:宋体;">情况时，那么该过滤器就不会被调用。</span></p>
<p style="margin:0px;padding:0px;"></p>
<p style="margin:0px;padding:0px;">INCLUDE<span style="font-family:宋体;">：</span></p>
<p style="margin:0px;padding:0px;">如果目标资源是通过<span style="font-family:Calibri;">RequestDispatcher</span><span style="font-family:宋体;">的</span><span style="font-family:Calibri;">include()</span><span style="font-family:宋体;">方法访问时，那么该过滤器将被调用。除此之外，该过滤器不会被调用。</span></p>
<p style="margin:0px;padding:0px;"></p>
<p style="margin:0px;padding:0px;">FORWARD<span style="font-family:宋体;">：</span></p>
<p style="margin:0px;padding:0px;">如果目标资源是通过<span style="font-family:Calibri;">RequestDispatcher</span><span style="font-family:宋体;">的</span><span style="font-family:Calibri;">forward()</span><span style="font-family:宋体;">方法访问时，那么该过滤器将被调用，除此之外，该过滤器不会被调用。</span></p>
<p style="margin:0px;padding:0px;"></p>
<p style="margin:0px;padding:0px;">ERROR<span style="font-family:宋体;">：</span></p>
<p style="margin:0px;padding:0px;">如若在<span style="font-family:Calibri;">A.jsp</span><span style="font-family:宋体;">页面</span><span style="font-family:Calibri;">page</span><span style="font-family:宋体;">指令中指定了</span><span style="font-family:Calibri;">error</span><span style="font-family:宋体;">属性</span><span style="font-family:Calibri;">=examError.jsp</span><span style="font-family:宋体;">，那么</span><span style="font-family:Calibri;">A.jsp</span><span style="font-family:宋体;">中若出现了异常，会跳转到</span><span style="font-family:Calibri;">examError.jsp</span><span style="font-family:宋体;">中处理。而在跳转到</span><span style="font-family:Calibri;">examError.jsp</span><span style="font-family:宋体;">时，若过滤器配置了</span><span style="font-family:Calibri;">ERROR</span><span style="font-family:宋体;">的</span><span style="font-family:Calibri;">dispather</span><span style="font-family:宋体;">那么则会拦截，否则不会拦截。</span></p>
</div>
<br/>

</div>






<div style="zoom:1;float:right;">
<a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(51, 51, 51);text-decoration:none;background-image:url('http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png') !important;background-position:0 0 !important;float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-repeat:no-repeat;"></a>
<a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(202, 0, 0);text-decoration:none;background-position:0 -52px !important;float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png);background-repeat:no-repeat;" title="分享到QQ空间"></a>
<a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(202, 0, 0);text-decoration:none;background-position:0 -104px !important;float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png);background-repeat:no-repeat;" title="分享到新浪微博"></a>
<a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(202, 0, 0);text-decoration:none;background-position:0 -260px !important;float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png);background-repeat:no-repeat;" title="分享到腾讯微博"></a>
<a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(202, 0, 0);text-decoration:none;background-position:0 -208px !important;float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png);background-repeat:no-repeat;" title="分享到人人网"></a>
<a href="http://blog.csdn.net/chenshufei2/article/details/8091908#" style="color:rgb(202, 0, 0);text-decoration:none;float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png);background-repeat:no-repeat;background-position:0 -1612px !important;" title="分享到微信"></a>
<span style="visibility:hidden;display:block;height:0px;clear:both;">.</span></div>




<ul style="display:block;color:rgb(102, 102, 102);font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;clear:both;float:left;margin:0px 0px 5px;padding:10px 0px 0px;">
            <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="display:block;float:left;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);font-size:14px;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/dark1/images/blog-page-arr.png);background-position:9px 8px;background-repeat:no-repeat;">上一篇</span><a href="http://blog.csdn.net/chenshufei2/article/details/8091903" style="color:rgb(51, 51, 51);text-decoration:none;display:block;float:left;font-size:14px;">javaweb监听器详解</a></li>
            <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="display:block;float:left;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);font-size:14px;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/dark1/images/blog-page-arr.png);background-position:9px -22px;background-repeat:no-repeat;">下一篇</span><a href="http://blog.csdn.net/chenshufei2/article/details/8093942" style="color:rgb(51, 51, 51);text-decoration:none;display:block;float:left;font-size:14px;">那些年javaweb自定义标签详解</a></li>
<span style="color:rgb(102, 102, 102);font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;display:block;height:0px;clear:both;visibility:hidden;">.</span></ul>








        <div style="display:block;clear:both;width:182px;margin:0px auto;padding:30px 0px 15px;text-align:center;">
            <dl style="display:inline-block;float:left;width:72px;height:72px;overflow:hidden;margin:0px 2px;text-align:center;background:rgb(153, 153, 153);color:rgb(255, 255, 255);cursor:pointer;">
                <dt style="margin:0px;padding:12px 0px 3px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-size:27px;line-height:30px;font-family:'Microsoft YaHei';">顶</dt>
                <dd style="margin:0px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:22px;font-family:Arial;">1</dd>
            </dl>
            <dl style="display:inline-block;float:left;width:72px;height:72px;overflow:hidden;margin:0px 2px;text-align:center;background:rgb(153, 153, 153);color:rgb(255, 255, 255);cursor:pointer;">
                <dt style="margin:0px;padding:12px 0px 3px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-size:27px;line-height:30px;font-family:'Microsoft YaHei';">踩</dt>
                <dd style="margin:0px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:22px;font-family:Arial;">2</dd>
            </dl>
        <span style="text-align:center;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
</div></div></div></div></div></div></div></div><br/></div>
</div></body></html>