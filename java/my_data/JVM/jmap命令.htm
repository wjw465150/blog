<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>jmap命令</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style>
html,body { 
	/* Default Font */
	font-family: 宋体, Arial, Helvetica, sans-serif;
	font-size: 10pt;
}
</style>

</head>

<body>
<H2 
style="FONT-FAMILY: Arial; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; FONT-STYLE: normal; TEXT-ALIGN: left; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; LINE-HEIGHT: 26px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: 黑体; FONT-WEIGHT: bold">1<SPAN 
style="FONT-FAMILY: 黑体">、介绍</SPAN></SPAN></H2>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">打印出某个<SPAN 
style="FONT-FAMILY: 'Times New Roman'">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">进程（使用</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">pid</SPAN><SPAN 
style="FONT-FAMILY: 宋体">）内存内的，所有</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">‘</SPAN><SPAN 
style="FONT-FAMILY: 宋体">对象</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">’</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的情况（如：产生那些对象，及其数量）。</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">&nbsp;</P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">可以输出所有内存中对象的工具，甚至可以将<SPAN 
style="FONT-FAMILY: 'Times New Roman'">VM&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 宋体">中的</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">heap</SPAN><SPAN 
style="FONT-FAMILY: 宋体">，以二进制输出成文本。使用方法&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">jmap&nbsp;-histo&nbsp;pid</SPAN><SPAN 
style="FONT-FAMILY: 宋体">。如果连用</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">SHELL&nbsp;jmap&nbsp;-histo&nbsp;pid&gt;a.log</SPAN><SPAN 
style="FONT-FAMILY: 宋体">可以将其保存到文本中去，在一段时间后，使用文本对比工具，可以对比出</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">GC</SPAN><SPAN 
style="FONT-FAMILY: 宋体">回收了哪些对象。</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">jmap&nbsp;-dump:format=b,file=</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">outfile</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">&nbsp;3024<SPAN 
style="FONT-FAMILY: 宋体">可以将</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">3024</SPAN><SPAN 
style="FONT-FAMILY: 宋体">进程的内存</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">heap</SPAN><SPAN 
style="FONT-FAMILY: 宋体">输出出来到</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">outfile</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">文件里</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">，再配合</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">MAT<SPAN 
style="FONT-FAMILY: 宋体">（内存分析工具</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">(Memory&nbsp;Analysis&nbsp;Tool</SPAN><SPAN 
style="FONT-FAMILY: 宋体">），使用参见：</SPAN></SPAN><SPAN><A 
style="COLOR: rgb(255,153,0); TEXT-DECORATION: none" 
href="http://blog.csdn.net/fenglibing/archive/2011/04/02/6298326.aspx"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; COLOR: rgb(128,0,128); TEXT-DECORATION: underline">http://blog.csdn.net/fenglibing/archive/2011/04/02/6298326.asp</SPAN></A></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">x<SPAN 
style="FONT-FAMILY: 宋体">）或与</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">jhat&nbsp;(Java&nbsp;Heap&nbsp;Analysis&nbsp;Tool)</SPAN><SPAN 
style="FONT-FAMILY: 宋体">一起使用，能够以图像的形式直观的展示当前内存是否有问题。</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">64<SPAN 
style="FONT-FAMILY: 宋体">位机上使用需要使用如下方式：</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">jmap&nbsp;-J-d64&nbsp;-heap&nbsp;pid</SPAN></P>
<H2 
style="FONT-FAMILY: Arial; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; FONT-STYLE: normal; TEXT-ALIGN: left; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; LINE-HEIGHT: 26px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A 
name=t1></A><A name=_Toc12573></A><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: 黑体; FONT-WEIGHT: bold">2<SPAN 
style="FONT-FAMILY: 黑体">、命令格式</SPAN></SPAN></H2>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">SYNOPSIS</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jmap&nbsp;[&nbsp;option&nbsp;]&nbsp;pid</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jmap&nbsp;[&nbsp;option&nbsp;]&nbsp;executable&nbsp;core</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jmap&nbsp;[&nbsp;option&nbsp;]&nbsp;[server-id@]remote-hostname-or-IP</SPAN></P>
<H2 
style="FONT-FAMILY: Arial; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; FONT-STYLE: normal; TEXT-ALIGN: left; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; LINE-HEIGHT: 26px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A 
name=t2></A><A name=_Toc22708></A><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: 黑体; FONT-WEIGHT: bold">3<SPAN 
style="FONT-FAMILY: 黑体">、参数说明</SPAN></SPAN></H2>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">1)<SPAN 
style="FONT-FAMILY: 宋体">、</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">o</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">ptions</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">：</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">&nbsp;</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">executable&nbsp;Java&nbsp;executable&nbsp;from&nbsp;which&nbsp;the&nbsp;core&nbsp;dump&nbsp;was&nbsp;produced.</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">(<SPAN 
style="FONT-FAMILY: 宋体">可能是产生</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">core&nbsp;dump</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">可执行程序</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">)</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">core&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">将被打印信息的</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">core&nbsp;dump</SPAN><SPAN 
style="FONT-FAMILY: 宋体">文件</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">remote-hostname-or-IP&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">远程</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">debug</SPAN><SPAN 
style="FONT-FAMILY: 宋体">服务的主机名或</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">ip</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">server-id&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">唯一</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">id,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">假如一台主机上多个远程</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">debug</SPAN><SPAN 
style="FONT-FAMILY: 宋体">服务&nbsp;</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">2）</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">、基本参数：</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">-dump:[live,]format=b,file=&lt;filename&gt;&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">使用</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">hprof</SPAN><SPAN 
style="FONT-FAMILY: 宋体">二进制形式</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">输出</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">jvm</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">heap</SPAN><SPAN 
style="FONT-FAMILY: 宋体">内容到文件</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">=.&nbsp;live</SPAN><SPAN 
style="FONT-FAMILY: 宋体">子选项是可选的，假如指定</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">live</SPAN><SPAN 
style="FONT-FAMILY: 宋体">选项</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">那么只输出活的对象到文件</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">-finalizerinfo&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">打印正等候回收的对象的信息</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">-heap&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">打印</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">heap</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的概要信息，</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">GC</SPAN><SPAN 
style="FONT-FAMILY: 宋体">使用的算法，</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">heap</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的配置及</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">wise&nbsp;heap</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的使用情况</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">-histo[:live]&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">打印每个</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的实例数目</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">内存占用</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">类全名信息</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;VM</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的内部类名字开头会加上前缀”</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">*</SPAN><SPAN 
style="FONT-FAMILY: 宋体">”</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 宋体">如果</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">live</SPAN><SPAN 
style="FONT-FAMILY: 宋体">子参数加上后</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">只统计活的对象数量</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">-permstat&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">打印</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">classload</SPAN><SPAN 
style="FONT-FAMILY: 宋体">和</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">jvm&nbsp;heap</SPAN><SPAN 
style="FONT-FAMILY: 宋体">长久层的信息</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 宋体">包含每个</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">classloader</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的名字</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">活泼性</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">地址</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">父</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">classloader</SPAN><SPAN 
style="FONT-FAMILY: 宋体">和加载的</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-FAMILY: 宋体">数量</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 宋体">另外</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">内部</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">String</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的数量和占用内存数也会打印出来</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">-F&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">强迫</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.</SPAN><SPAN 
style="FONT-FAMILY: 宋体">在</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">pid</SPAN><SPAN 
style="FONT-FAMILY: 宋体">没有相应的时候使用</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">-dump</SPAN><SPAN 
style="FONT-FAMILY: 宋体">或者</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">-histo</SPAN><SPAN 
style="FONT-FAMILY: 宋体">参数</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 宋体">在这个模式下</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,live</SPAN><SPAN 
style="FONT-FAMILY: 宋体">子参数无效</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.&nbsp;</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">-h&nbsp;|&nbsp;-help&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">打印辅助信息&nbsp;</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">-J&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">传递参数给</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">jmap</SPAN><SPAN 
style="FONT-FAMILY: 宋体">启动的</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">jvm.&nbsp;</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">pid&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">需要被打印配相信息的</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">进程</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">id,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">创业与打工的区别&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">-&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 宋体">博文预览</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">可以用</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">jps</SPAN><SPAN 
style="FONT-FAMILY: 宋体">查问</SPAN><SPAN 
style="FONT-FAMILY: 'Times New Roman'">.</SPAN></SPAN></P>
<H2 
style="FONT-FAMILY: Arial; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; FONT-STYLE: normal; TEXT-ALIGN: left; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; LINE-HEIGHT: 26px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A 
name=t3></A><A name=_Toc3460></A><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: 黑体; FONT-WEIGHT: bold">4<SPAN 
style="FONT-FAMILY: 黑体">、使用示例</SPAN></SPAN></H2>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">1)<SPAN 
style="FONT-FAMILY: 宋体">、</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">[fenglb@ccbu-156-5&nbsp;</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">~</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">]$&nbsp;jmap&nbsp;-histo&nbsp;4939</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">[</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">输出较多这里不贴了</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">]</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">2）</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">、<SPAN 
style="FONT-FAMILY: 'Times New Roman'">[fenglb@ccbu-156-5&nbsp;~]$&nbsp;jmap&nbsp;-dump:format=b,file=test.bin&nbsp;4939</SPAN></SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">Dumping&nbsp;heap&nbsp;to&nbsp;/home/fenglb/test.bin&nbsp;...</SPAN></P>
<P class=p0 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 14px/26px Arial; PADDING-LEFT: 0px; MARGIN: 0pt 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 21pt; -webkit-text-stroke-width: 0px"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体">Heap&nbsp;dump&nbsp;file&nbsp;created</SPAN></P><BR 
class=Apple-interchange-newline></body>
</html>
