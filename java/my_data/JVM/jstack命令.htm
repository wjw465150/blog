<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>jstack命令</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style>
html,body { 
	/* Default Font */
	font-family: 宋体, Arial, Helvetica, sans-serif;
	font-size: 10pt;
}
</style>

</head>

<body>
<H2 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><A name=t0></A><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: '黑体'; FONT-WEIGHT: bold">1<SPAN 
style="FONT-FAMILY: 黑体">、介绍</SPAN></SPAN></H2>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">jstack<SPAN 
style="FONT-FAMILY: 宋体">用于打印出给定的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">进程</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">ID</SPAN><SPAN 
style="FONT-FAMILY: 宋体">或</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">core&nbsp;file</SPAN><SPAN 
style="FONT-FAMILY: 宋体">或远程调试服务的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">Java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">堆栈信息，如果是在</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">64</SPAN><SPAN 
style="FONT-FAMILY: 宋体">位机器上，需要指定选项</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">"-J-d64"</SPAN><SPAN 
style="FONT-FAMILY: 宋体">，</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">Windows</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">jstack</SPAN><SPAN 
style="FONT-FAMILY: 宋体">使用方式只支持以下的这种方式：</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">jstack&nbsp;[-l]&nbsp;pid</SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">如</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">果<SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">程序崩溃生成</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">core</SPAN><SPAN 
style="FONT-FAMILY: 宋体">文件，</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">jstack</SPAN><SPAN 
style="FONT-FAMILY: 宋体">工具可以用来获得</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">core</SPAN><SPAN 
style="FONT-FAMILY: 宋体">文件的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java&nbsp;stack</SPAN><SPAN 
style="FONT-FAMILY: 宋体">和</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">native&nbsp;stack</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的信息，从而可以轻松地知道</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">程序是如何崩溃和在程序何处发生问题。另外，</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">jstack</SPAN><SPAN 
style="FONT-FAMILY: 宋体">工具还可以附属到正在运行的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">程序中，看到当时运行的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">程序的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java&nbsp;stack</SPAN><SPAN 
style="FONT-FAMILY: 宋体">和</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">native&nbsp;stack</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的信息</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">,&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 宋体">如果现在运行的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">程序呈现</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">hung</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的状态，</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">jstack</SPAN><SPAN 
style="FONT-FAMILY: 宋体">是非常有用的。</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: '黑体'; FONT-WEIGHT: bold">2<SPAN 
style="FONT-FAMILY: 黑体">、命令格式</SPAN></SPAN><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: 'Arial'; FONT-WEIGHT: bold"><BR></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">jstack&nbsp;[&nbsp;option&nbsp;]&nbsp;pid</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'"><BR></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">jstack&nbsp;[&nbsp;option&nbsp;]&nbsp;executable&nbsp;core</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'"><BR></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">jstack&nbsp;[&nbsp;option&nbsp;]&nbsp;[server-id@]remote-hostname-or-IP</SPAN></P>
<H2 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><A name=t1></A><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: '黑体'; FONT-WEIGHT: bold">3<SPAN 
style="FONT-FAMILY: 黑体">、常用参数说明</SPAN></SPAN></H2>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">1)<SPAN 
style="FONT-FAMILY: 宋体">、</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">o</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">ptions</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">：</SPAN><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">&nbsp;</SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">executable&nbsp;Java&nbsp;executable&nbsp;from&nbsp;which&nbsp;the&nbsp;core&nbsp;dump&nbsp;was&nbsp;produced.</SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">(<SPAN 
style="FONT-FAMILY: 宋体">可能是产生</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">core&nbsp;dump</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">可执行程序</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">)</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">core&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">将被打印信息的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">core&nbsp;dump</SPAN><SPAN 
style="FONT-FAMILY: 宋体">文件</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">remote-hostname-or-IP&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">远程</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">debug</SPAN><SPAN 
style="FONT-FAMILY: 宋体">服务的主机名或</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">ip</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">server-id&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">唯一</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">id,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">假如一台主机上多个远程</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">debug</SPAN><SPAN 
style="FONT-FAMILY: 宋体">服务&nbsp;</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">2<SPAN 
style="FONT-FAMILY: 宋体">）、基本参数：</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">-F<SPAN 
style="FONT-FAMILY: 宋体">当</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">’jstack&nbsp;[-l]&nbsp;pid’</SPAN><SPAN 
style="FONT-FAMILY: 宋体">没有相应的时候强制打印栈信息</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">-l<SPAN 
style="FONT-FAMILY: 宋体">长列表</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">.&nbsp;</SPAN><SPAN 
style="FONT-FAMILY: 宋体">打印关于锁的附加信息</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">例如属于</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java.util.concurrent</SPAN><SPAN 
style="FONT-FAMILY: 宋体">的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">ownable&nbsp;synchronizers</SPAN><SPAN 
style="FONT-FAMILY: 宋体">列表</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">.</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">-m<SPAN 
style="FONT-FAMILY: 宋体">打印</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">和</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">native&nbsp;c/c++</SPAN><SPAN 
style="FONT-FAMILY: 宋体">框架的所有栈信息</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">.</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">-h&nbsp;|&nbsp;-help<SPAN 
style="FONT-FAMILY: 宋体">打印帮助信息</SPAN></SPAN></P>
<P class=p0 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt; TEXT-INDENT: 21pt"><SPAN 
style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'">pid&nbsp;<SPAN 
style="FONT-FAMILY: 宋体">需要被打印配置信息的</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">java</SPAN><SPAN 
style="FONT-FAMILY: 宋体">进程</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">id,</SPAN><SPAN 
style="FONT-FAMILY: 宋体">可以用</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">jps</SPAN><SPAN 
style="FONT-FAMILY: 宋体">查询</SPAN><SPAN 
style="FONT-FAMILY: Times New Roman">.</SPAN></SPAN></P>
<H2 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><A name=t2></A><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: '黑体'; FONT-WEIGHT: bold">4<SPAN 
style="FONT-FAMILY: 黑体">、使用示例</SPAN></SPAN></H2>
<H2 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><A name=t3></A><SPAN 
style="FONT-SIZE: 16pt; FONT-FAMILY: '黑体'; FONT-WEIGHT: bold"><A 
href="jstack命令.gif"><IMG border=0 alt="" src="jstack命令.gif"></A></SPAN></H2>
<P></P>
<P><STRONG></STRONG>&nbsp;</P></body>
