<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>快速定位生产故障问题-JVM进程CPU占用率高于100%</title>
  </head>
  <body>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">这
      几年作为技术leader处理过的线上紧急问题，掐指一算应该有不下10次吧（<strong style="BOX-SIZING: border-box">说
        多了都是泪啊~~</strong>）。所以挡刀救火也是leader的必备技能！本文主要分享遇到“<strong style="BOX-SIZING: border-box">JVM
        进程CPU占用率超100%</strong>”时如何快速定位原因。</p>
    <h1 id="1-生产故障-jvm进程cpu占用率高于100" style="'BOX-SIZING: border-box; FONT-SIZE: 2.6em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 300; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0.8em 0px; LETTER-SPACING: normal; LINE-HEIGHT: 1.1; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"><a
        name="t1" target="_blank" ></a>1.
      生产故障-JVM进程CPU占用率高于100%</h1>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">某
      日，运维同学反馈生产环境有故障，某个JVM进程CPU负载一直居高不下。登入服务器用 top -c 命令查看如下：</p>
    <pre class="prettyprint" name="code" style="'BOX-SIZING: border-box; FONT-SIZE: 14px; WORD-WRAP: break-word; BORDER-TOP: rgb(136,136,136) 0px solid; FONT-FAMILY: "Source Code Pro", monospace; BORDER-RIGHT: rgb(136,136,136) 0px solid; WHITE-SPACE: nowrap; WORD-SPACING: 0px; OVERFLOW-X: auto; OVERFLOW-Y: hidden; BORDER-BOTTOM: rgb(136,136,136) 0px solid; POSITION: relative; TEXT-TRANSFORM: none; WORD-BREAK: break-all; FONT-WEIGHT: 400; COLOR: rgb(51,51,51); PADDING-BOTTOM: 5px; FONT-STYLE: normal; PADDING-TOP: 5px; PADDING-LEFT: 60px; BORDER-LEFT: rgb(136,136,136) 0px solid; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; DISPLAY: block; LETTER-SPACING: normal; LINE-HEIGHT: 23px; PADDING-RIGHT: 5px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; border-radius: 0px'"><code
 class   ="language-shell hljs perl has-numbering" style                    ="'BOX-SIZING: border-box; FONT-SIZE: 12px; WORD-WRAP: normal; FONT-FAMILY: "Source Code Pro", monospace; BACKGROUND: none transparent scroll repeat 0% 0%; WHITE-SPACE: pre; OVERFLOW-X: auto; COLOR: ; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; DISPLAY: block; PADDING-RIGHT: 0px; border-radius: 0px'">top - <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">00</span>:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">37</span>:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">39</span> up <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">48</span> days, <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">10</span>:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">41</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">5</span> users,  load average: <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">3.34</span>, <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">3.18</span>, <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">3.10</span>
Tasks: <span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >166</span> total,   <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">1</span> running, <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">165</span> sleeping,   <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span> stopped,   <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span> zombie
Cpu<span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >0</span>  :  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">7</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%us</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">3</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%sy</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%ni</span>, <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">99.0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%id</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%wa</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%hi</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%si</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%st</span>
Cpu1  :<span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >100.0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%us</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%sy</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%ni</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%id</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%wa</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%hi</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%si</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%st</span>
Cpu2  :  <span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >1.3</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%us</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">3</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%sy</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%ni</span>, <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">98.3</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%id</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%wa</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%hi</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%si</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%st</span>
Cpu3  :  <span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">3</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%us</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%sy</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%ni</span>, <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">99.7</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%id</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%wa</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%hi</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%si</span>,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span>.<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span><span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%st</span>
Mem:  <span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >16332280</span>k total, <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">15744336</span>k used,   <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">587944</span>k free,   <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">200632</span>k buffers
Swap:  <span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >8191992</span>k total,   <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">408724</span>k used,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">7783268</span>k free,  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">7201204</span>k cached

  PID USER      PR  NI  VIRT  RES  SHR S <span class="hljs-variable" style="BOX-SIZING: border-box; COLOR: rgb(102,0,102)"  >%CPU</span> <span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%MEM</span>    TIME+  COMMAND                                                                                        
 <span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >9702</span> bb    <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">20</span>   <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0</span> <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">2898</span><span
 class="hljs-keyword" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">m</span> <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">348</span><span
 class="hljs-keyword" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">m</span>  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">14</span><span
 class="hljs-keyword" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">m</span> S <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">100.6</span>  <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">2.2</span>   <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">01</span>:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">47.18</span> java -server -Xms512M -Xmx512M -Xmn192M -Xss256k -XX:PermSize=<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">64</span>M -XX:MaxPermSize=<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">128</span>M -verbose:
 ...</code>
      <ul class="pre-numbering" style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; BORDER-RIGHT: rgb(221,221,221) 1px solid; WIDTH: 50px; POSITION: absolute; PADDING-BOTTOM: 40px; TEXT-ALIGN: right; PADDING-TOP: 6px; PADDING-LEFT: 0px; LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 23px; TOP: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(238,238,238)">
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">1
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">2
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">3
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">4
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">5
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">6
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">7
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">8
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">9
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">10
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">11
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">12</li>
      </ul>
    </pre>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">从
      输出结果看，CPU load 达到3以上，服务器是4核机器，负载已经不低了。进程ID为9720的进程CPU占用率超过100%。</p>
    <h1 id="2-定位故障的思路" style="'BOX-SIZING: border-box; FONT-SIZE: 2.6em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 300; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0.8em 0px; LETTER-SPACING: normal; LINE-HEIGHT: 1.1; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"><a
        name="t2" target="_blank" ></a>2.
      定位故障的思路</h1>
    <ul style="'BOX-SIZING: border-box; FONT-SIZE: 16px; MARGIN-BOTTOM: 1.7em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; LINE-HEIGHT: 27px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"      >
      <li style="BOX-SIZING: border-box">首先找出问题进程内CPU占用率高的线程 
      <li style="BOX-SIZING: border-box">再通过线程栈信息找出该线程当时在运行的问题代码段</li>
    </ul>
    <h1 id="3-定位故障的步骤" style="'BOX-SIZING: border-box; FONT-SIZE: 2.6em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 300; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0.8em 0px; LETTER-SPACING: normal; LINE-HEIGHT: 1.1; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"><a
        name="t3" target="_blank" ></a>3.
      定位故障的步骤</h1>
    <h2 id="31-用top命令查找进程内导致cpu占用率高的线程" style="'BOX-SIZING: border-box; FONT-SIZE: 2.15em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 300; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0.8em 0px; LETTER-SPACING: normal; LINE-HEIGHT: 1.1; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"><a
        name="t4" target="_blank" ></a>3.1
      用top命令查找进程内导致CPU占用率高的线程</h2>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">先
      祭出第一招， top命令加上 -H -b 两个选项：-H 可以查看由某个进程启动的所有线程，-b 选项指定以批处理模式输出结果 。具体命令如下：</p>
    <pre class="prettyprint" name="code" style="'BOX-SIZING: border-box; FONT-SIZE: 14px; WORD-WRAP: break-word; BORDER-TOP: rgb(136,136,136) 0px solid; FONT-FAMILY: "Source Code Pro", monospace; BORDER-RIGHT: rgb(136,136,136) 0px solid; WHITE-SPACE: nowrap; WORD-SPACING: 0px; OVERFLOW-X: auto; OVERFLOW-Y: hidden; BORDER-BOTTOM: rgb(136,136,136) 0px solid; POSITION: relative; TEXT-TRANSFORM: none; WORD-BREAK: break-all; FONT-WEIGHT: 400; COLOR: rgb(51,51,51); PADDING-BOTTOM: 5px; FONT-STYLE: normal; PADDING-TOP: 5px; PADDING-LEFT: 60px; BORDER-LEFT: rgb(136,136,136) 0px solid; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; DISPLAY: block; LETTER-SPACING: normal; LINE-HEIGHT: 23px; PADDING-RIGHT: 5px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; border-radius: 0px'"><code
 class   ="language-shell hljs css has-numbering" style                    ="'BOX-SIZING: border-box; FONT-SIZE: 12px; WORD-WRAP: normal; FONT-FAMILY: "Source Code Pro", monospace; BACKGROUND: none transparent scroll repeat 0% 0%; WHITE-SPACE: pre; OVERFLOW-X: auto; COLOR: ; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; DISPLAY: block; PADDING-RIGHT: 0px; border-radius: 0px'">$ <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">top</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">-Hbp</span> 9702
<span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >top</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">-</span> 00<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:38</span><span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:54</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">up</span> 48 <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">days</span>, 10<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:43</span>,  5 <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">users</span>,  <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">load</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">average</span>: 0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.81</span>, 0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.36</span>, 0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.16</span>
<span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >Tasks</span>:  38 <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">total</span>,   1 <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">running</span>,  37 <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">sleeping</span>,   0 <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">stopped</span>,   0 <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">zombie</span>
<span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >Cpu</span>(<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">s</span>):  3<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.5</span>%<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">us</span>,  1<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.4</span>%<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">sy</span>,  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>%<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">ni</span>, 94<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.5</span>%<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">id</span>,  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.3</span>%<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">wa</span>,  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>%<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">hi</span>,  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>%<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">si</span>,  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>%<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">st</span>
<span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >Mem</span>:  16332280<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">k</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">total</span>, 15744500<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">k</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">used</span>,   587780<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">k</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">free</span>,   200632<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">k</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">buffers</span>
<span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >Swap</span>:  8191992<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">k</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">total</span>,   408724<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">k</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">used</span>,  7783268<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">k</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">free</span>,  7201392<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">k</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">cached</span>

  <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >PID</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">USER</span>      <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">PR</span>  <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">NI</span>  <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">VIRT</span>  <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">RES</span>  <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">SHR</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span> %<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">CPU</span> %<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">MEM</span>    <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">TIME</span>+  <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">COMMAND</span>                                                                                         
10007 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">R</span> 100<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.5</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   1<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:41</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.31</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9702 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.00</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9705 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:06</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.44</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9706 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.11</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9707 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.11</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9708 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.11</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9709 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.10</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9710 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.00</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9711 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.07</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9712 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.03</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9713 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.03</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9714 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.00</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9715 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:00</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.00</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span>                                                                                            
 9716 <span class="hljs-tag" style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"  >bb</span>    20   0 2898<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> 348<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span>  14<span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">m</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">S</span>  0<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.0</span>  2<span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.2</span>   0<span
 class="hljs-pseudo" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">:05</span><span
 class="hljs-class" style    ="BOX-SIZING: border-box; COLOR: rgb(155,112,63)">.60</span> <span
 class="hljs-tag" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">java</span></code>
      <ul class="pre-numbering" style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; BORDER-RIGHT: rgb(221,221,221) 1px solid; WIDTH: 50px; POSITION: absolute; PADDING-BOTTOM: 40px; TEXT-ALIGN: right; PADDING-TOP: 6px; PADDING-LEFT: 0px; LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 23px; TOP: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(238,238,238)">
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">1
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">2
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">3
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">4
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">5
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">6
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">7
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">8
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">9
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">10
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">11
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">12
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">13
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">14
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">15
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">16
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">17
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">18
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">19
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">20
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">21
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">22</li>
      </ul>
    </pre>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">输
      出结果里的PID其实是线程ID，可以看到线程ID为10007的线程CPU占用率为100.5%，它就是罪魁祸首。上面的命令可以再优化下：查出CPU占用
      率超过某个值的所有线程，例如超过50%，如下：</p>
    <pre class="prettyprint" name="code" style="'BOX-SIZING: border-box; FONT-SIZE: 14px; WORD-WRAP: break-word; BORDER-TOP: rgb(136,136,136) 0px solid; FONT-FAMILY: "Source Code Pro", monospace; BORDER-RIGHT: rgb(136,136,136) 0px solid; WHITE-SPACE: nowrap; WORD-SPACING: 0px; OVERFLOW-X: auto; OVERFLOW-Y: hidden; BORDER-BOTTOM: rgb(136,136,136) 0px solid; POSITION: relative; TEXT-TRANSFORM: none; WORD-BREAK: break-all; FONT-WEIGHT: 400; COLOR: rgb(51,51,51); PADDING-BOTTOM: 5px; FONT-STYLE: normal; PADDING-TOP: 5px; PADDING-LEFT: 60px; BORDER-LEFT: rgb(136,136,136) 0px solid; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; DISPLAY: block; LETTER-SPACING: normal; LINE-HEIGHT: 23px; PADDING-RIGHT: 5px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; border-radius: 0px'"><code
 class  ="hljs nginx has-numbering" style                     ="'BOX-SIZING: border-box; FONT-SIZE: 12px; WORD-WRAP: normal; FONT-FAMILY: "Source Code Pro", monospace; BACKGROUND: none transparent scroll repeat 0% 0%; WHITE-SPACE: pre; OVERFLOW-X: auto; COLOR: ; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; DISPLAY: block; PADDING-RIGHT: 0px; border-radius: 0px'"><span
 class="hljs-title" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">top</span> -Hbp <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">9702</span> | awk <span
 class="hljs-string" style    ="BOX-SIZING: border-box; COLOR: rgb(0,136,0)">'/java/ &amp;&amp; <span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">$9</span>&gt;50'</span></code>
      <ul class="pre-numbering" style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; BORDER-RIGHT: rgb(221,221,221) 1px solid; WIDTH: 50px; POSITION: absolute; PADDING-BOTTOM: 40px; TEXT-ALIGN: right; PADDING-TOP: 6px; PADDING-LEFT: 0px; LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 23px; TOP: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(238,238,238)">
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">1</li>
      </ul>
    </pre>
    <h2 id="32-用jvm命令-jstack-精确定位出问题的代码段" style="'BOX-SIZING: border-box; FONT-SIZE: 2.15em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 300; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0.8em 0px; LETTER-SPACING: normal; LINE-HEIGHT: 1.1; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"><a
        name="t5" target="_blank" ></a>3.2
      用JVM命令 jstack 精确定位出问题的代码段</h2>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">第
      二招，用jstack 命令dump出线程栈信息，可以直接定位到出问题的代码段。这里也分两步。第一步把上面的线程ID<span>&nbsp;</span><strong
        style="BOX-SIZING: border-box">10007</strong><span>&nbsp;</span>转化为十六进
      制：</p>
    <pre class="prettyprint" name="code" style="'BOX-SIZING: border-box; FONT-SIZE: 14px; WORD-WRAP: break-word; BORDER-TOP: rgb(136,136,136) 0px solid; FONT-FAMILY: "Source Code Pro", monospace; BORDER-RIGHT: rgb(136,136,136) 0px solid; WHITE-SPACE: nowrap; WORD-SPACING: 0px; OVERFLOW-X: auto; OVERFLOW-Y: hidden; BORDER-BOTTOM: rgb(136,136,136) 0px solid; POSITION: relative; TEXT-TRANSFORM: none; WORD-BREAK: break-all; FONT-WEIGHT: 400; COLOR: rgb(51,51,51); PADDING-BOTTOM: 5px; FONT-STYLE: normal; PADDING-TOP: 5px; PADDING-LEFT: 60px; BORDER-LEFT: rgb(136,136,136) 0px solid; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; DISPLAY: block; LETTER-SPACING: normal; LINE-HEIGHT: 23px; PADDING-RIGHT: 5px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; border-radius: 0px'"><code
 class  ="hljs perl has-numbering" style                     ="'BOX-SIZING: border-box; FONT-SIZE: 12px; WORD-WRAP: normal; FONT-FAMILY: "Source Code Pro", monospace; BACKGROUND: none transparent scroll repeat 0% 0%; WHITE-SPACE: pre; OVERFLOW-X: auto; COLOR: ; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; DISPLAY: block; PADDING-RIGHT: 0px; border-radius: 0px'">$ <span
 class="hljs-keyword" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">printf</span> <span
 class="hljs-string" style    ="BOX-SIZING: border-box; COLOR: rgb(0,136,0)">"<span
 class="hljs-variable" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">%x</span>\n"</span> <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">10007</span>
<span class="hljs-number" style="BOX-SIZING: border-box; COLOR: rgb(0,102,102)"  >2717</span></code>
      <ul class="pre-numbering" style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; BORDER-RIGHT: rgb(221,221,221) 1px solid; WIDTH: 50px; POSITION: absolute; PADDING-BOTTOM: 40px; TEXT-ALIGN: right; PADDING-TOP: 6px; PADDING-LEFT: 0px; LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 23px; TOP: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(238,238,238)">
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">1
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">2</li>
      </ul>
    </pre>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">因
      为jstack输出的线程栈信息中，线程ID是以十六进制展示的。</p>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">第
      二步使用命令 jstack $pid | grep “线程id” 把信息打印出来：</p>
    <pre class="prettyprint" name="code" style="'BOX-SIZING: border-box; FONT-SIZE: 14px; WORD-WRAP: break-word; BORDER-TOP: rgb(136,136,136) 0px solid; FONT-FAMILY: "Source Code Pro", monospace; BORDER-RIGHT: rgb(136,136,136) 0px solid; WHITE-SPACE: nowrap; WORD-SPACING: 0px; OVERFLOW-X: auto; OVERFLOW-Y: hidden; BORDER-BOTTOM: rgb(136,136,136) 0px solid; POSITION: relative; TEXT-TRANSFORM: none; WORD-BREAK: break-all; FONT-WEIGHT: 400; COLOR: rgb(51,51,51); PADDING-BOTTOM: 5px; FONT-STYLE: normal; PADDING-TOP: 5px; PADDING-LEFT: 60px; BORDER-LEFT: rgb(136,136,136) 0px solid; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; DISPLAY: block; LETTER-SPACING: normal; LINE-HEIGHT: 23px; PADDING-RIGHT: 5px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; border-radius: 0px'"><code
 class  ="hljs livecodeserver has-numbering" style                     ="'BOX-SIZING: border-box; FONT-SIZE: 12px; WORD-WRAP: normal; FONT-FAMILY: "Source Code Pro", monospace; BACKGROUND: none transparent scroll repeat 0% 0%; WHITE-SPACE: pre; OVERFLOW-X: auto; COLOR: ; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; DISPLAY: block; PADDING-RIGHT: 0px; border-radius: 0px'">$ jstack <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">9702</span> | grep <span
 class="hljs-string" style    ="BOX-SIZING: border-box; COLOR: rgb(0,136,0)">'2717'</span> -A <span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">30</span>
<span class="hljs-string" style="BOX-SIZING: border-box; COLOR: rgb(0,136,0)"  >"http-nio-9092-exec-1"</span> daemon prio=<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">10</span> tid=<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0x00007f3a90014800</span> nid=<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0x2717</span> runnable [<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">0x00007f3afc72a000</span>]
   java.lang.Thread.State: RUNNABLE
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> com.bb.apigateway.<span
 class="hljs-built_in" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">filter</span>.pre.SignatureTokenFilter.run(SignatureTokenFilter.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">44</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> com.netflix.zuul.ZuulFilter.runFilter(ZuulFilter.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">112</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> com.netflix.zuul.FilterProcessor.processZuulFilter(FilterProcessor.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">197</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> com.netflix.zuul.FilterProcessor.runFilters(FilterProcessor.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">161</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> com.netflix.zuul.FilterProcessor.preRoute(FilterProcessor.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">136</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> com.netflix.zuul.ZuulRunner.preRoute(ZuulRunner.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">105</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> com.netflix.zuul.<span
 class="hljs-keyword" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">http</span>.ZuulServlet.preRoute(ZuulServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">125</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> com.netflix.zuul.<span
 class="hljs-keyword" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">http</span>.ZuulServlet.service(ZuulServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">74</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.servlet.mvc.ServletWrappingController.handleRequestInternal(ServletWrappingController.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">158</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.cloud.netflix.zuul.web.ZuulController.handleRequestInternal(ZuulController.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">43</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">147</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">50</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">961</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">895</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">967</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">869</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> javax.servlet.<span
 class="hljs-keyword" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">http</span>.HttpServlet.service(HttpServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">648</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">843</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> javax.servlet.<span
 class="hljs-keyword" style    ="BOX-SIZING: border-box; COLOR: rgb(0,0,136)">http</span>.HttpServlet.service(HttpServlet.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">729</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">292</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">207</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">52</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">240</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">207</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">261</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.web.<span
 class="hljs-built_in" style    ="BOX-SIZING: border-box; COLOR: rgb(102,0,102)">filter</span>.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">107</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">240</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">207</span>)
    <span class="hljs-keyword" style="BOX-SIZING: border-box; COLOR: rgb(0,0,136)"  >at</span> org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:<span
 class="hljs-number" style    ="BOX-SIZING: border-box; COLOR: rgb(0,102,102)">115</span>)</code>
      <ul class="pre-numbering" style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; BORDER-RIGHT: rgb(221,221,221) 1px solid; WIDTH: 50px; POSITION: absolute; PADDING-BOTTOM: 40px; TEXT-ALIGN: right; PADDING-TOP: 6px; PADDING-LEFT: 0px; LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 23px; TOP: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(238,238,238)">
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">1
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">2
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">3
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">4
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">5
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">6
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">7
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">8
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">9
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">10
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">11
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">12
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">13
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">14
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">15
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">16
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">17
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">18
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">19
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">20
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">21
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">22
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">23
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">24
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">25
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">26
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">27
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">28
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">29
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">30
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">31
        <li style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 0px; PADDING-RIGHT: 5px">32</li>
      </ul>
    </pre>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">下
      面这行就是出问题的业务代码，根据实际情况修复BUG即可</p>
    <blockquote style="'BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 15px; FONT-STYLE: normal; PADDING-TOP: 15px; PADDING-LEFT: 20px; BORDER-LEFT: 10px solid; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 20px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; border-radius: 0px 5px 5px 0px'"        >
      <p style="BOX-SIZING: border-box; FONT-SIZE: 1em; WORD-WRAP: break-word; WORD-BREAK: normal; COLOR: rgb(111,111,111); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 1.5; PADDING-RIGHT: 0px" 
 >com.bb.apigateway.filter.pre.SignatureTokenFilter.run(SignatureTokenFilter.java:44)</p>
    </blockquote>
    <h1 id="4-小结" style="'BOX-SIZING: border-box; FONT-SIZE: 2.6em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 300; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0.8em 0px; LETTER-SPACING: normal; LINE-HEIGHT: 1.1; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"><a
        name="t6" target="_blank" ></a>4.
      小结</h1>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">思
      路：</p>
    <ul style="'BOX-SIZING: border-box; FONT-SIZE: 16px; MARGIN-BOTTOM: 1.7em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; LINE-HEIGHT: 27px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"      >
      <li style="BOX-SIZING: border-box">找出CPU占用率高的进程 
      <li style="BOX-SIZING: border-box">找出问题进程内CPU占用率高的线程 
      <li style="BOX-SIZING: border-box">通过线程栈信息找出该线程当时在运行的问题代码段</li>
    </ul>
    <p style="'BOX-SIZING: border-box; FONT-SIZE: 16px; WORD-WRAP: break-word; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; WORD-BREAK: normal; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; PADDING-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 1.7em; LETTER-SPACING: normal; LINE-HEIGHT: 27px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'">实
      施要点：</p>
    <ul style="'BOX-SIZING: border-box; FONT-SIZE: 16px; MARGIN-BOTTOM: 1.7em; FONT-FAMILY: "microsoft yahei"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(63,63,63); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; LINE-HEIGHT: 27px; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial'"      >
      <li style="BOX-SIZING: border-box">top -Hbp ‘pid’ 定位问题线程 
      <li style="BOX-SIZING: border-box">jstack ‘pid’ | grep ‘thread_id’ 找出问题代码</li>
    </ul>
    <p><br>
    </p>
    <p></p>
  </body>
</html>
