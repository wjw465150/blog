<HTML xmlns:fo = "http://www.w3.org/1999/XSL/Format">
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>用 JavaHelp 2.0 构建下一个 Java 应用程序的帮助系统</title>
<!-- Java technology--><!-- common meta part for all zones -->
</HEAD>

<BODY bgColor=#ffffff leftMargin=2 topMargin=2 marginheight="2" 
marginwidth="2">
<!--StartFragment--><!-- MASTHEAD-->
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
    <TBODY>
  
  <TR>
    <TD class=tbgc width=160><A 
href="http://www-900.ibm.com/developerWorks/cn/cgi-bin/click.cgi?url=www.ibm.com/cn/&amp;origin=dwheader"><IMG 
height=47 alt=IBM src="ibm-logo.gif" width=160 
border=0></A></TD>
    <TD class=tbg width=70><FONT color=#99ccff size=2><B>China</B></FONT><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#main"><IMG 
height=1 alt="Skip to main content" 
src="c.gif" width=70 
border=0></A></TD>
    <TD class=tbgc vAlign=top align=right width="100%"><TABLE cellSpacing=0 cellPadding=0 border=0>
        <FORM id=form1 name=form1 action=http://www-106.ibm.com/search/searchResults.jsp 
method=get>
          <TBODY>
            <TR>
              <TD colSpan=7><IMG height=4 alt="" 
src="c.gif" width=390 
border=0></TD>
            </TR>
            <TR vAlign=center>
              <TD class=dwsearch><NOBR><FONT color=#ffffff><B>搜索:</B></FONT></NOBR>&nbsp;&nbsp;</TD>
              <TD><INPUT class=dwsearch maxLength=100 size=23 name=query></TD>
              <TD class=dwsearch vAlign=center>&nbsp;<FONT color=#ffffff><B>在</B></FONT>&nbsp;</TD>
              <TD class=dwsearch><SELECT class=dwsearch2 name=searchScope>
                  &nbsp;&nbsp;
                  <OPTION value=dW 
selected>dW 全部内容</OPTION>
                  <OPTION value=javaZ>&nbsp;Java 技术</OPTION>
                  <OPTION 
value=linuxZ>&nbsp;Linux</OPTION>
                  <OPTION value=opensrcZ>&nbsp;开放源码</OPTION>
                  <OPTION 
value=securityZ>&nbsp;安全</OPTION>
                  <OPTION value=webservZ>&nbsp;Web 服务</OPTION>
                  <OPTION 
value=xmlZ>&nbsp;XML</OPTION>
                  <OPTION value=dW>.................</OPTION>
                  <OPTION 
value=dmdd>&nbsp;DB2</OPTION>
                  <OPTION value=wsdd>&nbsp;WebSphere</OPTION>
                  <OPTION 
value=lotusdd>&nbsp;Lotus 专题</OPTION>
                  <OPTION value=tivolidd>&nbsp;Tivoli 专题</OPTION>
                  <OPTION value=dW>.................</OPTION>
                  <OPTION value=all>IBM 
                  全部内容</OPTION>
              </SELECT></TD>
              <TD><IMG height=1 alt="" 
src="c.gif" width=5 border=0></TD>
              <TD><INPUT type=image height=23 alt="Search button" width=64 
src="search.gif" value=Search border=0 name=Search></TD>
              <TD vAlign=top><IMG height=1 alt="" 
src="c.gif" width=30 
border=0></TD>
            </TR>
            <TR vAlign=top>
              <TD>&nbsp;</TD>
              <TD class=dwsearch>&nbsp;<FONT color=#ffffff>只用 + - "&nbsp;" (&nbsp;)</FONT>
              <TD>&nbsp;</TD>
              <TD>&nbsp;</TD>
              <TD>&nbsp;</TD>
              <TD>&nbsp;</TD>
              <TD>&nbsp;</TD>
            </TR>
          <INPUT type=hidden value=1 name=searchType>
          <INPUT type=hidden 
value=dWChina name=searchSite>
          <INPUT type=hidden value=zh name=pageLang>
          <INPUT 
type=hidden value=gb2312 name=langEncoding>
        </FORM>
          </TBODY>
    </TABLE></TD>
  </TR>
    <A 
id=main name=main>
  
  <TR>
    <TD class=hbg width=160 height=21>&nbsp;</TD>
    <TD class=bbg vAlign=top colSpan=2 height=21>&nbsp;&nbsp;&nbsp; <A class=mainlink 
href="&amp;origin=dwhead">IBM 
      主页</A> <SPAN class=divider>&nbsp;&nbsp;|&nbsp;&nbsp;</SPAN> <A class=mainlink 
href="index.shtml&amp;origin=dwhead">产品与服务</A> <SPAN class=divider>&nbsp;&nbsp;|&nbsp;&nbsp;</SPAN> <A class=mainlink 
href="index.shtml&amp;origin=dwhead">支持与下载</A> <SPAN class=divider>&nbsp;&nbsp;|&nbsp;&nbsp;</SPAN> <A class=mainlink 
href="index.shtml&amp;origin=dwhead">个性化服务</A></TD>
  </TR>
    </TBODY>
</TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
    <TR class=hil>
      <TD width="100%" height=1><IMG height=1 alt="" 
src="c.gif" width=592></TD>
    </TR>
    <TR class=dwr1>
      <TD width="100%" height=2><IMG height=2 alt="" 
src="c.gif" width=592></TD>
    </TR>
    <TR class=dwg3>
      <TD width="100%" height=1><IMG height=1 alt="" 
src="c.gif" width=592></TD>
    </TR>
    <TR class=bbg>
      <TD width="100%" height=1><IMG height=1 alt="" 
src="c.gif" width=592></TD>
    </TR>
    <TR class=hil>
      <TD width="100%" height=1><IMG height=1 alt="" 
src="c.gif" 
width=592></TD>
    </TR>
  </TBODY>
</TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
    <TR vAlign=top>
      <TD width=5><IMG height=1 alt="" 
src="c.gif" width=5 border=0></TD>
      <TD width="100%"><TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
          <TBODY>
            <TR vAlign=top>
              <TD width="100%"><IMG height=4 alt="" 
src="c.gif" width=2 
border=0><BR>
                <B><A 
href="http://www-900.ibm.com/developerWorks/cn/index.shtml">developerWorks 
                中国网站</A> : <A 
href="http://www-900.ibm.com/developerWorks/cn/java/index.shtml">Java</A> : <A 
href="http://www-900.ibm.com/developerWorks/cn/cnpapers.nsf/java-papers-bynewest?OpenView&amp;count=10">所有的文章 </A></B></TD>
              <TD align=right width=136><A 
href="http://www-900.ibm.com/developerWorks/cn/index.shtml"><IMG height=24 
alt="developerWorks 中国网站" src="dwlogo-small.gif" width=136 
border=0></A></TD>
              <TD width=5><IMG height=1 alt="" 
src="c.gif" width=5 
border=0></TD>
            </TR>
          </TBODY>
      </TABLE></TD>
    </TR>
  </TBODY>
</TABLE>
<!-- Title Area-->
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
    <TR vAlign=top>
      <TD colSpan=5><IMG height=15 alt="" 
src="c.gif" width=5 
border=0></TD>
    </TR>
    <TR vAlign=top>
      <TD width=2><IMG height=1 alt="" 
src="c.gif" width=2 border=0></TD>
      <TD><SPAN class=atitle>向 Java 应用程序伸出援助之手</SPAN></TD>
      <TD width=8><IMG height=1 alt="" 
src="c.gif" width=8 border=0></TD>
      <TD vAlign=bottom align=right width=180><NOBR><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index_eng.shtml" 
target=_blank><B>英文原文</B></A></NOBR></TD>
      <TD width=6><IMG height=1 alt="" 
src="c.gif" width=6 
border=0></TD>
    </TR>
    <!-- Black line separator-->
    <TR vAlign=top>
      <TD bgColor=#000000 colSpan=5><IMG height=1 alt="" 
src="c.gif" width=100 
border=0></TD>
    </TR>
    <TR vAlign=top>
      <TD bgColor=#ffffff colSpan=5><IMG height=8 alt="" 
src="c.gif" width=100 
border=0></TD>
    </TR>
  </TBODY>
</TABLE>
<!-- END HEADER AREA--><!-- START BODY AREA-->
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
    <TR vAlign=top>
      <TD width=10><IMG height=1 alt="" 
src="c.gif" width=10 border=0></TD>
      <TD width="100%"><TABLE cellSpacing=0 cellPadding=0 width=168 align=right border=0>
          <TBODY>
            <TR><!-- Sidebar Gutter-->
              <TD width=8><IMG height=21 alt="" 
src="c.gif" width=5></TD>
              <TD width=160><!-- Start TOC-->
                
                <TABLE cellSpacing=0 cellPadding=0 width=160 border=0>
                  <TBODY>
                    <TR>
                      <TD width=160 bgColor=#000000 height=1><IMG height=1 alt="" 
src="c.gif" width=160></TD>
                    </TR>
                    <TR>
                      <TD align=middle background=向Java应用程序伸出援助之手.files/bg-gold.gif 
height=5><B>内容：</B></TD>
                    </TR>
                    <TR>
                      <TD width=160 bgColor=#666666 height=1><IMG height=1 alt="" 
src="c.gif" width=160></TD>
                    </TR>
                    <TR>
                      <TD align=right><TABLE cellSpacing=0 cellPadding=3 width="98%" border=0>
                          <TBODY>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDAZDWZE">入门</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDA4FWZE">使用 
                                HelpSet</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDAOU10E">在 
                                Java 应用程序中调用 JavaHelp</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDAZV10E">自定义外观</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDAE010E">使用展示窗口</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDA2G20E">添加上下文敏感的帮助</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDA4N20E">添加嵌入的帮助</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDARP20E">添加搜索功能</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDAYW20E">合并 
                                helpset</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDAD220E">添加轻量级组件</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDAYA30E">基于服务器的帮助</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#IDAEU30E">结束语</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#resources">参考资料</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#author1">关于作者</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#rating">对本文的评价</A></TD>
                            </TR>
                          </TBODY>
                      </TABLE></TD>
                    </TR>
                  </TBODY>
                </TABLE>
                <!-- End TOC--><!-- Start Related Content Area-->
                
                <TABLE cellSpacing=0 cellPadding=0 width=160 border=0>
                  <TBODY>
                    <TR>
                      <TD width=160 bgColor=#000000 height=1><IMG height=1 alt="" 
src="c.gif" width=160></TD>
                    </TR>
                    <TR>
                      <TD align=middle background=向Java应用程序伸出援助之手.files/bg-gold.gif 
height=5><B>相关内容：</B></TD>
                    </TR>
                    <TR>
                      <TD width=160 bgColor=#666666 height=1><IMG height=1 alt="" 
src="c.gif" width=160></TD>
                    </TR>
                    <TR>
                      <TD align=right><TABLE cellSpacing=0 cellPadding=3 width="98%" border=0>
                          <TBODY>
                            <TR>
                              <TD><A href="http://www-106.ibm.com/developerworks/java/library/j-javahelp/">A 
                                custom utility class for JavaHelp software</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-106.ibm.com/developerworks/opensource/library/os-echelp/" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Documenting your project 
                                using the Eclipse help system</A></TD>
                            </TR>
                            <TR>
                              <TD><A href="http://www-106.ibm.com/developerworks/java/jdk/index.html" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">IBM Developer Kits for the 
                                Java Platform 
                                (downloads)</A></TD>
                            </TR>
                          </TBODY>
                      </TABLE></TD>
                    </TR>
                  </TBODY>
                </TABLE>
                <!-- End TOC--><!-- Start Related Content Area-->
                
                <TABLE cellSpacing=0 cellPadding=0 width=160 border=0>
                  <TBODY>
                    <TR>
                      <TD width=160 bgColor=#000000 height=1><IMG height=1 alt="" 
src="c.gif" width=160></TD>
                    </TR>
                    <TR>
                      <TD align=middle background=向Java应用程序伸出援助之手.files/bg-gold.gif height=5><A 
class=nav 
href="http://www-900.ibm.com/developerWorks/cn/java/index.shtml"><B>Java 
                        专区中还有:</B></A></TD>
                    </TR>
                    <TR>
                      <TD width=160 bgColor=#666666 height=1><IMG height=1 alt="" 
src="c.gif" width=160></TD>
                    </TR>
                    <TR>
                      <TD align=right><TABLE cellSpacing=0 cellPadding=3 width="98%" border=0>
                          <TBODY>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/cnedu.nsf/java-onlinecourse-bytitle?OpenView&amp;Count=500">教学</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/cntools.nsf/dw/java-all-byname?OpenDocument&amp;count=500">工具与产品</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/cntools.nsf/dw/java-beans-bytitle?OpenDocument&amp;count=500">代码与组件</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/cnpapers.nsf/java-papers-bynewest?OpenView&amp;Count=500">所有文章</A></TD>
                            </TR>
                            <TR>
                              <TD><A 
href="http://www-900.ibm.com/developerWorks/cn/cntips.nsf/java-tips-bydate?OpenView&amp;Count=500">实用技巧</A></TD>
                            </TR>
                          </TBODY>
                      </TABLE></TD>
                    </TR>
                  </TBODY>
                </TABLE>
                <!-- End Related dW Content Area-->
                
                <TABLE cellSpacing=0 cellPadding=0 width=160 border=0>
                  <TBODY>
                    <TR>
                      <TD width=150 bgColor=#000000 colSpan=2 height=2><IMG height=2 alt="" 
src="c.gif" width=160></TD>
                    </TR>
                    <TR>
                      <TD width=150 bgColor=#ffffff colSpan=2 height=2><IMG height=2 alt="" 
src="c.gif" 
width=160></TD>
                    </TR>
                  </TBODY>
                </TABLE>
              <!-- END STANDARD SIDEBAR AREA--></TD>
            </TR>
          </TBODY>
        </TABLE>
        <SPAN 
class=atitle2>用 JavaHelp 2.0 构建下一个 Java 应用程序的帮助系统</SPAN><BR>
        <TABLE cellSpacing=0 cellPadding=0 border=0>
          <TBODY>
            <TR vAlign=top align=left>
              <TD><P>级别：入门</P></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#author1">
          <NAME>Nancy 
            Chen Junhua</NAME>
          </A> (<A 
href="mailto:nancy_chenjunhua@yahoo.com%3Fcc=%26amp;subject=Lend%20a%20helping%20hand%20to%20your%20Java%20applications">mailto:nancy_chenjunhua@yahoo.com?cc=&amp;subject=Lend 
          a helping hand to your Java applications</A>)<BR>
          软件咨询师和开发者<BR>
          2004 年 5 月</P>
        <BLOCKQUOTE>即使是帮助系统设计师有时也可能需要帮助，有了 JavaHelp 2.0，终于可以提供帮助了。在本文中，将介绍如何使用 Java 
          平台特有的帮助系统 API 构建一个标准的、全功能的、容易使用的系统，以向 Java 应用程序用户展示在线信息。</BLOCKQUOTE>
        <P>从开发者的角度看，自动化的帮助组件，或者帮助系统，通常是在构建一个 Java 
          应用程序时最后考虑的事情。不过对于用户来说，帮助系统是学习新应用程序时非常有价值的资源。随着对功能更全和更可靠的应用程序帮助系统的需求增加，应用程序开发人员的时间和生产率负担也随之增加。幸运的是，Java 
          平台包括了一个专门构建应用程序帮助系统的 API。</P>
        <P>在本文中，将介绍如何使用 JavaHelp 2.0 API 为一个简单的 Java 
          应用程序构建一个标准的、全功能的帮助系统。首先将构建一个基本的应用程序帮助系统，它包括一组主题文件、一组导航文件和一组数据文件。然后将介绍如何使这个帮助系统可以被 
          Java 
          应用程序使用，并用基于文字或者图形的导航、预先设置的字体、分层的展示窗口和可搜索的数据库定制它。还将介绍如何实现上下文敏感的功能、将帮助系统直接加入到应用程序中、合并多个帮助系统以及为帮助系统创建自定义的轻量级组件。在本文最后，我将快速回顾 
          JavaHelp 2.0 的服务器端帮助系统框架。</P>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">注意：</B>本文假定读者熟悉构建帮助系统的设计考虑并熟悉在 
          Java 平台上开发企业应用程序。如果有一些 Swing GUI 开发的经验也会有帮助。</P>
        <P><A name=IDAZDWZE><SPAN class=atitle2>入门</SPAN></A><BR>
          在本文中，将为一个 Tax 
          Calculator 应用程序构建一个 JavaHelp 系统。图 1 显示了这个 Tax Calculator。可以在本文最后的 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#resources" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">参考资料</A> 中找到这个例子的源代码。运行 <CODE>FirstLook</CODE> 以显示 Tax Calculator。</P>
        <P><A name=IDALEWZE><B>图 1. Tax Calculator 的 About 页</B></A><BR>
        <IMG height=260 
alt="初识 Tax Calculator 应用程序" src="example.gif" width=440 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P>在图 2 中您会看到 Tax Calculator 帮助系统的导航设置。注意突出显示了后面将要讨论的一些导航图标。</P>
        <P><A name=fig2><B>图 2. 导航帮助系统</B></A><BR>
        <IMG height=446 alt=导航图标 
src="images.jpg" width=600 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P>
        
        <TABLE cellSpacing=0 cellPadding=5 width="35%" align=right border=1>
          <TBODY>
            <TR>
              <TD background=向Java应用程序伸出援助之手.files/bg-gold.gif><P><A name=IDAHFWZE><B>安装 JavaHelp 2.0</B></A><BR>
                  可以在 <A 
href="http://java.sun.com/products/javahelp/download_binary.html">JavaHelp 
                  主页</A> 中找到 JavaHelp 2.0 二进制发布。在将下载的 zip 文件解压缩到所选的目录中以安装 JavaHelp 
                  软件之前，在开发计算机上必须已安装版本 1.2.2 或者是更高的 J2SE SDK。应当创建一个像 <CODE>JAVAHELP_HOME</CODE> 这样的环境变量以包含到安装 JavaHelp 2.0 的文件夹的路径。应当在 classpath 中加入 <BR>
                  %JAVAHELP_HOME%\javahelp\lib\jhall.jar。</P>
                <P>注意在安装版本 2.0 之前，必须删除所有以前版本的 JavaHelp。</P></TD>
            </TR>
          </TBODY>
        </TABLE>
        </P>
        <P><A name=IDA4FWZE><SPAN class=atitle2>使用 HelpSet</SPAN></A><BR>
          每一个 JavaHelp 
          帮助系统都包含一组称为 HelpSet 的文件。这些文件共同提供了应用程序帮助系统的工作基础。JavaHelp HelpSet 包括三种类型的文件：</P>
        <UL xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <LI>HelpSet 数据文件
          <LI>导航文件
          <LI>主题文件 </LI>
        </UL>
        <P>可以在 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#resources" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">参考资料</A> 中找到示例 Tax 
          Calculator 的帮助系统的 HelpSet 文件。HelpSet 数据文件是 TaxCalculatorHelpSet.hs 和 
          TaxCalculatorMap.jhm。导航文件是 TaxCalculatorIndex.xml、TaxCalculatorTOC.xml 和 
          TaxCalculatorGlossary.xml。主题文件位于文件夹 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">TaxCalculator</I> 中。请使用这些文件以跟随下面几节中的讨论。
        
        <P><A name=IDASGWZE><SPAN class=atitle3>HelpSet 数据文件</SPAN></A><BR>
          有两种 HelpSet 
          数据文件，分别是 helpset 文件和 map 文件。<I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">helpset 文件</I> 是帮助系统的主控制文件。它必须有文件扩展名 .hs。<I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">map 文件</I> 用于为每一个帮助主题关联一个 
          map ID 以进行导航。map 文件的文件扩展名是 .jhm。我将详细介绍每一种 HelpSet 文件类型。</P>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">helpset 文件</B><BR>
          helpset 
          文件提供了应用程序帮助系统的工作基础。一个典型的 helpset 文件的结构类似清单 1。</P>
        <A name=IDADHWZE><B>清单 1. 
        helpset 文件</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;helpset version="2.0"&gt;
    &lt;!-- maps section --&gt;
    &lt;maps&gt;...&lt;/maps&gt;
    
    &lt;!-- views section --&gt;
    &lt;view&gt;...&lt;/view&gt;
    ...
    
    &lt;!-- presentation section --&gt;
    &lt;presentation&gt;...&lt;/presentation&gt;
    
    &lt;!-- implementation section --&gt;
    &lt;impl&gt;...&lt;/impl&gt;
&lt;/helpset&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>可以注意到典型的 helpset 文件有四部分：maps（映射）部分、view（视图）部分、presentation（展示）部分和 
          implementation（实现）部分。当用户访问帮助系统时，系统首先读取 .hs 文件。它使用在 maps 部分指定的 map 文件寻找所需要的主题文件，在 
          view 部分的导航文件用于创建导航视图等。我将用 Tax Calculator 帮助系统作为例子展示这四部分 helpset 
          文件是如何实际共同工作的。</P>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><I>maps 部分</I></B><BR>
          <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">&lt;maps&gt; </I>元素指定 map 
          文件，我在下面还将进一步讨论。清单 2 显示了 TaxCalculatorHelpSet.hs 的 maps 部分。注意 
          TaxCalculatorMap.jhm 是一个 map 文件。它位于 TaxCalculatorHelpSet.hs 所在的同一目录。</P>
        <A 
name=IDAVHWZE><B>清单 2. maps 部分</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;maps&gt;
    &lt;homeID&gt;overview&lt;/homeID&gt;
    &lt;mapref location="TaxCalculatorMap.jhm" /&gt;
&lt;/maps&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><I>view 
          部分</I></B><BR>
          helpset 文件可以指定一个或者多个<I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> &lt;view&gt;</I> 元素，用于指定帮助系统的导航视图以及它们的导航文件。导航视图显示在导航窗格中（请参阅 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#fig2" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">图 
          2</A>）。在设置帮助系统时，可以选择以下的视图：</P>
        <UL xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <LI><CODE>javax.help.GlossaryView</CODE>
          <LI><CODE>javax.help.TOCView</CODE>
          <LI><CODE>javax.help.IndexView</CODE>
          <LI><CODE>javax.help.FavoritesView</CODE>
          <LI><CODE>javax.help.SearchView</CODE></LI>
        </UL>
        <P>清单 3 指定了一个 Glossary 视图和它的导航文件的位置。</P>
        <A name=IDADJ10E><B>清单 3. 一个 Glossary 
        视图元素</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;view&gt;
    &lt;name&gt;Glossary&lt;/name&gt;
    &lt;label&gt;Glossary&lt;/label&gt;
    &lt;type&gt;javax.help.GlossaryView&lt;/type&gt;
    &lt;data&gt;TaxCalculatorGlossary.xml&lt;/data&gt;
    &lt;image&gt;glossary_icon&lt;/image&gt;
&lt;/view&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>可以使用任何内容作为视图的 <CODE>&lt;name&gt;</CODE> 和 <CODE>&lt;label&gt;</CODE>。<CODE>&lt;type&gt;</CODE> 元素指定帮助系统的导航视图，而 <CODE>&lt;data&gt;</CODE> 元素指定导航文件的路径。如果指定 <CODE>&lt;image&gt;</CODE> 元素，图像将显示在导航窗格的顶部作为该视图的选项卡图标（如 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#fig2" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">图 2</A> 第 3 部分所示）。元素值 <CODE>glossary_icon</CODE> 是在 map 文件中定义的（请参阅 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#list6" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">清单 6</A>）。</P>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><I>presentation 
          部分</I></B><BR>
        <I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">&lt;presentation&gt;</I> 元素定义了帮助窗口属性，如清单 4 所示。</P>
        <A name=IDAWK10E><B>清单 4. presentation 部分</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;presentation default="true"&gt;
    &lt;name&gt;Main_Window&lt;/name&gt;
    &lt;size width="640" height="480" /&gt;
    &lt;location x="0" y="0" /&gt;
    &lt;title&gt;Tax Calculator&lt;/title&gt;
    &lt;image&gt;icon&lt;/image&gt;
    &lt;toolbar&gt;
        &lt;helpaction&gt;javax.help.BackAction&lt;/helpaction&gt;
        &lt;helpaction  image="addfav_icon"&gt;javax.help.FavoritesAction&lt;/helpaction&gt;
    &lt;/toolbar&gt;
&lt;/presentation&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>可以在 Java 代码中调用元素 <CODE>&lt;name&gt;</CODE> 的值 —— <CODE>Main_Window</CODE>。将用 <CODE>&lt;title&gt;</CODE> 元素指定帮助窗口的标题，用 <CODE>&lt;image&gt;</CODE> 元素指定标题栏图标（见 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#fig2" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">图 2</A> 的第一个面板）。注意这个 <CODE>icon</CODE> 是在下面 map 文件中定义的。<CODE>&lt;toolbar&gt;</CODE> 元素也是可配置的。如果没有指定一个值，那么帮助系统将包括一些默认的标题栏按钮。每一个 <CODE>&lt;helpaction&gt;</CODE> 对应于帮助窗口工具栏中的一个工具栏按钮。JavaHelp 提供了八种类型的 <CODE>helpaction</CODE>，如下所示：</P>
        <UL xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <LI><CODE>BackAction</CODE>
          <LI><CODE>ForwardAction</CODE>
          <LI><CODE>SeparatorAction</CODE>
          <LI><CODE>HomeAction</CODE>
          <LI><CODE>ReloadAction</CODE>
          <LI><CODE>PrintAction</CODE>
          <LI><CODE>PrintSetupAction</CODE>
          <LI><CODE>FavoritesAction</CODE></LI>
        </UL>
        <P>请参见前面的 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#fig2" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">图 
          2</A>，您会看到工具栏按钮是（从左到右）：<CODE>BackAction、ForwardAction、SeparatorAction、HomeAction、ReloadAction、SeparatorAction、PrintAction、PrintSetupAction</CODE> 和 <CODE>FavoritesAction</CODE>。可以通过指定 <CODE>&lt;helpaction&gt;</CODE> 元素的 <CODE>image</CODE> 属性改变工具栏按钮的图标。注意 <CODE>addfav_icon</CODE> 是在下面的 map 文件中定义的。将 <CODE>&lt;presentation&gt;</CODE> 标签的 <CODE>default</CODE> 属性改为 <CODE>true</CODE> 将使它成为帮助系统的默认展示。</P>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><I>implementation 
          部分</I></B><BR>
          在<I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> &lt;impl&gt;</I> 元素中，可以指定可以在内容查看器中显示的文件类型。例如，清单 5 中的代码使用户可以观看 HTML 和 PDF 文件。</P>
        <A 
name=IDAUO10E><B>清单 5. implementation 部分</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;impl&gt;
    &lt;helpsetregistry helpbrokerclass="javax.help.DefaultHelpBroker" /&gt;
    &lt;viewerregistry viewertype="text/html" viewerclass="com.sun.java.help.impl.CustomKit" /&gt;
    &lt;viewerregistry viewertype="application/pdf" viewerclass="Your PDF Editor Kit" /&gt;
&lt;/impl&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">map 文件</B><BR>
          <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">map 文件</I> 是在 HelpSet 
          数据文件中可以找到的另一种文件类型。它通过将 ID 字符串映射到帮助主题文件的 URL 而为每一个帮助主题关联一个 map ID。helpset 
          文件和导航文件总是通过 map ID 引用帮助主题。map 文件可以将 map ID 分配给任何类型的文件。清单 6 显示了 Tax Calculator 
          帮助系统的 map 文件。</P>
        <A name=list6><B>清单 6. TaxCalculatorMap.jhm</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;map version="2.0"&gt;
    ...
    &lt;mapID target="overview" url="TaxCalculator/overview.htm" /&gt;
    &lt;mapID target="icon" url="images/icon.gif" /&gt;
    &lt;mapID target="glossary_icon" url="images/g.gif" /&gt;
    &lt;mapID target="addfav_icon" url="images/addfav_icon.gif" /&gt;
    ...
&lt;/map&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><A name=IDAOP10E><SPAN class=atitle3>导航文件</SPAN></A><BR>
          回到原来的 
          HelpSet，可以看到下一种文件类型是导航文件。四种导航文件是 TOC、Index、Glossary 和 
          Favorites。帮助系统读取这些文件中的信息以建立四种类型的导航视图，然后将它们显示在导航窗格中。我将详细介绍每一种导航文件。</P>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">TOC</B><BR>
          每一个 <CODE>&lt;tocitem&gt;</CODE> 元素都可以有属性 <CODE>text</CODE>、<CODE>target</CODE> 和 <CODE>image</CODE>，如清单 7 所示。<CODE>text</CODE> 属性的值是 <CODE>tocItem</CODE> 的文字标签。<CODE>target</CODE> 属性的值是表示帮助主题文件的 map ID。<CODE>image</CODE> 属性指定一个显示在 <CODE>tocItem</CODE> 左边的图片。如果没有指定一个图片，那么帮助系统将使用默认图片，如 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#fig2" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">图 2</A> 的第四部分所示。清单 7 显示了 
          Tax Calculator 帮助系统的 TOC 文件的局部。</P>
        <A name=IDAFR10E><B>清单 7. 
        TaxCalculatorTOC.xml</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;toc version="2.0"&gt;
    ...
    &lt;tocitem text="Pages" image="topLevel"&gt;
        &lt;tocitem text="About Page" target="about" image="secondLevel" /&gt;
        &lt;tocitem text="Color Chooser" target="colorChooser" /&gt;
    &lt;/tocitem&gt;
    ...
&lt;/toc&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Index</B><BR>
          每一个 <CODE>&lt;indexitem&gt;</CODE> 元素都可以有属性 <CODE>text</CODE> 和 <CODE>target</CODE>。<CODE>text</CODE> 属性的值是 <CODE>indexItem</CODE> 的文字标签。<CODE>target</CODE> 属性的值是表示帮助主题文件的 map ID。清单 8 显示了 Tax Calculator 帮助系统的 
          index 文件的部分内容。</P>
        <A name=IDALS10E><B>清单 8. TaxCalculatorIndex.xml</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;index version="2.0"&gt;
    ...
    &lt;indexitem text="Color"&gt;
        &lt;indexitem text="Changing Color" target="changeColor"/&gt;
        &lt;indexitem text="Color Chooser" target="colorChooser"/&gt;	
    &lt;/indexitem&gt;
    ...
&lt;/index&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Glossary</B><BR>
          Glossary 
          文件也使用 <CODE>&lt;indexitem&gt;</CODE> 元素，如清单 9 所示。</P>
        <A name=IDA3S10E><B>清单 9. 
        TaxCalculatorGlossary.xml</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;index version="2.0"&gt;
    ...
    &lt;indexitem text="Button" target="button_def"/&gt;
    ...
&lt;/index&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Favorites</B><BR>
          帮助系统自动生成 
          Favorites.xml 文件。它存储在 <CODE>usrdir/javahelp</CODE> 中。如果在同一台计算机中安装了多个 JavaHelp 
          系统，那么将保留最后运行的帮助系统的 Favorites.xml。</P>
        <P><A name=IDAPT10E><SPAN class=atitle3>主题文件</SPAN></A><BR>
          主题文件为 HTML 格式。建议在 
          HTML 文件中指定 <CODE>&lt;title&gt;</CODE> 标签，因为 <CODE>&lt;title&gt;</CODE> 标签将用于在搜索数据库中进行全文搜索 —— 稍后将作介绍。</P>
        <P>在编写了主题文件、导航文件、map 文件和 helpset 文件后，就可以通过运行 %JAVAHELP_HOME%\demos\bin 中的 
          hsviewer.jar 打开 helpset。图 3 显示了浏览到 TaxCalculatorHelpSet.hs 并单击 Display 
          时所出现的情况。</P>
        <P><A name=IDACU10E><B>图 3. hsviewer 中的 Tax Calculator HelpSet</B></A><BR>
        <IMG 
height=155 alt="helpset 查看器" src="hsviewer.jpg" width=600 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=IDAOU10E><SPAN class=atitle2>在 Java 应用程序中调用 
          JavaHelp</SPAN></A><BR>
          在构建了一个基本的帮助系统后，会希望可以在 Java 应用程序中调用它。可以通过单击一个按钮或者菜单项调出 
          JavaHelp 系统。清单 10 显示了用按钮调出帮助系统的两种方式。不管采用哪种方式，第一步都是创建一个新的 
          helpset（如在前面的练习中所做的）并为它创建 <I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">help broker</I>。然后可以利用 
          help broker 的 <CODE>enableHelpOnButton()</CODE> 方法用按钮调出帮助系统，也可以加入一个名为 <CODE>CSH.DisplayHelpFromSource()</CODE> 的操作监听器。单击按钮时，操作监听器将得到操作源的 <CODE>helpID</CODE> 并在帮助查看程序中显示这个 <CODE>helpID</CODE>。清单 10 中显示了这两种方式。</P>
        <A 
name=IDAJV10E><B>清单 10. ButtonHelp.java</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>...
help_but=new JButton("Help");
...
Classloader loader = ButtonHelp.class.getClassLoader();
URL url = HelpSet.findHelpSet(loader, "TaxCalculatorHelpSet");
try {
    hs = new HelpSet(loader, url);
} catch (HelpSetException e) {
    ...   
}
HelpBroker helpbroker = hs.createHelpBroker("Main_Window");

/**-----the first way of calling a help system------------
helpbroker.enableHelpOnButton(help_but, "overview", hs);

/**-----the second way of calling a help system-----------
ActionListener contentListener = new CSH.DisplayHelpFromSource(helpbroker);
CSH.setHelpIDString(help_but, "overview");
help_but.addActionListener(contentListener);
*/
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>用菜单项调用帮助系统的过程与此类似。要了解有关用按钮调用的更多内容，请参阅本文源代码中的 ButtonHelp.java （在 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#resources" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">参考资料</A> 中），使用菜单项调用的情况请参阅 
          MenuItemHelp.java。</P>
        <P><A name=IDAZV10E><SPAN class=atitle2>自定义外观</SPAN></A><BR>
          尽管一开始完全可以使用默认的 
          JavaHelp 帮助系统，但是一般会希望定制它的外观以更好地适合自己的应用程序。在这一节，将介绍如何为 
          GUI　组件配置特别的图标，自定义导航标签和工具栏并设置帮助系统字体。</P>
        <P><A name=IDABW10E><SPAN class=atitle3>配置图标</SPAN></A><BR>
          可在 helpset 文件中配置 
          JavaHelp 标题栏图标、工具栏按钮图标和导航标签图标。标题栏图标是用 <CODE>&lt;presentation&gt;</CODE> 标签设置的，可以用 <CODE>&lt;presentation&gt;</CODE> 标签的 <CODE>&lt;helpaction&gt;</CODE> 元素的一个属性设置工具栏按钮图标，而导航标签图标可以在<CODE> &lt;view&gt;</CODE> 标签中设置。此外，可以在导航文件中设置导航文件项图标。</P>
        <P><A name=IDA0W10E><SPAN 
class=atitle3>基于文字的标签还是基于图像的标签？</SPAN></A><BR>
          可以在帮助系统中使用默认的图像标签，也可以使用文字标签。要使用文字标签，需要在 
          TaxCalculatorHelpSet.hs 中将 <CODE>&lt;presentation&gt;</CODE> 标签的 <CODE>displayviewimages</CODE> 属性设置为 <CODE>false</CODE>。例如，代码 <CODE>&lt;presentation default="true" displayviewimages="false"&gt;</CODE> 将得到如图 
          4 的第二个面板所示的基于文字的标签。</P>
        <P><A name=IDAUX10E><B>图 4. 图像标签和文字标签</B></A><BR>
        <IMG alt=图像标签 hspace=5 
src="tabIcon.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><IMG alt=文字标签 hspace=5 
src="tabWords.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P>注意如图 4 所示显示在文字标签上的字是 helpset 文件 TaxCalculatorHelpSet.hs 的 <CODE>&lt;view&gt;</CODE> 标签的 <CODE>&lt;label&gt;</CODE> 元素的值。</P>
        <P><A name=IDAQY10E><SPAN 
class=atitle3>要工具栏还是不要工具栏？</SPAN></A><BR>
          可以显示不带工具栏的帮助窗口。要选择所喜欢的那种方式，运行 
          ButtonHelp.java 文件的 ButtonHelp.class 并单击 Help 
          按钮。将会看到两个帮助窗口，一个带工具栏，另一个不带。如果选择不带工具栏，只要在 helpset 文件 TaxCalculatorHelpSet.hs 
          中创建一个没有 <CODE>&lt;toolbar&gt;</CODE> 元素的 <CODE>&lt;presentation&gt;</CODE> 标签。</P>
        <P><A name=IDABZ10E><SPAN class=atitle3>设置字体</SPAN></A><BR>
          设置帮助系统的字体非常容易。例如，代码 <CODE>Font font = new Font("SansSerif", Font.ITALIC, 10); 
          helpbroker.setFont(font);</CODE> 将产生如图 5b 所示的自定义字体，可以与图 5a 所示的默认字体进行比较。</P>
        <P><A name=IDAPZ10E><B>图 5a. 默认字体显示</B></A><BR>
        <IMG alt="图 5a. 默认字体显示" 
src="font-before1.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=IDA0Z10E><B>图 5b. 自定义字体显示</B></A><BR>
        <IMG alt="图 5b. 自定义字体显示" 
src="font-after1.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=IDAE010E><SPAN class=atitle2>使用展示窗口</SPAN></A><BR>
          在 JavaHelp 
          帮助系统中有三种类型 —— 或者层 —— 的帮助窗口：</P>
        <UL xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <LI><B>主窗口</B> 可以有图标、改变大小、让用户移动和让用户关闭。在默认情况下，主窗口包含一个工具栏、一个导航窗格和一个内容查看器。<BR>
            <BR>
          <LI><B>二级窗口</B> 可以有图标、改变大小、让用户移动、可以让用户关闭或者在关闭帮助查看器时关闭它。它可以包含工具栏和导航窗格，但是在默认情况下它只包含一个内容查看器。<BR>
            <BR>
          <LI><B>弹出窗口</B> 专门用于内容敏感的帮助，然而也可以定制它在其他地方使用。这个窗口不能改变大小或者移动，并且失去焦点时关闭。它只包含内容查看器。 </LI>
        </UL>
        <P>在不同的展示窗口之间移动信息很简单，可以通过配置主题文件或者调用 Java 代码中的函数实现。在给定主题文件中嵌入一个 <CODE>&lt;ahref=CODE> 
          标签会在调用时在当前窗口中打开链接的文件，不过要在二级窗口或者弹出窗口中显示新的主题文件需要多做一点工作（在下面讨论）。如要对展示做精心调整，可以在 
          JavaHelp API 中使用带参数 <CODE>presentation</CODE> 的方法。例如，<CODE>HelpBroker</CODE> 类的 <CODE>enableHelpOnButton()</CODE> 将像下面这样：</P>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
enableHelpOnButton(java.lang.Object obj, java.lang.String id, HelpSet hs, 
<SPAN class=boldcode>java.lang.String presentation</SPAN>, java.lang.String presentationName)
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>如果采用这种方式，将需要为参数 <CODE>presentation</CODE> 选择 <CODE>main 
          window</CODE>、<CODE>secondary window</CODE> 或者 <CODE>popup 
          window</CODE>。例如，下面一行代码将使用户可以单击按钮 <CODE>help_but</CODE> 在二级窗口中打开帮助主题：</P>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
helpbroker.enableHelpOnButton(help_but, "overview", hs, "javax.help.SecondaryWindow", "main");
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><A name=IDAN210E><SPAN class=atitle3>&lt;object&gt; 
          标签</SPAN></A><BR>
          如果选择使用主题文件而不是调用 Java 代码中的函数，那么将需要在 HTML 文件中加入<CODE> &lt;object&gt;</CODE> 标签以在不同类型的窗口中移动文件。清单 11 显示了如何用 <CODE>&lt;object&gt;</CODE> 标签打开一个二级窗口。</P>
        <A name=list11><B>清单 11. 打开一个二级窗口</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;object CLASSID="java:com.sun.java.help.impl.JHSecondaryViewer"&gt;
    &lt;param name="id" value="about"&gt;
    &lt;param name="viewerActivator" value="javax.help.LinkLabel"&gt;
    &lt;param name="iconByName" value="../images/topLevel.gif"&gt;
    &lt;param name="viewerSize" value="350,400"&gt;
    &lt;param name="viewerName" value="TaxCal"&gt;
&lt;/object&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><CODE>&lt;object&gt;</CODE> 标签有多个参数。表 1 
          介绍了二级窗口（<CODE>CLASSID="java:com.sun.java.help.impl.JHSecondaryViewer</CODE>）的 <CODE>&lt;object&gt;</CODE> 标签的 15 个有效的参数。</P>
        <A name=table1><B>表 1. object 
        标签的有效参数</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
          <TBODY>
            <TR>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">功能</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">参数</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">说明</B></TD>
            </TR>
            <TR>
              <TD>窗口</TD>
              <TD><CODE>viewStyle</CODE></TD>
              <TD>可以设置为 <CODE>javax.help.SecondaryWindow</CODE>（默认值）或者 <CODE>java.help.Popup</CODE>。</TD>
            </TR>
            <TR>
              <TD>内容</TD>
              <TD><CODE>id</CODE></TD>
              <TD>用在 map 文件中定义的 map ID 指定内容。</TD>
            </TR>
            <TR>
              <TD>内容 </TD>
              <TD><CODE>content</CODE></TD>
              <TD>用相对 URL 指定内容。</TD>
            </TR>
            <TR>
              <TD>Activator</TD>
              <TD><CODE>viewerActivator</CODE></TD>
              <TD>可以设置为 <CODE>javax.help.LinkButton</CODE>（默认值）或者 <CODE>javax.help.LinkLabel</CODE>。</TD>
            </TR>
            <TR>
              <TD>大小</TD>
              <TD><CODE>viewerSize</CODE></TD>
              <TD>示例：value="300, 400" 表明窗口是 300 像素宽，400 像素高。</TD>
            </TR>
            <TR>
              <TD>位置</TD>
              <TD><CODE>viewerLocation</CODE></TD>
              <TD>示例：value="300, 400" 表明窗口位于离左边 300 像素，离上边 400 像素的位置。</TD>
            </TR>
            <TR>
              <TD>名字</TD>
              <TD><CODE>viewerName</CODE></TD>
              <TD>设置窗口的名字。只对 <CODE>secondaryWindow</CODE> 起作用，<CODE>Popup window</CODE> 忽略这个参数。</TD>
            </TR>
            <TR>
              <TD>图标</TD>
              <TD><CODE>iconByID</CODE></TD>
              <TD>用在 map 文件中定义的 map ID 指定图像。</TD>
            </TR>
            <TR>
              <TD>图标</TD>
              <TD><CODE>iconByName</CODE></TD>
              <TD>用相对 URL 指定图像。</TD>
            </TR>
            <TR>
              <TD>文字</TD>
              <TD><CODE>text</CODE></TD>
              <TD>用户将会看到的字符串。</TD>
            </TR>
            <TR>
              <TD>文字特性</TD>
              <TD><CODE>textFontFamily</CODE></TD>
              <TD>可以设置为 <CODE>Serif、SansSerif、Monospaced、Dialog、DialogInput</CODE> 或者 <CODE>Symbol</CODE>。</TD>
            </TR>
            <TR>
              <TD>文字<CODE>特性</CODE></TD>
              <TD><CODE>textFontSize</CODE></TD>
              <TD>可以设置为 <CODE>xx-small</CODE>、<CODE>x-small</CODE>、<CODE>small</CODE>、<CODE>medium</CODE>、<CODE>large</CODE>、<CODE>x-large</CODE>、<CODE>xx-large</CODE>、<CODE>bigger</CODE>、<CODE>smaller</CODE> （bigger 和 smaller 的单位是 1）、<CODE>nnpt</CODE>（将字体大小设置为特定的磅数 nn）、<CODE>+n 
                ,-n</CODE>（<CODE>+n</CODE> 和 <CODE>-n</CODE> 将当前基准字体大小增加或者减小 n）、<CODE>n</CODE> （设置字体大小为与索引 n 相关联的磅数）。</TD>
            </TR>
            <TR>
              <TD>文字特性</TD>
              <TD><CODE>textFontWeight</CODE></TD>
              <TD>可以设置为 <CODE>plain</CODE> 或者 <CODE>bold</CODE>。</TD>
            </TR>
            <TR>
              <TD>文字特性</TD>
              <TD><CODE>textFontStyle</CODE></TD>
              <TD>可以设置为 plain 或者 italic。</TD>
            </TR>
            <TR>
              <TD>文字特性</TD>
              <TD><CODE>textColor</CODE></TD>
              <TD>可以设置为 <CODE>black、blue、cyan、darkGray、gray、green、lightGray、magenta、orange、pink、red、white</CODE> 或者 <CODE>yellow</CODE>。</TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><A name=IDAGF20E><SPAN class=atitle3>四种 activator</SPAN></A><BR>
          <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">activator</I> 是一个用户单击以启动展示窗口（弹出或者二级）的对象。使用参数 <CODE>viewerActivator</CODE> 和参数 <CODE>text</CODE> 或者 <CODE>icon</CODE> 将生成四种 activator：文字标签、图像标签、文字按钮或者图像按钮,如图 6 
          所示。（注意第二种 activator 是 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#list11" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">清单 11</A> 中的代码的结果。）</P>
        <P><A name=IDACG20E><B>图 6. activator 的四种类型</B></A><BR>
        <IMG alt=activators 
hspace=1 src="activators.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P>单击如图 6 所示的 About 页上的第二个或者第四个 activator 后，将可发现调出的二级窗口与主窗口几乎一样。如果回到 helpset 文件的 <CODE>&lt;presentation&gt;</CODE> 标签，将会看到 <CODE>Main_Window</CODE> 展示设置为 <CODE>default</CODE>。因为二级窗口也使用这个默认展示，它也有一个导航窗格和工具栏。</P>
        <P>调出展示窗口的完整代码和展示请见 about.htm。</P>
        <P><A name=IDA2G20E><SPAN 
class=atitle2>添加内容敏感的帮助</SPAN></A><BR>
          内容敏感的帮助是向用户提供信息的特别具有用户友好特点的方式。当用户单击一个特定的图标或者字段时 
          —— 如下面例子中显示的 Calculation 字段 —— 
          就会有一个弹出窗口解释功能或者这个字段下一步要做的事情。内容敏感的帮助可以归为下列三类之一：</P>
        <UL xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <LI><B>窗口级帮助：</B>当 Java 应用程序的窗口拥有焦点时，用户按下 Help 
            键（<B>F1</B>）以启动帮助系统的特定主题，它通常是一个介绍主题。<BR>
            <BR>
          <LI><B>字段级帮助：</B>当 Java 应用程序的 GUI 上的一个特定组件 —— 如文本字段或者按钮 —— 拥有焦点时，用户按下 Help 
            键（<B>F1</B>）或者单击一个按钮以启动帮助系统的描述当前组件的特定主题。<BR>
            <BR>
          <LI><B>屏幕级帮助：</B>用户单击一个按钮以调出具有描述应用程序当前屏幕的特定主题的帮助系统。 </LI>
        </UL>
        <P>我将在后面几节中介绍调用各种类型的内容敏感的帮助的基本内容。代码示例可见 ContextSensitiveHelp.java 文件中的完整源代码。</P>
        <P><A name=IDAXH20E><SPAN 
class=atitle3>窗口级帮助</SPAN></A><BR>
          当用户处在一个给定应用程序窗口中并发现他或者她需要帮助时，就可调出窗口级帮助。用户可以按 
          Help 键（<B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">F1</B>）调出窗口级帮助。调出的帮助系统如图 7 
          所示。</P>
        <P><A name=fig7><B>图 7. 用 Help 键（F1）调出窗口级帮助</B></A><BR>
        <IMG 
alt="用 Help 键（F1）调出窗口级帮助" src="contextSensitiveHelp1.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P>为了启用如图 7 所示的 Tax Calculator 窗口的 Help 键（<B 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">F1</B>），要调用 <CODE>helpbroker.enableHelpKey(getRootPane(), "personal", hs);</CODE>。注意我用帮助系统的 
          map ID <CODE>personal</CODE> 设置帮助主题。注意 <CODE>helpbroker.enableHelpKey()</CODE> 只对在基于 Swing 的应用程序中 JFrame 的 <CODE>rootPane</CODE> 或者基于 AWT 的应用程序的 <CODE>java.awt.Window</CODE> 起作用。我将在稍后讨论如何启用字段级组件的 Help 键。</P>
        <P><A name=IDAIJ20E><SPAN 
class=atitle3>字段级帮助</SPAN></A><BR>
          字段级帮助文件是根据焦点启动的，即光标的位置和按下 Help 键。清单 12 显示了如何用 <CODE>CSH.DisplayHelpFromFocus()</CODE> 启用字段级帮助的 Help 键。</P>
        <A 
name=IDAVJ20E><B>清单 12. 用 Help 键调出的字段级帮助</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
CSH.setHelpIDString(maid_tf, "maid");
CSH.setHelpIDString(course_tf, "course");
CSH.setHelpIDString(income_tf, "income");
CSH.setHelpIDString(result_tf, "result");
ActionListener listener = new CSH.DisplayHelpFromFocus(hs, "javax.help.MainWindow", null);
maid_tf.addActionListener(listener);
course_tf.addActionListener(listener);
income_tf.addActionListener(listener);
result_tf.addActionListener(listener);
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>继续上面的例子，单击 Calculation 选项卡以转换到 calculation 页并将光标移到这一页上的第一个文字字段 <CODE>maid_tf</CODE>。当光标在 <CODE>maid_tf</CODE> 中闪动时，按<B 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> F1</B> 在主窗口中显示 Maid Levy 
          帮助主题，如图 8 所示。</P>
        <P><A name=IDAMK20E><B>图 8. 用 Help 键调出的字段级帮助</B></A><BR>
        <IMG 
alt="用 Help 键调出的字段级帮助" src="contextSensitiveHelp.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P>也可以用按钮调出字段级帮助，如图 9 中的一个带有箭头的按钮。为此，应使用 <CODE>CSH.DisplayHelpAfterTracking()</CODE>，如下所示：</P>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
help_but.addActionListener(new CSH.DisplayHelpAfterTracking(hs,"javax.help.Popup", "popup"));
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>注意还有一个弹出窗口展示帮助主题。在单击箭头按钮并将光标移到 <CODE>maid_tf</CODE> 字段，然后单击鼠标，会显示一个带有帮助主题 
          Maid Levy 的弹出窗口，如图 9 所示。</P>
        <P><A name=IDAGL20E><B>图 9. 用按钮调出字段级帮助</B></A><BR>
        <IMG alt=用按钮调出字段级帮助 
src="contextSensitiveHelp3.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=IDAQL20E><SPAN 
class=atitle3>屏幕级帮助</SPAN></A><BR>
          当位于给定应用程序屏幕中的用户通过单击一个按钮请求关于该屏幕的信息（或者帮助）时，就会调出屏幕级帮助。在这个例子中，有一个有四种不同屏幕的选项卡窗格。清单 
          13 显示了一种根据当前屏幕显示帮助的方法。</P>
        <A name=IDAYL20E><B>清单 13. 屏幕级帮助</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
menu.addChangeListener(new ChangeListener() {
public void stateChanged(ChangeEvent evt) {
    int sel = menu.getSelectedIndex();
    if(sel==0) CSH.setHelpIDString(help_but1, "about");
    else if(sel==1) CSH.setHelpIDString(help_but1, "preference");
    else if(sel==2) CSH.setHelpIDString(help_but1, "personal");
    else if(sel==3) CSH.setHelpIDString(help_but1, "calculation");
    }
});
		     
...
help_but1.addActionListener(new CSH.DisplayHelpFromSource(hs, 
	"javax.help.SecondaryWindow", "secondary"));     
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>对象 <CODE>help_but1</CODE> 表示图 10 中带有文字 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Help</I> 的按钮。我为选项卡窗格 <CODE>menu</CODE> 添加了一个 <CODE>ChangeListener</CODE>。当焦点变为新的屏幕时，用 <CODE>CSH.setHelpIDString()</CODE> 为 <CODE>help_but1</CODE> 设置新的 <CODE>helpID</CODE>。注意 <CODE>help_but1</CODE> 还有一个名为 <CODE>CSH.DisplayHelpFromSource()</CODE> 的操作监听器。当用户单击按钮时，操作监听器将得到操作源（即 <CODE>help_but1</CODE>）的当前 <CODE>helpID</CODE>，并在帮助查看器中显示这个 <CODE>helpID</CODE>。因此，不管用户用任何种方法转换屏幕（使用选项卡或者菜单项），帮助系统都会显示当前屏幕的正确信息。</P>
        <P>图 10 显示当用户转换到 Preference 屏幕时，显示描述 preferences 的特定主题。</P>
        <P><A name=IDAUN20E><B>图 10. 屏幕级帮助</B></A><BR>
        <IMG alt="上下文敏感的帮助 —— 屏幕级帮助" 
src="contextSensitiveHelp2.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=IDA4N20E><SPAN 
class=atitle2>添加嵌入帮助</SPAN></A><BR>
          在建立了默认在线帮助系统后，可以将它直接嵌入到应用程序的界面中。清单 14 
          显示了如何将一个 TOC 视图嵌入到示例 Tax Calculator 应用程序中。<CODE>toc</CODE> 是一个 
          JPanel，<CODE>tabbedpane</CODE> 将 <CODE>toc</CODE> JPanel 关联到选项卡<I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> TOC</I>。<CODE>getNavigatorView()</CODE> 的参数必须与在帮助文件中定义的视图的名字相同。它是大小写敏感的。可以用类似的方式将其他导航视图嵌入到应用程序中。</P>
        <A 
name=IDAZO20E><B>清单 14. EmbeddedHelp.java</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
viewer = new JHelpContentViewer(hs);
viewer.setPreferredSize(new Dimension(250,220));
navTOC = (JHelpTOCNavigator)hs.getNavigatorView("TOC").createNavigator(viewer.getModel());
navTOC.setPreferredSize(new Dimension(150,220));
toc.add(navTOC);
toc.add(viewer);
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>图 11 显示了将 TOC 嵌入到 Tax Calculator 应用程序的结果。注意只有在选择了菜单项 Show 后才会显示帮助系统。</P>
        <P><A name=IDAFP20E><B>图 11. 嵌入的帮助</B></A><BR>
        <IMG height=530 alt=嵌入的帮助 
src="embeddedHelp.gif" width=440 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=IDARP20E><SPAN 
class=atitle2>添加搜索功能</SPAN></A><BR>
          搜索功能是帮助系统的基本部分。要想利用这种功能，需要创建一个搜索数据库。JavaHelp 
          API 包括一个可以自动索引帮助主题目录并建立搜索数据库的功能。按以下步骤创建搜索数据库：</P>
        <UL xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <LI>设置帮助主题所在的目录为当前目录。在这个例子中是 src\TaxCalculator。<BR>
            <BR>
          <LI>运行 <CODE>%JAVAHELP_HOME%\javahelp\bin\jhindexerTaxCalculator</CODE> 命令。记住 
            src\TaxCalculator 是存储主题文件的目录。这会在当前目录创建一个名为 <I>JavaHelpSearch</I> 的索引文件夹。<BR>
            <BR>
          <LI>运行 <CODE>%JAVAHELP_HOME%\javahelp\bin\jhsearchJavaHelpSearch</CODE> 命令以验证搜索数据库的有效性。如果看到消息 <CODE>initialized; enterquery</CODE>，就是成功创建了搜索数据库。 </LI>
        </UL>
        <P><A name=IDAVQ20E><SPAN class=atitle3>停用词</SPAN></A><BR>
          停用词（Stop 
          words）是在搜索时不提供结果的常用单词。下面是创建搜索数据库时使用的默认停用词。</P>
        <TABLE width="90%">
          <TBODY>
            <TR>
              <TD>a</TD>
              <TD>all</TD>
              <TD>am</TD>
              <TD>an</TD>
              <TD>and</TD>
              <TD>any</TD>
              <TD>are</TD>
              <TD>as</TD>
              <TD>at</TD>
              <TD>be</TD>
            </TR>
            <TR>
              <TD>but</TD>
              <TD>by</TD>
              <TD>can</TD>
              <TD>could</TD>
              <TD>for</TD>
              <TD>from</TD>
              <TD>etc</TD>
              <TD>does</TD>
              <TD>do</TD>
              <TD>did</TD>
            </TR>
            <TR>
              <TD>goes</TD>
              <TD>got</TD>
              <TD>had</TD>
              <TD>has</TD>
              <TD>have</TD>
              <TD>he</TD>
              <TD>her</TD>
              <TD>him</TD>
              <TD>his</TD>
              <TD>how</TD>
            </TR>
            <TR>
              <TD>if</TD>
              <TD>in</TD>
              <TD>is</TD>
              <TD>it</TD>
              <TD>let</TD>
              <TD>me</TD>
              <TD>more</TD>
              <TD>much</TD>
              <TD>must</TD>
              <TD>my</TD>
            </TR>
            <TR>
              <TD>nor</TD>
              <TD>not</TD>
              <TD>now</TD>
              <TD>of</TD>
              <TD>off</TD>
              <TD>on</TD>
              <TD>or</TD>
              <TD>our</TD>
              <TD>own</TD>
              <TD>see</TD>
            </TR>
            <TR>
              <TD>set</TD>
              <TD>shall</TD>
              <TD>she</TD>
              <TD>should</TD>
              <TD>so</TD>
              <TD>some</TD>
              <TD>than</TD>
              <TD>that</TD>
              <TD>the</TD>
              <TD>them</TD>
            </TR>
            <TR>
              <TD>then</TD>
              <TD>there</TD>
              <TD>these</TD>
              <TD>this</TD>
              <TD>those</TD>
              <TD>though</TD>
              <TD>to</TD>
              <TD>too</TD>
              <TD>us</TD>
              <TD>was</TD>
            </TR>
            <TR>
              <TD>way</TD>
              <TD>we</TD>
              <TD>what</TD>
              <TD>when</TD>
              <TD>where</TD>
              <TD>which</TD>
              <TD>who</TD>
              <TD>why</TD>
              <TD>will</TD>
              <TD>would</TD>
            </TR>
            <TR>
              <TD>yes</TD>
              <TD>yet</TD>
              <TD>you</TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>图 12 显示在 <CODE>EmbeddedHelp</CODE> 的搜索视图中搜索单词 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">how</I> 时所出现的情况。没有结果显示，因为在默认情况下<I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> how</I> 是一个停用词。</P>
        <P><A name=IDAGU20E><B>图 12. 默认停用词的搜索结果</B></A><BR>
        <IMG alt=利用默认的停用词 hspace=10 
src="stop-before.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=IDARU20E><SPAN 
class=atitle3>自定义停用词列表</SPAN></A><BR>
          可以创建一个自定义停用词列表。例如，假设希望将单词 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">how</I> 从默认停用词列表中删除。有两种方法可以做到这一点，它们都需要用一个配置文件。第一种方法要创建一个配置文件（config.txt），然后将停用词存到另一个名为 
          stopWords.txt 的文件中。然后文件 config.txt 用 <CODE>StopWordsFile stopWords.txt</CODE> 这一行指定停用词文件的位置。</P>
        <P>清单 15 显示了这个自定义停用词文件，其中去掉了单词<I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> how</I>。注意在 stopWords.txt 
          中，每个停用词都必须开始一个新行。</P>
        <A name=IDAEV20E><B>清单 15. stopWords.txt</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
a
all
...
his
if
...
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>也可以在配置文件中直接包含所有停用词。为此，只要创建一个名为 config1.txt 的配置文件并将停用词直接加入到配置文件中，如下所示：</P>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
StopWords a, all,..., his, if...
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>要索引自定义的停用词列表，需要让 src 
          成为当前目录并运行命令<BR>
          <CODE>%JAVAHELP_HOME%\javahelp\bin\jhindexer -c config.txt 
          TaxCalculator</CODE>。用自已的配置文件替换命令中的 config.txt。例如，如果用 <CODE>-c 
          config1.txt</CODE> 运行 <CODE>jhindexer</CODE> 命令，然后在 <CODE>EmbeddedHelp</CODE> 视图中重新搜索 <I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">how</I>，它将会返回几个结果项，如图 13 
          所示。</P>
        <P><A name=IDAIW20E><B>图 13.使用自定义停用词的搜索结果</B></A><BR>
        <IMG alt=定义自己的停用词 
src="stop-after.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P>搜索窗口中的红圈表明结果项与查询的相关程度。圆圈填充得越满，结果项的相关程度就越高。有五种相关程度。在图 13 
          中，数字表示查询在结果文件中匹配的次数。数字右边的文字是从帮助系统的主题文件中的 <CODE>&lt;title&gt;</CODE> 标签中提取的。</P>
        <P><A name=IDAYW20E><SPAN class=atitle2>合并 
          helpset</SPAN></A><BR>
          大型、模块化的应用程序可能需要创建很多 
          helpset，甚至可能是由开发应用程序不同方面的不同小组所创建的。让用户分别观看每一个 helpset 当然是有用的，但是他或者她可能还想将所有 
          helpset（或者主题列表）作为一个整体来看。要做到这一点，可以合并 helpset。</P>
        <P>在 JavaHelp 2.0 
          中有四种合并类型：<CODE>SortMerge、UniteAppendMerge</CODE>、<CODE>AppendMerge</CODE> 和 <CODE>NoMerge</CODE>。表 2 列出了这四种合并类型及它们的特点。</P>
        <A name=table2><B>表 2. JavaHelp 
        2.0 合并类型</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
          <TBODY>
            <TR>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">SortMerge</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">UniteAppendMerge</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">AppendMerge</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">NoMerge</B></TD>
            </TR>
            <TR>
              <TD>这种合并类型完全按字母排序。如果在一个新视图中的项与在现有视图中的一项有同样的文字和目标，那么在合并的视图中这两项将成为一项。如果只有文字是相同的，那么在项的结尾处将加上 
                helpset 标题。</TD>
              <TD>这种合并类型保留现有视图层次结构。它将两个视图中匹配的元素合并为一个元素，然后合并且排序匹配元素的所有子元素。它将所有剩下的元素附加到现有视图的最后。</TD>
              <TD>这种合并类型只是将新视图数据附加到现有视图数据之后。</TD>
              <TD>不进行合并。</TD>
            </TR>
            <TR>
              <TD>Search 视图的默认合并类型 。</TD>
              <TD>没有视图默认使用这种类型的合并。</TD>
              <TD>TOC、Index 和 Glossary 视图的默认合并类型。</TD>
              <TD>Favorites 视图的默认合并类型。</TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>每种合并类型都是在 helpset 文件或者在导航文件中指定的。为了正确合并，现有 helpset 的视图名和新 helpset 
          的视图名必须相同。可以静态或者动态地合并 helpset。</P>
        <P><A name=IDAPY20E><SPAN class=atitle3>静态和动态合并 </SPAN></A><BR>
          可以通过在现有 helpset 
          文件中添加 <CODE>&lt;subhelpset&gt;</CODE> 标签静态合并 helpset。如果使用绝对路径，那么位置应当有前缀 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">file:\</I>，如: <CODE>&lt;subhelpset 
          location="file:\...\helpset.hs"&gt;。如果使用相对路径，那么位置看起来应当像这样：</CODE><CODE>&lt;subhelpset 
          location="helpset.hs"&gt;</CODE>。</P>
        <P>可以用方法 <CODE>hs.add(hs1)、hs.remove(hs1)</CODE> 动态合并 helpset。<CODE>hs</CODE> 是现有 helpset，而 <CODE>hs1</CODE> 是新的 helpset。要看到动态合并操作的结果，请参见本文源代码中的 
          MergeHelp.java 并运行 <CODE>MergeHelp</CODE>。</P>
        <P><A name=IDAYZ20E><SPAN class=atitle3>结果</SPAN></A><BR>
          在图 14 中有两个 helpset TOC 
          以及合并它们的结果。</P>
        <P><A name=IDAB020E><B>图 14. 合并</B></A><BR>
        <IMG alt="合并前 1" hspace=5 
src="merge-before1.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><IMG alt="合并前 2" hspace=5 
src="merge-before2.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><IMG alt=合并后 hspace=5 
src="merge-after.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><IMG alt="合并后 1" hspace=5 
src="merge-after1.gif" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P>在现有 helpset 的 TOC 视图标签中添加属性 <CODE>mergetype="javax.help.UniteAppendMerge"</CODE> 将得到图 14 的第三个面板中的合并的 
          helpset，如清单 16 所示。</P>
        <A name=IDAA120E><B>清单 16. Mergetype 属性 —— 
        TaxCalculatorHelpSet.hs</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;view <SPAN class=boldcode>mergetype="javax.help.UniteAppendMerge"</SPAN>&gt;
	&lt;name&gt;TOC&lt;/name&gt;
	&lt;label&gt;TOC&lt;/label&gt;
	&lt;type&gt;javax.help.TOCView&lt;/type&gt;
	&lt;data&gt;TaxCalculatorTOC.xml&lt;/data&gt;
&lt;/view&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>图 14 的第四个面板显示了在现有 helpset 的 TOC 导航文件中的 <CODE>tocitem</CODE> Pages 中添加属性 <CODE>mergetype="javax.help.SortMerge"</CODE> 的结果，如清单 17 所示。注意第三个和第四个面板中 Pages 
          主题的不同展示。在第三个面板中，新视图的元素附加到现有视图的最后。在第四个面板中，新视图和现有视图的元素按字母排列。</P>
        <A 
name=IDAW120E><B>清单 17. Mergetype 属性 —— TaxCalculatorTOC.xml</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;tocitem text="Pages" image="topLevel" <SPAN class=boldcode>mergetype="javax.help.SortMerge"</SPAN>&gt;
       ...   
&lt;/tocitem&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>如果选择了菜单项 Add，那么就合并两个 helpset。如果没有选择这个菜单项，那么应用程序就从第一个 helpset 中删除第二个 
          helpset。</P>
        <P><A name=IDAD220E><SPAN class=atitle2>添加轻量级组件</SPAN></A><BR>
          Java 
          平台的轻量级组件类可以在定制帮助系统方面发挥很多作用。例如，您已经看到如何用轻量级组件类 <CODE>JHSecondaryViewer</CODE> 和 <CODE>&lt;object&gt;</CODE> 标签，创建及打开二级窗口和弹出窗口。在本节，将在这个练习的基础上创建自己的轻量级组件，然后用 <CODE>&lt;object&gt;</CODE> 标签操纵它。将开发一个组件类 <CODE>LightWeightCom</CODE>，在用户单击一个图像时它会播放一段音频。</P>
        <P>请参阅本文源代码 LightWeightCom.java 和 LightWeightComBeanInfo.java，以跟随本节的例子。要观看结果，使用 
          about.htm。</P>
        <P>清单 18 中显示的 <CODE>BeanInfo</CODE> 类提供了关于轻量级组件的清晰信息。它必须扩展 <CODE>SimpleBeanInfo</CODE>。<CODE>getPropertyDescriptors()</CODE> 是 <CODE>ContentViewer</CODE> 使用的这个类中的惟一方法。</P>
        <A name=IDAP320E><B>清单 18. 
        LightWeightComBeanInfo.java</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
public PropertyDescriptor[] getPropertyDescriptors() {
    PropertyDescriptor back[] = new PropertyDescriptor[4];
    try {
        back[0] = new PropertyDescriptor("iconByName", LightWeightCom.class);
        back[1] = new PropertyDescriptor("iconByID", LightWeightCom.class);
        back[2] = new PropertyDescriptor("audioByName", LightWeightCom.class);
        back[3] = new PropertyDescriptor("audioByID", LightWeightCom.class);
        return back;
    } catch (Exception ex) {
        return null;
    }
}
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>轻量级组件类必须直接扩展 <CODE>java.awt.Component</CODE> 或者 <CODE>java.awt.Container</CODE>，或者一个实现了轻量级组件的类。这个例子扩展 <CODE>JLabel</CODE>，它是一个实现了轻量级组件的类。如果您的组件将利用 <CODE>View</CODE> 的信息，那么必须实现 <CODE>com.sun.java.help.impl.ViewAwareComponent</CODE> 接口的 <CODE>setViewData()</CODE> 方法。对于这个示例音频组件，我将利用 <CODE>View</CODE> 的 helpset 
          和文档库（document base）信息，如清单 19 所示。</P>
        <A name=IDAX420E><B>清单 19. 
        LightWeightCom.java —— 实现 setViewData</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
	public class LightWeightCom extends JLabel implements ViewAwareComponent {
    ... 
    public void setViewData(View v) {
        myView = v;
	doc = (HTMLDocument) myView.getDocument();
	base = doc.getBase();

	// Loop through and find the JHelpContentViewer
	Component c = container = (Component) myView.getContainer();
	while (c != null) {
            if (c instanceof JHelpContentViewer) {
                break;
	    }
	    c = c.getParent();
	}

	// Get the helpset if there was JHelpContentViewer
	if (c !=null) {
	    TextHelpModel thm = ((JHelpContentViewer)c).getModel();
	    if (thm != null) {
                hs = thm.getHelpSet();
	    }
	}
    }
    ...
}
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>轻量级组件应当可以接受参数。例如，清单 20 设计为接收 <CODE>param 
          audioByID</CODE>。<CODE>setAudioByID</CODE> 方法使用由 <CODE>setViewData()</CODE> 获取的 
          helpset 信息。这个方法用 <CODE>map ID</CODE> 得到主题文件的位置，如下所示。</P>
        <A name=IDAT520E><B>清单 
        20. LightWeightCom.java —— setAudioByID</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
public void setAudioByID(String name) {
    sound = null;
    URL url=null;
    Map map = hs.getCombinedMap();
    try {
        url = map.getURLFromID(ID.create(name, hs));
    } catch (java.net.MalformedURLException e2) {
        return;
    }
    sound = Applet.newAudioClip(url);
}
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>编译 LightWeightCom.java 和 LightWeightComBeanInfo.java 
          后，将它们的类添加到类路径中并在帮助主题文件中添加清单 21 中的各行。在这个例子中，我将它们加到 about.htm 
          中。结果，单击图像标签时，将播放不同的音频片段。注意 <CODE>&lt;object&gt;</CODE> 标签的属性 <CODE>CLASSID</CODE> 必须以 <CODE>java:</CODE> 开始，否则，帮助查看器将忽略它。</P>
        <A 
name=IDAOA30E><B>清单 21. about.htm 中的 Object 标签</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;OBJECT CLASSID="java:LightWeightCom"&gt;
    &lt;param name="iconByID" value="top"&gt;
    &lt;param name="audioByID" value="music"&gt;
&lt;/OBJECT&gt;
&lt;OBJECT CLASSID="java:LightWeightCom"&gt;
    &lt;param name="iconByName" value="../images/leaf2.gif"&gt;
    &lt;param name="audioByName" value="../audio/voice.au"&gt;
&lt;/OBJECT&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><A name=IDAYA30E><SPAN 
class=atitle2>基于服务器的帮助</SPAN></A><BR>
          基于服务器的应用程序需要在线帮助。在这一节，将介绍如何向网络上的用户展示帮助系统。为了跟随本节中的练习，最好熟悉 
          Tomcat Web 服务器以及 JavaBean 和 JavaServer pages （JSP）技术的基础知识，以及 JavaScript 和 HTML 
          脚本。</P>
        <P>
        
        <TABLE cellSpacing=0 cellPadding=5 width="30%" align=right border=1>
          <TBODY>
            <TR>
              <TD background=向Java应用程序伸出援助之手.files/bg-gold.gif><P><A name=IDABB30E><B>服务器上的服务更少</B></A><BR>
                  JavaHelp 2.0 
                  的基于服务器的帮助比基于客户机的帮助所提供的功能要少，尽管它非常健壮。基于服务器的帮助只包括 TOC、Index 和 Search 
                  视图，并且它不包括对使用和创建轻量级组件的支持。因此，不能在弹出窗口或者二级窗口中打开主题文件、或者为服务器端帮助系统创建自定义轻量级组件。</P></TD>
            </TR>
          </TBODY>
        </TABLE>
        </P>
        <P><A name=IDAJB30E><SPAN class=atitle3>设置</SPAN></A><BR>
          我将使用 Tomcat Web server 
          4.1.18 运行本节中的例子。如果在开发计算机上没有安装 Tomcat version 4.0 或者更高版本，那么现在应当安装它。（更多信息请参阅 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#resources" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">参考资料</A>。）</P>
        <P>为了完成这些练习，在 Tomcat Web 服务器的 webapps 目录创建一个文件夹并将其命名为 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">TaxCalculatorHelp</I>。作为最简单的基于服务器的帮助设置，我将利用 
          JavaHelp 2.0 的 serverhelp demo 中的代码。可以在 %JAVAHELP_HOME%/demos/serverhelp/web 
          目录中找到这些代码。将所有 .js、.html、.jsp、.tld 文件和子文件夹 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">images</I> 拷贝到新的<I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> TaxCalculatorHelp</I> 文件夹中。将自己的 helpset 文件也拷贝到这个文件夹。最后，在<I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> TaxCalculatorHelp</I> 中，创建一个名为 <I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">WEB-INF</I> 的文件夹和两个名字分别为<I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> classes</I> 和 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">lib</I> 的子文件夹。将 jh.jar 拷贝到 
          WEB-INF/lib，就设置完成了。这种设置的例子请见本文源代码。</P>
        <P><A name=IDAGC30E><SPAN class=atitle3>JavaHelp 服务器 
          bean</SPAN></A><BR>
          <CODE>ServletHelpBroker</CODE> 是存储帮助状态信息的 JavaBeans 组件，如所使用的 
          helpset、当前 ID、当前导航视图和其他帮助信息。清单 22 的第 1 行定义了 help broker。第 2 和第 3 行通过提供 <CODE>helpSetName</CODE> 设置特定 helpset 的 help broker。第 4 到第 6 行将新的 helpset 合并到现有的 
          HelpSet。如果 <CODE>merge</CODE> 属性设置为 <CODE>false</CODE>，那么 help broker 将只对现有 
          HelpSet 起作用。</P>
        <A name=IDA4C30E><B>清单 22. JavaHelp 服务器 bean</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
1. &lt;jsp:useBean id="helpBroker" class="javax.help.ServletHelpBroker" scope="session" /&gt;
2. &lt;jh:validate helpBroker="&lt;%= helpBroker %&gt;" 
3.              helpSetName="TaxCalculatorHelp/TaxCalculatorHelpSet.hs"/&gt;
4. &lt;jh:validate merge="&lt;%= true %&gt;" 
5.              helpSetName="TaxCalculatorHelp/ContextSensitive/HelpSet.hs"
6.              helpBroker="&lt;%= helpBroker %&gt;" /&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><A name=IDAID30E><SPAN class=atitle3>JavaScript 文件</SPAN></A><BR>
          有几个重要的 
          JavaScript 文件。tree.js 用于构建树。可以用这个文件创建 TOC 和 Index 视图的导航树。可以用清单 23 中的代码构建树。文件 
          searchList.js 可以用于构建 Search 视图的树。util.js 
          检查内容中是否有任何改变。如果发生了改变，那么就会由这个改变触发更新。</P>
        <A name=IDAQD30E><B>清单 23. 
        构建树</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
indexTree = new Tree(name, lineHeight, selectColor, showIcon, expandAll)
indexTree.addTreeNode(parent, idnum, icon, content, helpID, URLData, expandType)
indexTree.drawTree();
indexTree.refreshTree();
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><A name=IDA0D30E><SPAN class=atitle3>JSP 文件</SPAN></A><BR>
          要介绍几个重要的 JSP 
          文件。navigator.jsp 用于从 helpset 
          文件中得到视图。javax.help.TOCView.jsp、javax.help.SearchView.jsp 和 
          javax.help.IndexView.jsp 分别构建它们相应的视图。help.jsp 文件控制帮助窗口的整体展示。<A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#fig15" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">图 15</A> 中帮助窗口的顶部帧显示标题（banner）。可以通过修改 banner.html 文件创建自己的标题。也可排除标题。图 15 中左下方的帧包含文件 
          navigator.jsp 和一个树导航器。右下方的帧包含文件 toolbar.html 和帮助主题内容查看器。可以将帧移到其他位置以及加入和/或排除帧而改变 
          GUI 显示。</P>
        <P>让我们首先分析 navigator.jsp 文件。</P>
        <A name=code24><B>清单 24. 
        navigator.jsp</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
&lt;jh:navigators helpBroker="&lt;%= helpBroker %&gt;" &gt;
    &lt;td classtableDefStyle BGCOLOR="&lt;%= isCurrentNav.booleanValue() 
      ? "white" : "#E5E5E5" %&gt;" ALIGN="center"&gt;
    &lt;A class=tabbedAnchorStyle 
      HREF="navigator.jsp_nav=&lt;%= name %&gt;"&gt;
    &lt;IMG src="&lt;%= iconURL!=""? iconURL : "images/" + 
      className +".gif" %&gt;" Alt="&lt;%= tip %&gt;" border=0&gt;
    &lt;/A&gt;
    &lt;/td&gt;
&lt;/jh:navigators&gt;
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>表 3 列出了所有 JSP 扩展。注意所有 JSP 扩展都必须以符号<CODE> jh:</CODE> 开始。</P>
        <A 
name=table3><B>表 3. JSP 扩展</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
          <TBODY>
            <TR>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">标签 </B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">说明</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">属性</B></TD>
            </TR>
            <TR>
              <TD><CODE>validate</CODE></TD>
              <TD>用新的 helpset 设置 help broker，它可以与其他 helpset 合并。它还可以指定当前 ID</TD>
              <TD>要求的属性：<CODE>helpbroker</CODE>; 非要求的属性：<CODE>setInvalidURL</CODE>, <CODE>helpSetName</CODE>, <CODE>currentID</CODE>, <CODE>merge</CODE></TD>
            </TR>
            <TR>
              <TD><CODE>navigators</CODE></TD>
              <TD>返回给定 help broker 的 <CODE>navigatorView</CODE> 信息</TD>
              <TD>要求的属性：<CODE>helpbroker</CODE>; 非要求的属性：<CODE>currentNav</CODE></TD>
            </TR>
            <TR>
              <TD><CODE>tocItem</CODE></TD>
              <TD>返回给定 <CODE>TOCView</CODE> 的 <CODE>tocItem</CODE> 信息</TD>
              <TD>要求的属性：<CODE>tocView</CODE>, <CODE>helpbroker</CODE>; 
                非要求的属性：<CODE>baseID</CODE></TD>
            </TR>
            <TR>
              <TD><CODE>indexItem</CODE></TD>
              <TD>返回给定 <CODE>IndexView</CODE> 的 <CODE>IndexItem</CODE> 信息</TD>
              <TD>要求的属性：<CODE>indexView</CODE>、<CODE>helpbroker</CODE>，非要求的属性：<CODE>baseID</CODE></TD>
            </TR>
            <TR>
              <TD><CODE>searchTOCItem</CODE></TD>
              <TD>返回给定 <CODE>SearchView</CODE> 的 <CODE>SearchTOCItem</CODE> 信息</TD>
              <TD>要求的属性：<CODE>searchView</CODE>、<CODE>helpbroker</CODE>，非要求的属性：<CODE>baseID</CODE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>注意嵌套在 JSP 扩展的正文中的脚本变量 <CODE>navigators</CODE>、<CODE>tocItem</CODE>、<CODE>indexItem</CODE> 和 <CODE>searchTOCItem</CODE>。<A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#code24" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">清单 24</A> 用嵌套的变量的 <I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">名字</I> 从 helpset 
          文件中得到所有视图。下表显示了在 <CODE>&lt;jh:navigators&gt;</CODE> 开始和结束标签之间可以使用的变量。</P>
        <A 
name=table4><B>表 4. 导航器变量</B></A>
        <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
          <TBODY>
            <TR>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">变量</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">数据类型</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">说明</B></TD>
            </TR>
            <TR>
              <TD><CODE>classname</CODE></TD>
              <TD>String</TD>
              <TD><CODE>NavigatorView</CODE> 类的名字，例如，<CODE>javax.help.TOCView</CODE></TD>
            </TR>
            <TR>
              <TD><CODE>name</CODE></TD>
              <TD>String</TD>
              <TD>在 helpset 中定义的视图的名字，在这个例子中，对于 <CODE>NavigatorView</CODE> 类 <CODE>javax.help.TOCView</CODE> 它是“TOC”</TD>
            </TR>
            <TR>
              <TD><CODE>tip</CODE></TD>
              <TD>String</TD>
              <TD>视图的工具提示</TD>
            </TR>
            <TR>
              <TD><CODE>iconURL</CODE></TD>
              <TD>String</TD>
              <TD>在 helpset 中的视图的 image 属性中定义的图标位置</TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>现在，让我们分析文件 javax.help.TOCView.jsp。</P>
        <A name=IDAGM30E><B>清单 25. 
        javax.help.TOCView.jsp</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=5 width="100%" bgColor=#cccccc border=1>
          <TBODY>
            <TR>
              <TD><PRE><CODE>
tocTree = new Tree("tocTree", 16, "ccccff", true, false);
&lt;% TOCView curNav = (TOCView)helpBroker.getCurrentNavigatorView(); %&gt;
&lt;jh:tocItem helpBroker="&lt;%= helpBroker %&gt;" tocView="&lt;%= curNav %&gt;" &gt;
tocTree.addTreeNode("&lt;%= parentID %&gt;","&lt;%= nodeID %&gt;","&lt;%= iconURL!=""?iconURL:"null" %&gt;",
		   "&lt;%= name %&gt;","&lt;%= helpID %&gt;","&lt;%= contentURL!=""?contentURL:"null" %&gt;",
		   "&lt;%= expansionType%&gt;" );
&lt;/jh:tocItem&gt;
tocTree.drawTree();
tocTree.refreshTree();
</CODE></PRE></TD>
            </TR>
          </TBODY>
        </TABLE>
        <P>这段代码构建当前 helpset 的 TOC 导航树。可以用类似的方式创建 Search 和 Index 视图。您已经知道了 JSP 扩展 <CODE>tocItem</CODE>、<CODE>indexItem</CODE> 和 <CODE>searchTOCItem</CODE> 及它们的属性。下面将介绍它们的嵌套变量，可在 <CODE>&lt;jh:tocItem&gt;</CODE>、<CODE>&lt;jh:indexItem&gt;</CODE> 和 <CODE>&lt;jh:searchTOCItem&gt;</CODE> 的开始和结束标签之间调用下面表 5 和表 6 的变量。</P>
        <A 
name=table5><B>表 5. tocItem 和 indexItem 变量的功能</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
          <TBODY>
            <TR>
              <TD><B>变量</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">数据类型</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">说明</B></TD>
            </TR>
            <TR>
              <TD><CODE>name</CODE></TD>
              <TD>String</TD>
              <TD>用 <CODE>tocItem</CODE> 或者 <CODE>IndexItem</CODE> 的“name”属性设置的文字</TD>
            </TR>
            <TR>
              <TD><CODE>target</CODE></TD>
              <TD>String</TD>
              <TD>用 <CODE>tocItem</CODE> 或者 <CODE>IndexItem</CODE> 的“target”属性设置的目标</TD>
            </TR>
            <TR>
              <TD><CODE>parent</CODE></TD>
              <TD>String</TD>
              <TD>标识父代码的十六进制值</TD>
            </TR>
            <TR>
              <TD><CODE>parentID</CODE></TD>
              <TD>String</TD>
              <TD>标识父代码的字符串</TD>
            </TR>
            <TR>
              <TD><CODE>node</CODE></TD>
              <TD>String</TD>
              <TD>标识当前节点的十六进制值</TD>
            </TR>
            <TR>
              <TD><CODE>nodeID</CODE></TD>
              <TD>String</TD>
              <TD>标识当前节点的字符串</TD>
            </TR>
            <TR>
              <TD><CODE>iconURL</CODE></TD>
              <TD>String</TD>
              <TD>定位在 <CODE>tocItem</CODE> 或者 <CODE>IndexItem</CODE> 中的“image”属性中定义的图标</TD>
            </TR>
            <TR>
              <TD><CODE>contentURL</CODE></TD>
              <TD>String</TD>
              <TD>由这一项所表示的内容的 URL</TD>
            </TR>
            <TR>
              <TD><CODE>isCurrentNav</CODE></TD>
              <TD>Boolean</TD>
              <TD>如果是当前导航器则为 true，否则为 false。<B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">注意：</B>这个变量只对<CODE> tocItem</CODE> 可用</TD>
            </TR>
          </TBODY>
        </TABLE>
        <P></P>
        <A name=table6><B>表 6. searchTOCItem 变量的功能</B></A><BR>
        <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
          <TBODY>
            <TR>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">变量</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">数据类型</B></TD>
              <TD><B xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">说明</B></TD>
            </TR>
            <TR>
              <TD><CODE>name</CODE></TD>
              <TD>String</TD>
              <TD><CODE>searchTOCItem</CODE> 的名字</TD>
            </TR>
            <TR>
              <TD><CODE>helpID</CODE></TD>
              <TD>String</TD>
              <TD>与<CODE> searchTOCItem</CODE> 相关联的 ID</TD>
            </TR>
            <TR>
              <TD><CODE>confidence</CODE></TD>
              <TD>String</TD>
              <TD>查询结果的相关程度</TD>
            </TR>
            <TR>
              <TD><CODE>hits</CODE></TD>
              <TD>String</TD>
              <TD>在得到的文件中查询匹配的次数</TD>
            </TR>
            <TR>
              <TD><CODE>contentURL</CODE></TD>
              <TD>String</TD>
              <TD>内容的位置</TD>
            </TR>
            <TR>
              <TD><CODE>hitBoundries</CODE></TD>
              <TD>String</TD>
              <TD>一组边界</TD>
            </TR>
          </TBODY>
        </TABLE>
        <P><A name=IDA5S30E><SPAN 
class=atitle2>测试服务器端帮助</SPAN></A><BR>
          所有开发过程的最后一步自然是测试工作的成果。要测试服务器端帮助系统，遵循以下步骤：</P>
        <UL xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <LI>运行 Tomcat 服务器
          <LI>打开 Web 浏览器
          <LI>进入 URL http://127.0.0.1:8080/TaxCalculatorHelp </LI>
        </UL>
        <P>跟随 Web 页面中的链接，可以找到服务器端帮助系统。当进入第一个链接时，将会看到与图 15a 同样的一个窗口。当进入第二个链接时，将会看到与图 15b 
          相同的窗口。</P>
        <P><A name=fig15a><B>图 15a. 服务器端帮助</B></A><BR>
        <IMG height=402 
src="serverHelp.gif" width=464 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=fig15b><B>图 15b. 服务器端帮助</B></A><BR>
        <IMG height=399 
src="serverHelp1.gif" width=412 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></P>
        <P><A name=IDAEU30E><SPAN class=atitle2>结束语</SPAN></A><BR>
          本文介绍了 Java 平台的帮助系统 
          API: JavaHelp 2.0。利用 JavaHelp，可以容易地在任何 Java 应用程序、组件或者设备中加入全功能的、标准的帮助系统。一个独立的 
          JavaHelp 帮助系统可以在任何平台上运行并可以嵌入到任何应用程序中。有了 JavaHelp 
          2.0，还可以为网络上的用户开发健壮的帮助系统，虽然功能没有那么全。</P>
        <P>JavaHelp 2.0 有许多很好的功能，我们在这篇文章中对它们作了初步探讨。通过一步一步的解释和练习，介绍了如何创建和操纵位于 JavaHelp 
          2.0 帮助系统核心的主题文件、导航文件和 helpset 数据文件。还介绍了如何定制自己的 helpset、将它嵌入到现有的 Java 应用程序中、合并 
          helpset、为帮助系统创建轻量级组件插件、为用户提供上下文敏感的帮助等。在本文的最后介绍了 JavaHelp 2.0 API 的服务器端帮助功能。</P>
        <P>在这里，我鼓励读者练习所学的内容。研究本文的源代码并试着用 JavaHelp 2.0 API 构建不同功能和不同类型的帮助系统。更多参考请参阅 <A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#resources" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">参考资料</A> 中的文章。</P>
        <!-- RESOURCES-->
        
        <P><A name=resources><SPAN class=atitle2>参考资料</SPAN></A>
        
        <UL>
          <!-- Comment out list item below if there is no forum for this article-->
          <LI>下载本文所用的 <A 
href="ftp://www6.software.ibm.com/software/developer/library/j-javahelp2-source.zip" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">源代码</A>。<BR>
            <BR>
          <LI>请在 Java 技术主页下载 <A 
href="http://java.sun.com/products/javahelp/download_binary.html" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">JavaHelp 2.0</A> 和最新的 <A 
href="http://java.sun.com/j2se/" trackclick="no" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">J2SE JDK</A>。<BR>
            <BR>
          <LI>如果还没有安装的话，需要先安装 <A href="http://jakarta.apache.org/site/binindex.cgi" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Tomcat 4.0 或更高版本</A> 才能完成本文中的练习。<BR>
            <BR>
          <LI>要学习更多 JavaHelp 2.0 API 的内容，请参阅 Sun 的<A 
href="http://java.sun.com/products/javahelp/index.jsp" trackclick="no" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> JavaHelp </A>主页。<BR>
            <BR>
          <LI>更多参考，请见 <A 
href="http://java.coe.psu.ac.th/Extension/JavaHelp2.0/javahelp-2_0-guide.pdf" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">JavaHelp 2.0 系统用户指南</A>。 <BR>
            <BR>
          <LI>文章“<A href="http://www.winwriters.com/articles/javahelp/" trackclick="no" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Sun Officially Unveils 
            JavaHelp 2.0 Beta</A>”（WinWriters.com，2003 年）提供了 JavaHelp 2.0 方方面面的更多内幕。<BR>
            <BR>
          <LI>Marshall Lamb 的多少有点过时的“<A 
href="http://www-106.ibm.com/developerworks/java/library/j-javahelp/" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">A custom utility class for 
            JavaHelp software</A>” （<I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">developerWorks</I>，2000 年 
            7 月）只展示了企业开发人员定制 JavaHelp API 方法中的一种。<BR>
            <BR>
          <LI>JavaHelp 不是惟一可用的一帮助系统 API。请参阅“<A 
href="http://www-106.ibm.com/developerworks/opensource/library/os-echelp/" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Documenting your project 
            using the Eclipse help system</A>” （<I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">developerWorks</I>，2004 年 
            1 月）以了解 Eclipse 开发平台的帮助系统 API。<BR>
            <BR>
          <LI>即使开发人员也偶尔需要访问帮助系统，有时需要远程访问帮助系统。在文章“<A 
href="http://www-106.ibm.com/developerworks/websphere/library/techarticles/0402_vera/0402_vera.html" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Running the WebSphere 
            Studio help system remotely</A>”（<I 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">developerWorks</I>，2004 年 
            2 月）中，Angel Vera 展示了如何从远方运行 WebSphere Studio Application Developer 帮助系统。<BR>
            <BR>
          <LI>请参阅 Kevin Lewis 的 <I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><A 
href="http://www.oreilly.com/catalog/creatingjavahelp/toc.html" 
trackclick="no">Creating Effective JavaHelp</A></I> （O'Reilly，2000 年），这本书整个都是介绍 
            JavaHelp API。<BR>
            <BR>
          <LI>可以在 <I xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">developerWorks</I> <A 
href="http://www-900.ibm.com/developerWorks/cn/java/" trackclick="no" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Java 技术专区</A> 发现关于 Java 
            编程各个方面的文章。<BR>
            <BR>
          <LI>请访问 <A href="http://devworks.krcinfo.com/">Developer 
            Bookstore</A>，获得技术书籍的详细列表，其中包括数百本 <A 
href="http://devworks.krcinfo.com/WebForms/ProductList.aspx?Search=Category&amp;id=1200" 
trackclick="no" xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Java 相关的图书</A>。<BR>
            <BR>
          <LI>还可以参阅 <A 
href="http://www-900.ibm.com/developerWorks/cn/cnedu.nsf/java-onlinecourse-bytitle?OpenView&amp;Count=500">Java 
            技术专区教程主页</A>，从 <A 
href="http://www.ibm.com/developerWorks/cn/">developerWorks</A> 获得免费的 Java 
            相关教程的完整列表。<BR>
          </LI>
        </UL>
        <P></P>
        <!-- AUTHOR BIOS--><!-- Make author heading singular or plural as needed-->
        
        <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
          <TBODY>
            <TR>
              <TD><A name=author1><SPAN class=atitle2>关于作者</SPAN></A><BR>
                <IMG height=80 
alt=作者照片 src="" width=64 align=left 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Nancy Chen Junhua 
                是一位具有多年经验的自由软件顾问和开发人员。她也在新加坡南洋科技大学从事 agent learning 方面的研究。可以通过 <A 
href="mailto:nancy_chenjunhua@yahoo.com" trackclick="no" 
xmlns:dw="http://www.ibm.com/developerWorks/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">mailto:nancy_chenjunhua@yahoo.com</A>。</TD>
            </TR>
          </TBODY>
        </TABLE>
        <P></P></TD>
      <TD width=10><IMG height=1 alt="" 
src="c.gif" width=10 
border=0></TD>
    </TR>
  </TBODY>
</TABLE>
<!-- END PAPER BODY--><BR clear=all>
<IMG 
height=10 alt="" src="c.gif" 
width=100 border=0><BR>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
    <TR>
      <TD align=right width="100%"><A 
href="http://www-900.ibm.com/developerWorks/cn/java/j-javahelp2/index.shtml#top">到页首</A></TD>
      <TD width=5><IMG height=1 alt="" 
src="c.gif" width=5 
border=0></TD>
    </TR>
    <TR vAlign=top>
      <TD bgColor=#000000 colSpan=2><IMG height=1 alt="" 
src="c.gif" width=100 
border=0></TD>
    </TR>
    <TR vAlign=top>
      <TD bgColor=#ffffff colSpan=2><IMG height=8 alt="" 
src="c.gif" width=100 
border=0></TD>
    </TR>
  </TBODY>
</TABLE>
<TABLE cellSpacing=0 cellPadding=10 width="100%" border=0>
  <TBODY>
    <TR vAlign=top>
      <TD><FORM name=getURL 
action=/developerWorks/cn/cnratings.nsf/RateArticle?CreateDocument 
method=post>
          <INPUT type=hidden value="向 Java 应用程序伸出援助之手" name=ArticleTitle>
          <INPUT type=hidden value=file:///J:/技巧_CHM/java/向Java应用程序伸出援助之手.htm name=url>
          <INPUT type=hidden value=Java name=Zone>
          <INPUT type=hidden 
value=/developerWorks/cn/thankyou/feedback-java.html name=RedirectURL>
          <A 
name=rating><B>您对这篇文章的看法如何？</B></A>
          <TABLE cellSpacing=0 cellPadding=0 width=600 border=0>
            <TBODY>
              <TR>
                <TD colSpan=5><IMG height=8 alt="" 
src="c.gif" width=100 
border=0></TD>
              </TR>
              <TR vAlign=top>
                <TD width="16%"><INPUT type=radio value=5 name=Rating>
                  真棒！(5)</TD>
                <TD width="20%"><INPUT type=radio value=4 name=Rating>
                  好材料 (4)</TD>
                <TD width="24%"><INPUT type=radio value=3 name=Rating>
                  一般；尚可 (3)</TD>
                <TD width="22%"><INPUT type=radio value=2 name=Rating>
                  需提高 (2)</TD>
                <TD width="18%"><INPUT type=radio value=1 name=Rating>
                  太差！ 
                  (1)</TD>
              </TR>
            </TBODY>
          </TABLE>
          <BR>
          <B>建议？</B><BR>
          <TEXTAREA name=Comments rows=5 wrap=virtual cols=60></TEXTAREA>
          <BR>
          <BR>
          <INPUT type=submit value=提交反馈意见>
      </FORM></TD>
    </TR>
    <TR vAlign=top>
      <TD bgColor=#ffffff><IMG height=8 alt="" 
src="c.gif" width=100 
border=0></TD>
    </TR>
  </TBODY>
</TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
    <TR>
      <TD align=right>(c) Copyright IBM Corp. 2001, (c) Copyright IBM China 2001, All 
        Right Reserved</TD>
    </TR>
    <TR vAlign=top>
      <TD class=bbg height=21>&nbsp;&nbsp;<A class=mainlink 
href="index.shtml&amp;origin=dwhead">关于 
        IBM</A><SPAN class=divider>&nbsp;&nbsp;|&nbsp;&nbsp;</SPAN><A class=mainlink 
href="index.shtml&amp;origin=dwhead">隐私条约</A><SPAN 
class=divider>&nbsp;&nbsp;|&nbsp;&nbsp;</SPAN><A class=mainlink 
href="index.shtml&amp;origin=dwhead">使用条款</A><SPAN 
class=divider>&nbsp;&nbsp;|&nbsp;&nbsp;</SPAN><A class=mainlink 
href="index.shtml&amp;origin=dwhead">联系 
        IBM</A></TD>
    </TR>
  </TBODY>
</TABLE>

</A><!--EndFragment-->
</BODY>
</HTML>