

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="author" content="王俊杰" />
    <meta name="Copyright" content="Csdn" />
    <meta name="description" content="有关时间操作的实用函数集合 " />
    <meta name="keywords" content="王俊杰,有关时间操作的实用函数集合 " />
    <link rel="Shortcut Icon" href="http://profile.csdn.net/doc123/picture/1.ico" />
    <link href="http://hi.images.csdn.net/css/default/default_1.css" type="text/css" rel="stylesheet" media="all" /><link href="http://blog.csdn.net/doc123/rss.aspx" title="RSS" type="application/rss+xml" rel="alternate" />
    <title>
        有关时间操作的实用函数集合  - doc123的专栏 - CSDNBlog</title>
</head>
<body id="defaultuser">
    <div id="csdnblog_allwrap">
        <form name="Form1" method="post" action="2950821.aspx" language="javascript" onsubmit="javascript:return WebForm_OnSubmit();" id="Form1">
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" id="
__VIEWSTATE" value="" />

<script type="text/javascript">
<!--
var theForm = document.forms['Form1'];
if (!theForm) {
    theForm = document.Form1;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
// -->
</script>


<script src="/WebResource.axd?d=vPBp1uwAXcWW_HR7kQLSJw2&amp;t=633368809778488179" type="text/javascript"></script>

<script type="text/javascript">
//<![CDATA[
var Anthem_FormID = "Form1";
//]]>
</script>
<script src="/WebResource.axd?d=xe4Hb-SpxzFzlneGulsvshD5tJaeoT5rOhxhNgNV4Rw1&amp;t=633532073515543195" type="text/javascript"></script>
<script src="/WebResource.axd?d=sCPKYj5Niyz0W_esyXefUe_mVagR4BQx1pHtu2ZkeZk1&amp;t=633368809778488179" type="text/javascript"></script>
<script type="text/javascript">
<!--
function WebForm_OnSubmit() {
if (typeof(ValidatorOnSubmit) == "function" && ValidatorOnSubmit() == false) return false;
return true;
}
// -->
</script>

        
<div id="csdnblog_midwrap">
    <div id="csdnblog_header">
        
        <h1><a id="Header1_HeaderTitle" href="http://blog.csdn.net/doc123/">doc123的专栏</a></h1><h2>Life-long learning,To learn every day!</h2>
        
        <ul id="personalnav"><li><a href="http://passport.csdn.net/UserLogin.aspx">登录</a></li><li><a href="http://passport.csdn.net/CSDNUserRegister.aspx">注册</a></li></ul>
        
        <ul id="blogsearchsty"><li><input id="inputSearch" type="text" class="bolgsearch" onkeydown="return keyb(event)" /></li><li class="selectsty"><select name="Search:ddlSearchScope" id="Search_ddlSearchScope"><option value="all">全站</option><option value="doc123">当前博客</option></select></li><li><input type="button" onclick="checkNull()" value="搜索" class="bolggobtn" /></li></ul>
        
        <ul id="menu"><li><a href="http://hi.csdn.net/doc123">空间</a></li><li><a href="http://blog.csdn.net/doc123" class="on">博客</a></li><li><a href="http://hi.csdn.net/doc123/profile/contactlist/1.html">好友</a></li><li><a href="http://album.hi.csdn.net/" target="_blank">相册</a></li><li><a href="http://hi.csdn.net/doc123/profile/notebook/1.html" class="last">留言</a></li></ul>
    </div>
    <div id="csdnblog_sidebar">
        <div class="gutter">
            <div class="aboutauthor">
                <dl>
                    
                    <dt>用户操作</dt><dd class="middle"><a href="http://passport.csdn.net/UserLogin.aspx?from=http://webim.csdn.net/Messages/doc123.ashx" target="_blank">[即时聊天]</a> <a href="http://passport.csdn.net/UserLogin.aspx?from=http://hi.csdn.net/Admin/WriteMessage.aspx?Receiver=doc123" target="_blank">[发私信]</a> <a href="http://passport.csdn.net/UserLogin.aspx?from=http://webim.csdn.net/AddFriends/doc123.ashx" target="_blank">[加为好友]</a></dd><dt>    doc123<span>ID：doc123</span></dt><dd class="middle">    <img src="http://avatar.profile.csdn.net/C/7/E/1_doc123.jpg" alt="" /></dd><dd class="middle">    <a href="http://profile.csdn.net/8/E4/edit.html"></a></dd><dd>    共<em>153</em>次访问，排名<em>2万外</em>好友<em>0</em>人，关注者<em>0</em>人<br/>做事认真、踏实、负责，为人谦虚、自律、自信；对事物有敏锐的洞察力；能很好的与人沟通，有团队合作精神；对工作会付出全部精力和热情，制定缜密计划，力争在最短时间内将目标达成；喜欢挑战，能在较短时间内适应高压力的工作。</dd><dd>    </dd><dt>doc123的文章</dt><dd>原创 59 篇</dd><dd>翻译 0 篇</dd><dd>转载 5 篇</dd><dd>评论 0 篇</dd> 
                    
                    <dt>王俊杰的公告</dt><dd>Growth in learning, learning in progress!
请留下您宝贵的建议或意见！
如果觉得文章可以，您可以收藏起来！</dd>

                    <dt>最近评论</dt>
                    
                    <dt>文章分类</dt><dd><div class="publiclist_sidebar"><ul><li><a href="http://blog.csdn.net/doc123/category/464505.aspx"> IT动态 </a><a href="http://blog.csdn.net/doc123/category/464505.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/doc123/category/464506.aspx"> JavaScript </a><a href="http://blog.csdn.net/doc123/category/464506.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/doc123/category/464508.aspx"> 软件下载 </a><a href="http://blog.csdn.net/doc123/category/464508.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/doc123/category/464510.aspx"> 源码下载 </a><a href="http://blog.csdn.net/doc123/category/464510.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/doc123/category/464504.aspx">.NET程序</a><a href="http://blog.csdn.net/doc123/category/464504.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/doc123/category/464485.aspx">J2EE</a><a href="http://blog.csdn.net/doc123/category/464485.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/doc123/category/464486.aspx">JSP开发</a><a href="http://blog.csdn.net/doc123/category/464486.aspx/rss">(RSS)</a></li></ul></div></dd><dt>收藏</dt><dd><div class="publiclist_sidebar"><ul></ul></div></dd><dt>相册</dt><dt> 免费资源 </dt><dd><a href="http://www.ip138.com/" target="_self">IP地址查询--手机号码查询归属地  邮政编码查询  长途电话区号  身份证号码验证在线查询网</a></dd><dd><a href="http://www.51j2ee.com/" target="_self">j2ee人才招聘,行业信息,专业书推荐,j2ee项目下载,e书下载-j2ee行业网站</a></dd><dd><a href="http://www.javafan.net/" target="_self">Java,Java教程下载,Java电子书籍,Java技术文章,Java开源代码  网站首页</a></dd><dd><a href="http://www.china-code.net/" target="_self">中国代码网China-Code.Net-打造中国最大代码、源代码、源码下载网站</a></dd><dd><a href="http://blog.chinaunix.net/u1/59737/index.php" target="_self">学习资料汇总</a></dd><dd><a href="http://www.sc-cn.net/" target="_self">素材中国 图片,素材,矢量，壁纸，3D，动画，图标，字体</a></dd><dd><a href="http://freep.cn/" target="_self">随意贴-免费图片上传-淘宝上传图片-图片外链-中国最早最稳定的免费上传图片网站-FREEP.cn</a></dd><dt>java网站</dt><dd><a href="http://download.chinaitlab.com/program/files/17556.html" target="_self">IT实验室</a></dd><dd><a href="http://www.itpub.net/thread-595838-1-1.html" target="_self">Java web开发及框架技术 - ITPUB论坛 - 皓辰传媒旗下专业技术社区</a></dd><dd><a href="http://www.javaeye.com/" target="_self">JavaEye</a></dd><dd><a href="http://www.iselong.com/online/ebooks/javascript/" target="_self">JavaScript 参考教程</a></dd><dd><a href="http://www.chinajavaworld.com/index.jspa?categoryID=1" target="_self">java中文世界论坛</a></dd><dd><a href="http://www.77169.com/book/program/jscript/htm/JSTOCAlt.htm" target="_self">JScript 语言参考</a></dd><dd><a href="http://www.jdon.com/" target="_self">J道</a></dd><dd><a href="http://www.matrix.org.cn/" target="_self">与java共舞</a></dd><dd><a href="http://www.cn-java.com/www1/" target="_self">中文java技术网</a></dd><dd><a href="http://doc471115146.ys168.com/" target="_self">免费提供IT行业资料下载（1）</a></dd><dd><a href="http://doc703877808.ys168.com" target="_self">免费提供IT行业资料下载（2）</a></dd><dd><a href="http://develop.csai.cn/category.asp" target="_self">希赛网</a></dd><dd><a href="http://www.enet.com.cn/" target="_self">硅谷动力</a></dd><dd><a href="http://hi.baidu.com/usermy" target="_self">进步，思索</a></dd><dt>黑客技术</dt><dd><a href="http://hackbase.com/" target="_self">黑客基地</a></dd><dt>存档</dt><dd><div class="publiclist_sidebar"><ul><li><a href="/doc123/archive/2008/09.aspx">2008年09月(64)</a></li></ul></div></dd>

                    <span id="RecentVisitors"></span>
                    
                    <dt>软件项目交易</dt><dd><iframe style="margin:0;　padding:0; width: 180px; height: 32px;" src="http://prj.csdn.net/CSDN/CsdnBlog/CsdnBlogPage.html" frameborder="0" scrolling="no" ></iframe></dd>
                    
                    <span id="SubscriptionList"><dt>订阅我的博客</dt><dd><a href="http://blog.csdn.net/doc123/Rss.aspx" ><img border="0" alt="XML聚合" src="/images/xml.gif" /></a>&nbsp;&nbsp;<a href="http://feeds.feedsky.com/csdn.net/doc123" target="_blank"><img border="0" alt="FeedSky" src="/images/feedsky.gif" /></a></dd><dd><a href="http://www.xianguo.com/subscribe.php?url=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到鲜果" src="/images/rss_xianguo.jpg"/></a></dd><dd><a href="http://fusion.google.com/add?feedurl=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到Google" src="/images/rss_google.gif"/></a></dd><dd><a href="http://www.zhuaxia.com/add_channel.php?url=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到抓虾" src="/images/rss_zhuaxia.gif"/></a></dd><dd><a href="http://www.bloglines.com/sub/http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到BlogLines" src="/images/rss_bloglines.gif"/></a></dd><dd><a href="http://add.my.yahoo.com/rss?url=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到Yahoo" src="/images/rss_yahoo.gif"/></a></dd><dd><a href="http://rss.gougou.com/find_rss.jsp?url=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到GouGou" src="/images/rss_gougou.gif"/></a></dd><dd><a href="http://www.pageflakes.com/subscribe.aspx?url=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到飞鸽" src="/images/rss_pageflakes.gif"/></a></dd><dd><a href="http://www.rojo.com/add-subscription?resource=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到Rojo" src="/images/rss_rojo.gif"/></a></dd><dd><a href="http://www.newsgator.com/ngs/subscriber/subfext.aspx?url=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到newsgator" src="/images/rss_newsgator.gif"/></a></dd><dd><a href="http://www.netvibes.com/subscribe.php?url=http://blog.csdn.net/doc123/Rss.aspx" target="_blank"><img border="0" alt="订阅到netvibes" src="/images/rss_netvibes.gif"/></a></dd></span>
                </dl>
            </div>
        </div>
    </div>
    
    <div id="csdnblog_content">
        <div class="gutter">
            
                    
<div class="default_contents">
    <div class="user_article">
        <script type="text/javascript" src="http://blog.csdn.net/js/LoadFeedbackCount.js"></script>
        <h1><img src="/images/turnship.gif" border="0" width="15" height="14" alt="转载" />&nbsp;<a href="http://blog.csdn.net/doc123/archive/2008/09/19/2950821.aspx">有关时间操作的实用函数集合 </a><cite class="fav_csdnstylebykimi"><a href="JavaScript:d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(saveit=window.open('http://wz.csdn.net/storeit.aspx?t='+escape(d.title)+'&u='+escape(d.location.href)+'&c='+escape(t),'saveit','scrollbars=no,width=590,height=300,left=75,top=20,status=no,resizable=yes'));saveit.focus();" class="fav_csdnstylebykimi" title="收藏到我的网摘中，并分享给我的朋友">收藏</a></cite></h1>
<div class="blogstory">
    <span id="Post.ascx_ViewPost_PreviousAndNextEntriesUp"><h3><a href="http://blog.csdn.net/doc123/archive/2008/09/19/2950833.aspx">新一篇:&nbsp;java 中计算时间差 </a>&nbsp;|&nbsp;<a href="http://blog.csdn.net/doc123/archive/2008/09/19/2950811.aspx">旧一篇:&nbsp;J2EE面试题集锦(附答案) </a></h3></span>
    <script>function StorePage(){d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(keyit=window.open('http://www.365key.com/storeit.aspx?t='+escape(d.title)+'&u='+escape(d.location.href)+'&c='+escape(t),'keyit','scrollbars=no,width=475,height=575,left=75,top=20,status=no,resizable=yes'));keyit.focus();}</script>&nbsp;
<DIV class="entry-body nerr" style="DISPLAY: block">
<P>import java.text.SimpleDateFormat;<BR>import java.util.Calendar;<BR>import java.util.Date;</P>
<P>/**<BR>&nbsp;* 有关时间操作的实用函数集合<BR>&nbsp;* <BR>&nbsp;* @author Quad(百全)<BR>&nbsp;* @version 1.0<BR>&nbsp;* @time 2007年09月18日03时37分40秒.359<BR>&nbsp;* @attention 修改后，运行程序，取得当前时间，修改历史记录<BR>&nbsp;* @history 1.2007年09月18日03时37分40秒.359 新建<BR>&nbsp;*/</P>
<P>/**<BR>&nbsp;* 在SimpleDateFormat的构造函数中指定模式，比如:<BR>&nbsp;* <BR>&nbsp;* SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd",Locale.SIMPLIFIED_CHINESE);<BR>&nbsp;* <BR>&nbsp;* 也可以获取时间格式的时候使用applyPattern函数临时指定:<BR>&nbsp;* &nbsp;&nbsp;SimpleDateFormat sdf = new SimpleDateFormat("",Locale.SIMPLIFIED_CHINESE);<BR>&nbsp;* &nbsp;&nbsp;sdf.applyPattern("yyyy年MM月dd日_HH时mm分ss秒");<BR>&nbsp;* &nbsp;&nbsp;String timeStr = sdf.format(new Date());<BR>&nbsp;* <BR>&nbsp;* 什么字符代表什么，这是j2se约定好的，设置模式的时候，我们可以使用约定好的字符加上任何我们想要的字符串。<BR>&nbsp;* <BR>&nbsp;* j2se对字符所代表的模式的约定列表如下：<BR>&nbsp;* <BR>&nbsp;* Letter&nbsp;Date or Time Component&nbsp;Presentation<BR>&nbsp;* G&nbsp;&nbsp;Era designator&nbsp;&nbsp;&nbsp;Text<BR>&nbsp;* y&nbsp;&nbsp;Year&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Year<BR>&nbsp;* M&nbsp;&nbsp;Month in year&nbsp;&nbsp;&nbsp;Month<BR>&nbsp;* w&nbsp;&nbsp;Week in year&nbsp;&nbsp;&nbsp;Number<BR>&nbsp;* W&nbsp;&nbsp;Week in month&nbsp;&nbsp;&nbsp;Number<BR>&nbsp;* D&nbsp;&nbsp;Day in year&nbsp;&nbsp;&nbsp;&nbsp;Number<BR>&nbsp;* d&nbsp;&nbsp;Day in month&nbsp;&nbsp;&nbsp;Number<BR>&nbsp;* F&nbsp;&nbsp;Day of week in month&nbsp;Number<BR>&nbsp;* E&nbsp;&nbsp;Day in week&nbsp;&nbsp;&nbsp;&nbsp;Text<BR>&nbsp;* a&nbsp;&nbsp;Am/pm marker&nbsp;&nbsp;&nbsp;Text<BR>&nbsp;* H&nbsp;&nbsp;Hour in day (0-23)&nbsp;&nbsp;Number<BR>&nbsp;* k&nbsp;&nbsp;Hour in day (1-24&nbsp;&nbsp;Number<BR>&nbsp;* K&nbsp;&nbsp;Hour in am/pm (0-11)&nbsp;Number<BR>&nbsp;* h&nbsp;&nbsp;Hour in am/pm (1-12)&nbsp;Number<BR>&nbsp;* m&nbsp;&nbsp;Minute in hour&nbsp;&nbsp;&nbsp;Number<BR>&nbsp;* s&nbsp;&nbsp;Second in minute&nbsp;&nbsp;Number<BR>&nbsp;* S&nbsp;&nbsp;Millisecond&nbsp;&nbsp;&nbsp;&nbsp;Number<BR>&nbsp;* z&nbsp;&nbsp;Time zone&nbsp;&nbsp;&nbsp;&nbsp;General time zone<BR>&nbsp;* Z&nbsp;&nbsp;Time zone&nbsp;&nbsp;&nbsp;&nbsp;RFC 822 time zone<BR>&nbsp;* <BR>&nbsp;* */</P>
<P>public class TimeUtils {</P>
<P>&nbsp;/**<BR>&nbsp; * 将当前时间格式化成“yyyy年MM月dd日HH时mm分ss秒.SSS”<BR>&nbsp; * <BR>&nbsp; * @return 格式化后的当前时间<BR>&nbsp; */<BR>&nbsp;public&nbsp; String getNowTime() {<BR>&nbsp;&nbsp;return formatTime(null, null);<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 得到当前时间的毫秒数<BR>&nbsp; * <BR>&nbsp; * @return 当前时间的毫秒数<BR>&nbsp; */<BR>&nbsp;public long getCurrentMilliseconds() {<BR>&nbsp;&nbsp;Calendar cal = Calendar.getInstance();<BR>&nbsp;&nbsp;return cal.getTimeInMillis();<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 将要格式化的时间格式成“yyyy年MM月dd日HH时mm分ss秒.SSS”<BR>&nbsp; * <BR>&nbsp; * @param originalTime<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 需要被格式化的时间<BR>&nbsp; * @return 已格式化的时间<BR>&nbsp; */<BR>&nbsp;public&nbsp; String formatTime(Date originalTime) {<BR>&nbsp;&nbsp;return formatTime(originalTime, null);<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 将当前时间格式化成指定格式<BR>&nbsp; * <BR>&nbsp; * @param format<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 指定格式<BR>&nbsp; * @return 格式化后的当前时间<BR>&nbsp; */<BR>&nbsp;public&nbsp; String formatTime(String format) {<BR>&nbsp;&nbsp;return formatTime(null, format);<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 格式化时间<BR>&nbsp; * <BR>&nbsp; * @param originalTime<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 需要被格式化的时间<BR>&nbsp; * @param format<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 格式<BR>&nbsp; * @return desttime 已格式化的时间<BR>&nbsp; */<BR>&nbsp;public&nbsp; String formatTime(Date originalTime, String format) {</P>
<P>&nbsp;&nbsp;String destTime = null;</P>
<P>&nbsp;&nbsp;if (originalTime == null) {<BR>&nbsp;&nbsp;&nbsp;originalTime = Calendar.getInstance().getTime();<BR>&nbsp;&nbsp;}</P>
<P>&nbsp;&nbsp;if (format == null) {<BR>&nbsp;&nbsp;&nbsp;format = "yyyy年MM月dd日HH时mm分ss秒.SSS";<BR>&nbsp;&nbsp;}</P>
<P>&nbsp;&nbsp;// 设置时间格式<BR>&nbsp;&nbsp;SimpleDateFormat dateFormat = new SimpleDateFormat(format);</P>
<P>&nbsp;&nbsp;try {<BR>&nbsp;&nbsp;&nbsp;// 格式化时间<BR>&nbsp;&nbsp;&nbsp;destTime = dateFormat.format(originalTime);<BR>&nbsp;&nbsp;} catch (Exception ex) {<BR>&nbsp;&nbsp;&nbsp;System.out.println("格式化时间失败：");<BR>&nbsp;&nbsp;&nbsp;System.out.println(ex.getMessage());<BR>&nbsp;&nbsp;}</P>
<P>&nbsp;&nbsp;return destTime;<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 计算两个时间之间相隔天数<BR>&nbsp; * <BR>&nbsp; * @param startDay<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 开始时间<BR>&nbsp; * @param endDay<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结束时间<BR>&nbsp; * @return 两个时间之间相隔天数<BR>&nbsp; */<BR>&nbsp;public int getIntervalDays(Calendar startDay, Calendar endDay) {<BR>&nbsp;&nbsp;// 确保startday在endday之前<BR>&nbsp;&nbsp;if (startDay.after(endDay)) {<BR>&nbsp;&nbsp;&nbsp;Calendar cal = startDay;<BR>&nbsp;&nbsp;&nbsp;startDay = endDay;<BR>&nbsp;&nbsp;&nbsp;endDay = cal;<BR>&nbsp;&nbsp;}<BR>&nbsp;&nbsp;// 分别得到两个时间的毫秒数<BR>&nbsp;&nbsp;long sl = startDay.getTimeInMillis();<BR>&nbsp;&nbsp;long el = endDay.getTimeInMillis();</P>
<P>&nbsp;&nbsp;long ei = el - sl;<BR>&nbsp;&nbsp;// 根据毫秒数计算间隔天数<BR>&nbsp;&nbsp;return (int) (ei / (1000 * 60 * 60 * 24));<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 计算两个时间之间相隔天数<BR>&nbsp; * <BR>&nbsp; * @param startDay<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 开始时间<BR>&nbsp; * @param endDay<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结束时间<BR>&nbsp; * @return 两个时间之间相隔天数<BR>&nbsp; */<BR>&nbsp;public int getIntervalDays(Date startDay, Date endDay) {<BR>&nbsp;&nbsp;// 确保startday在endday之前<BR>&nbsp;&nbsp;if (startDay.after(endDay)) {<BR>&nbsp;&nbsp;&nbsp;Date cal = startDay;<BR>&nbsp;&nbsp;&nbsp;startDay = endDay;<BR>&nbsp;&nbsp;&nbsp;endDay = cal;<BR>&nbsp;&nbsp;}<BR>&nbsp;&nbsp;// 分别得到两个时间的毫秒数<BR>&nbsp;&nbsp;long sl = startDay.getTime();<BR>&nbsp;&nbsp;long el = endDay.getTime();</P>
<P>&nbsp;&nbsp;long ei = el - sl;<BR>&nbsp;&nbsp;// 根据毫秒数计算间隔天数<BR>&nbsp;&nbsp;return (int) (ei / (1000 * 60 * 60 * 24));<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 精确计算两个时间之间相隔天数<BR>&nbsp; * <BR>&nbsp; * @param startDay<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 开始时间<BR>&nbsp; * @param endDay<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结束时间<BR>&nbsp; * @return 两个时间之间相隔天数<BR>&nbsp; */<BR>&nbsp;public int getDaysBetween(Calendar startDay, Calendar endDay) {<BR>&nbsp;&nbsp;// 确保startday在endday之前<BR>&nbsp;&nbsp;if (startDay.after(endDay)) {<BR>&nbsp;&nbsp;&nbsp;java.util.Calendar swap = startDay;<BR>&nbsp;&nbsp;&nbsp;startDay = endDay;<BR>&nbsp;&nbsp;&nbsp;endDay = swap;<BR>&nbsp;&nbsp;}</P>
<P>&nbsp;&nbsp;int days = endDay.get(Calendar.DAY_OF_YEAR)<BR>&nbsp;&nbsp;&nbsp;&nbsp;- startDay.get(Calendar.DAY_OF_YEAR);<BR>&nbsp;&nbsp;int y2 = endDay.get(Calendar.YEAR);</P>
<P>&nbsp;&nbsp;if (startDay.get(Calendar.YEAR) != y2) {<BR>&nbsp;&nbsp;&nbsp;startDay = (Calendar) startDay.clone();<BR>&nbsp;&nbsp;&nbsp;do {<BR>&nbsp;&nbsp;&nbsp;&nbsp;// 得到当年的实际天数<BR>&nbsp;&nbsp;&nbsp;&nbsp;days += startDay.getActualMaximum(Calendar.DAY_OF_YEAR);<BR>&nbsp;&nbsp;&nbsp;&nbsp;startDay.add(Calendar.YEAR, 1);<BR>&nbsp;&nbsp;&nbsp;} while (startDay.get(Calendar.YEAR) != y2);<BR>&nbsp;&nbsp;}</P>
<P>&nbsp;&nbsp;return days;<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * Calendar转化为Date<BR>&nbsp; * <BR>&nbsp; * @param calendar<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Calendar对象<BR>&nbsp; * @return Date对象<BR>&nbsp; */<BR>&nbsp;public Date calendarToDate(Calendar calendar) {<BR>&nbsp;&nbsp;Date date = calendar.getTime();<BR>&nbsp;&nbsp;return date;<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * Date转化为Calendar<BR>&nbsp; * <BR>&nbsp; * @param date<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Date对象<BR>&nbsp; * @return Calendar对象<BR>&nbsp; */<BR>&nbsp;public Calendar dateToCalendar(Date date) {<BR>&nbsp;&nbsp;Calendar cal = Calendar.getInstance();<BR>&nbsp;&nbsp;cal.setTime(date);<BR>&nbsp;&nbsp;return cal;<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 计算两个时间之间相隔毫秒数<BR>&nbsp; * <BR>&nbsp; * @param startTime<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 开始时间<BR>&nbsp; * @param endTime<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结束时间<BR>&nbsp; * @return 相隔毫秒数<BR>&nbsp; */<BR>&nbsp;public long getIntervalMilliseconds(Calendar startTime, Calendar endTime) {<BR>&nbsp;&nbsp;// 确保startday在endday之前<BR>&nbsp;&nbsp;if (startTime.after(endTime)) {<BR>&nbsp;&nbsp;&nbsp;Calendar cal = startTime;<BR>&nbsp;&nbsp;&nbsp;startTime = endTime;<BR>&nbsp;&nbsp;&nbsp;endTime = cal;<BR>&nbsp;&nbsp;}<BR>&nbsp;&nbsp;// 分别得到两个时间的毫秒数<BR>&nbsp;&nbsp;long sl = startTime.getTimeInMillis();<BR>&nbsp;&nbsp;long el = endTime.getTimeInMillis();</P>
<P>&nbsp;&nbsp;return el - sl;<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 计算两个时间之间相隔毫秒数<BR>&nbsp; * <BR>&nbsp; * @param startTime<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 开始时间<BR>&nbsp; * @param endTime<BR>&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结束时间<BR>&nbsp; * @return 相隔毫秒数<BR>&nbsp; */<BR>&nbsp;public long getIntervalMilliseconds(Date startTime, Date endTime) {<BR>&nbsp;&nbsp;// 确保startday在endday之前<BR>&nbsp;&nbsp;if (startTime.after(endTime)) {<BR>&nbsp;&nbsp;&nbsp;Date cal = startTime;<BR>&nbsp;&nbsp;&nbsp;startTime = endTime;<BR>&nbsp;&nbsp;&nbsp;endTime = cal;<BR>&nbsp;&nbsp;}<BR>&nbsp;&nbsp;// 分别得到两个时间的毫秒数<BR>&nbsp;&nbsp;long sl = startTime.getTime();<BR>&nbsp;&nbsp;long el = endTime.getTime();</P>
<P>&nbsp;&nbsp;return el - sl;<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 计算某一月份的最大天数<BR>&nbsp; * @param year 年<BR>&nbsp; * @param month 月<BR>&nbsp; * @return 某一月份的最大天数<BR>&nbsp; */<BR>&nbsp;public int maxDaysOfMonth(int year, int month) {<BR>&nbsp;&nbsp;Calendar time = Calendar.getInstance();<BR>&nbsp;&nbsp;time.clear();<BR>&nbsp;&nbsp;time.set(Calendar.YEAR, year);<BR>&nbsp;&nbsp;time.set(Calendar.MONTH, month -1);// 注意,Calendar对象默认一月为0<BR>&nbsp;&nbsp;int day = time.getActualMaximum(Calendar.DAY_OF_MONTH);// 本月份的天数<BR>&nbsp;&nbsp;// 注：在使用set方法之前，必须先clear一下，否则很多信息会继承自系统当前时间<BR>&nbsp;&nbsp;return day;<BR>&nbsp;}</P>
<P>&nbsp;/**<BR>&nbsp; * 主函数，测试本类<BR>&nbsp; * @param args<BR>&nbsp; */<BR>&nbsp;public static void main(String[] args) {<BR>&nbsp;&nbsp;TimeUtils tu = new TimeUtils();<BR>&nbsp;&nbsp;System.out.println("现在时间是 : " + tu.getNowTime());<BR>&nbsp;&nbsp;String time = tu.getNowTime();<BR>&nbsp;&nbsp;int year = Integer.parseInt(time.substring(0, 4));<BR>&nbsp;&nbsp;<BR>&nbsp;&nbsp;int month = Integer.parseInt(time.substring(5, 7));<BR>&nbsp;&nbsp;System.out.println(tu.maxDaysOfMonth(year, month));<BR>&nbsp;}</P>
<P>}<BR></P></DIV><p class="right articalinfo">发表于 @ <a href="http://blog.csdn.net/doc123/archive/2008/09/19/2950821.aspx" Title = "permalink">2008年09月19日 11:18:00</a>&#124;<a href="http://blog.csdn.net/doc123/archive/2008/09/19/2950821.aspx#FeedBack" Title = "评论">评论(<span id="FeedbackCount_2950821">loading...</span><script type="text/javascript">AddFeedbackCountStack("2950821")</script>)</a>&#124;<cite class="fav_csdnstylebykimi"><a href="JavaScript:d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(saveit=window.open('http://wz.csdn.net/storeit.aspx?t='+escape(d.title)+'&u='+escape(d.location.href)+'&c='+escape(t),'saveit','scrollbars=no,width=590,height=300,left=75,top=20,status=no,resizable=yes'));saveit.focus();" class="fav_csdnstylebykimi" title="收藏到我的网摘中，并分享给我的朋友">收藏</a></cite></p>
    <span id="Post.ascx_ViewPost_PreviousAndNextEntriesDown"><h3><a href="http://blog.csdn.net/doc123/archive/2008/09/19/2950833.aspx">新一篇:&nbsp;java 中计算时间差 </a>&nbsp;|&nbsp;<a href="http://blog.csdn.net/doc123/archive/2008/09/19/2950811.aspx">旧一篇:&nbsp;J2EE面试题集锦(附答案) </a></h3></span>
</div>

        
    </div>
    <div class="commentslist">
        <span id="Anthem_Post.ascx_Comments_ltlComments__"><span id="Post.ascx_Comments_ltlComments"><div id="commentslist"><h3>评论：没有评论。</h3></div></span></span>

    </div>
    <div class="spacecommment">
        <div id="Anthem_Post.ascx_PostComment_CommentUpdatePanel__"><div id="Post.ascx_PostComment_CommentUpdatePanel">
	
    <fieldset>
        <legend>发表评论</legend>
        <ul>
            <li>姓&nbsp;&nbsp;&nbsp;名：<input name="Post.ascx:PostComment:tbName" type="text" maxlength="32" id="Post.ascx_PostComment_tbName" Size="40" /><span controltovalidate="Post.ascx_PostComment_tbName" errormessage="请输入名字" id="Post.ascx_PostComment_RequiredFieldValidator2" evaluationfunction="RequiredFieldValidatorEvaluateIsValid" initialvalue="" style="color:Red;visibility:hidden;">请输入名字</span></li>
            <li>主&nbsp;&nbsp;&nbsp;页：<input name="Post.ascx:PostComment:tbUrl" type="text" maxlength="256" id="Post.ascx_PostComment_tbUrl" Size="40" /></li>
            <li>
                <div id="Post.ascx_PostComment_AntiBotImageRegion">
		
                    校验码：
                    <input name="Post.ascx:PostComment:tbAntiBotImage" type="text" id="Post.ascx_PostComment_tbAntiBotImage" style="width:75px;" />
                    <span display="Dynamic" id="Post.ascx_PostComment_valAntiBotImage" evaluationfunction="CustomValidatorEvaluateIsValid" style="color:Red;display:none;">检验码无效!</span>
                    <span id="Anthem_Post.ascx_PostComment_imgAntiBotImage__"><img id="Post.ascx_PostComment_imgAntiBotImage" src="/AntiBotImage.aspx?abi=4663&amp;id=2950821" alt="" align="absmiddle" border="0" /></span>
                    <span id="Anthem_Post.ascx_PostComment_lbCreateAntiBotImage__"><a onclick="javascript:Anthem_FireCallBackEvent(this,event,'Post.ascx:PostComment:lbCreateAntiBotImage','',false,'','','',true,null,null,null,true,true);return false;" id="Post.ascx_PostComment_lbCreateAntiBotImage" href="javascript:__doPostBack('Post.ascx$PostComment$lbCreateAntiBotImage','')">看不清,换一张</a></span>
	</div>
            </li>
        </ul>
        <span controltovalidate="Post.ascx_PostComment_tbComment" errormessage="请输入评论" id="Post.ascx_PostComment_RequiredFieldValidator3" evaluationfunction="RequiredFieldValidatorEvaluateIsValid" initialvalue="" style="color:Red;visibility:hidden;">请输入评论</span><br />
        <textarea name="Post.ascx:PostComment:tbComment" rows="10" cols="50" id="Post.ascx_PostComment_tbComment"></textarea><br />
        <span id="Anthem_Post.ascx_PostComment_btnSubmit__"><input type="submit" name="Post.ascx:PostComment:btnSubmit" value="提交" onclick="javascript:Anthem_FireCallBackEvent(this,event,'Post.ascx:PostComment:btnSubmit','',true,'','','正在处理...',false,null,null,null,true,true);return false;WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;Post.ascx:PostComment:btnSubmit&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, false))" language="javascript" id="Post.ascx_PostComment_btnSubmit" /></span>
        <br />
        <span id="Post.ascx_PostComment_Message" style="color:Red;"><a href="http://passport.csdn.net/member/UserLogin.aspx?from=http://blog.csdn.net/doc123/archive/2008/09/19/2950821.aspx">登录</a></span>
    </fieldset>

</div></div>

    </div>

    <script type="text/javascript">
    LoadFeedbackCount();//加载评论
    document.write("<img src='http://counter.csdn.net/pv.aspx?id=24' border=0 width=0 height=0>");// 计数器
    </script>

    <script src='/js/HighLighter.js' type="text/javascript"></script>

</div>
 
                
        </div>
    </div>
    
    <div id="pubfooter">
        
<dl>
    <dt></dt>
    <dd>
        Csdn Blog version 3.1a</dd>
    <dd>
        Copyright &copy;
        王俊杰
    </dd>
</dl>

    </div>
</div>

        
<script type="text/javascript">
<!--
var Page_Validators =  new Array(document.getElementById("Post.ascx_PostComment_RequiredFieldValidator2"), document.getElementById("Post.ascx_PostComment_valAntiBotImage"), document.getElementById("Post.ascx_PostComment_RequiredFieldValidator3"));
// -->
</script>


<script type="text/javascript">
<!--
var Page_ValidationActive = false;
if (typeof(ValidatorOnLoad) == "function") {
    ValidatorOnLoad();
}

function ValidatorOnSubmit() {
    if (Page_ValidationActive) {
        return ValidatorCommonOnSubmit();
    }
    else {
        return true;
    }
}
// -->
</script>
        </form>

        <script type="text/javascript" src="http://www.csdn.net/common/counter.js"></script>

    </div>
</body>
</html>
