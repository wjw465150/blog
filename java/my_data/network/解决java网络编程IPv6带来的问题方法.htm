<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>解决java网络编程IPv6带来的问题方法</title>
<style type="text/css">
<!--
.9t {
	font-size: 9pt;
	color: #000000;
	font-family: "宋体";
}
-->
</style>
</HEAD>
<body bgcolor="#FFFFFF">
<table width="90%" border="0" align="center" >
  <tr>
    <td><PRE class="9t">
以前用jgroups以及mantaray都碰到过这样的问题，蹩脚的做法禁止IPv6协议,今天学到的一招解决网络编程IPv6带来的问题！设置一个属性就可以了   -
Djava.net.preferIPv4Stack=true   以后用jgroups可以设置一下就可以了，查阅sun官方文档解释如下：

   java.net.preferIPv4Stack (default: false) If IPv6 is available on the operating system the underlying native socket will be an IPv6 
socket. This allows Java(tm) applications to connect too, and accept connections from, both IPv4 and IPv6 hosts. If an application has a 
preference to only use IPv4 sockets then this property can be set to true. 

在 IPv4/IPv6 双环境中，对于使用 Java 开发的网络应用，比较值得注意的是以下两个 IPv6 相关的 Java 虚拟机系统属性。


java.net.preferIPv4Stack=&lt;true|false&gt;
java.net.preferIPv6Addresses=&lt;true|false&gt;

　　preferIPv4Stack(默认 false)表示如果存在 IPv4 和 IPv6 双栈，Java 程序是否优先使用 IPv4 套接字。默认值是优先使用 IPv6 套接字，因为 
IPv6 套接字可以与对应的 IPv4 或 IPv6 主机进行对话;相反如果优先使用 IPv4，则只不能与 IPv6 主机进行通信。

　　preferIPv6Addresses(默认 false)表示在查询本地或远端 IP 地址时，如果存在 IPv4 和 IPv6 双地址，Java 程序是否优先返回 IPv6 地址。Java 
默认返回 IPv4 地址主要是为了向后兼容，以支持旧有的 IPv4 验证逻辑，以及旧有的仅支持 IPv4 地址的服务。
 
</PRE></td>
  </tr>
</table>
</Body>
</html>
