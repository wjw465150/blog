<!-- saved from url=http://www.ibm.com/developerworks/cn/xml/x-tipstx4/ -->
<script>
window.onerror = new Function("return(false);")
</script><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">

<HTML lang=zh-CN xml:lang="zh-CN" 
xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"><title>技巧: 使用 StAX 编写 XML 文档</title><LINK 
href="" rel=schema.DC><LINK 
href="favicon.ico" rel="SHORTCUT ICON"><LINK 
media=screen,print href="table.css" type=text/css 
rel=stylesheet>
<SCRIPT language=JavaScript src="dwcss14.js" 
type=text/javascript></SCRIPT>
<LINK href="/developerworks/css/ie6v14.css" type=text/css 
rel=stylesheet><NOSCRIPT><link rel="stylesheet" href="r1ss.css" type="text/css"/></NOSCRIPT><LINK 
href="main.css" type=text/css rel=stylesheet><LINK 
media=all href="screen.css" type=text/css 
rel=stylesheet><LINK media=print href="print.css" 
type=text/css rel=stylesheet>
<SCRIPT language=JavaScript src="detection.js" 
type=text/javascript></SCRIPT>
<LINK media=screen href="ie2_screen.css" 
type=text/css rel=stylesheet>
<SCRIPT language=JavaScript src="dropdown.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=JavaScript src="grabtitle.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=JavaScript src="emailfriend2.js" 
type=text/javascript></SCRIPT>
<!--START RESERVED FOR FUTURE USE INCLUDE FILES-->
<SCRIPT language=javascript src="ajax1.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=javascript src="searchcount.js" 
type=text/javascript></SCRIPT>
<!--END RESERVED FOR FUTURE USE INCLUDE FILES-->
<SCRIPT language=JavaScript type=text/javascript>var emailAbstract = "Streaming API for XML (StAX) 不仅能解析 XML 文档，而且可以把 XML 文档写入一个输出流。这篇技巧展示了客户应用程序如何使用底层的、基于指针的 StAX API 有效地创建 XML 文档。"; </SCRIPT>
</HEAD>

<BODY><!--StartFragment--><!--MASTHEAD_BEGIN-->
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR vAlign=top>
<TD class=bbg width=110><A href="http://www.ibm.com/cn/"><IMG border=0 alt=IBM? 
src="ibm-logo.gif" width=110 height=52></A></TD>
<TD class=bbg><IMG border=0 alt="" src="c.gif" width=1 
height=1></TD>
<TD class=mbbg align=right width=650>
<TABLE cellSpacing=0 cellPadding=0 align=right border=0>
<TBODY>
<TR class=cty-tou>
<TD class=upper-masthead-corner width=17 rowSpan=2><A href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#main"><IMG border=0 
alt=跳转到主要内容 src="c.gif" width=1 height=1></A></TD>
<TD align=left>
<TABLE cellSpacing=0 cellPadding=0 align=left border=0>
<TBODY>
<TR>
<TD><SPAN class=spacer>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><B class=country>中国</B><SPAN 
class=spacer>&nbsp;[</SPAN><A class=ur-link 
href="">选择</A><SPAN 
class=spacer>]</SPAN></TD>
<TD class=upper-masthead-divider width=29>&nbsp;&nbsp;&nbsp;&nbsp;</TD>
<TD align=left><A class=ur-link 
href="">使用条款</A></TD></TR></TBODY></TABLE></TD>
<TD width=40>&nbsp;</TD></TR>
<TR>
<TD class=cty-tou-border colSpan=2 height=1><IMG alt="" src="c.gif" 
width=1 height=1></TD></TR>
<TR>
<TD colSpan=3><IMG alt="" src="c.gif" width=1 
height=8></TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD align=center colSpan=2>
<FORM id=form1 name=form1 
action=http://www-128.ibm.com/developerworks/search/searchResults.jsp 
method=get><INPUT type=hidden value=1 name=searchType><INPUT type=hidden 
value=dWChina name=searchSite><INPUT type=hidden value=zh name=pageLang><INPUT 
type=hidden value=UTF8 name=langEncoding>
<TABLE cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD width=1><IMG alt="Select a scope:" src ="c.gif" 
width=1 height=1 ></TD>
<TD align=right><LABEL for=sq><SELECT class=input-scope id=sq 
name=searchScope><OPTION value=dW selected>dW 全部内容</OPTION><OPTION 
value=dW>-----------------</OPTION><OPTION value=aixunix>&nbsp;&nbsp;AIX and 
UNIX</OPTION><OPTION value=dmdd>&nbsp;&nbsp;Information management</OPTION><OPTION 
value=lotusdd>&nbsp;&nbsp;Lotus</OPTION><OPTION value=rdd>&nbsp;&nbsp;Rational</OPTION><OPTION 
value=tivolidd>&nbsp;&nbsp;Tivoli</OPTION><OPTION value=wsdd>&nbsp;&nbsp;WebSphere</OPTION><OPTION 
value=workplace>&nbsp;&nbsp;Workplace</OPTION><OPTION 
value=dW>-----------------</OPTION><OPTION value=gridZ>&nbsp;&nbsp;Grid 
computing</OPTION><OPTION value=javaZ>&nbsp;&nbsp;Java 技术</OPTION><OPTION 
value=linuxZ>&nbsp;&nbsp;Linux</OPTION><OPTION value=opensrcZ>&nbsp;&nbsp;Open 
source</OPTION><OPTION value=securityZ>&nbsp;&nbsp;Security</OPTION><OPTION 
value=webservZ>&nbsp;&nbsp;SOA &amp; Web services</OPTION><OPTION value=webarchZ>&nbsp;&nbsp;Web 
development</OPTION><OPTION value=xmlZ>&nbsp;&nbsp;XML</OPTION><OPTION 
value=dW>-----------------</OPTION><OPTION value=all>IBM 
全部内容</OPTION></SELECT></LABEL></TD>
<TD align=right width=1><IMG alt="Search for:" src 
="c.gif" width=1 height=1 >&nbsp;&nbsp;</TD>
<TD align=right><INPUT class=input id=q maxLength=100 size=15 name=query></TD>
<TD width=7>&nbsp;</TD>
<TD><LABEL for=q><INPUT type=image alt=搜索 
src="search.gif" value=搜索 name=Search></LABEL></TD>
<TD 
width=20>&nbsp;</TD></TR></TBODY></TABLE></FORM></TD></TR></TBODY></TABLE></TD></TR>
<TR>
<TD class=blbg colSpan=3>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR>
<TD>
<TABLE cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD><SPAN class=spacer>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN></TD>
<TD><A class=masthead-mainlink href="http://www.ibm.com/cn/">首页</A></TD>
<TD class=masthead-divider width=27>&nbsp;&nbsp;&nbsp;&nbsp;</TD>
<TD><A class=masthead-mainlink 
href="">产品</A></TD>
<TD class=masthead-divider width=27>&nbsp;&nbsp;&nbsp;&nbsp;</TD>
<TD><A class=masthead-mainlink 
href="">服务与解决方案</A></TD>
<TD class=masthead-divider width=27>&nbsp;&nbsp;&nbsp;&nbsp;</TD>
<TD><A class=masthead-mainlink 
href="">支持与下载</A></TD>
<TD class=masthead-divider width=27>&nbsp;&nbsp;&nbsp;&nbsp;</TD>
<TD><A class=masthead-mainlink 
href="">个性化服务</A></TD>
<TD><SPAN 
class=spacer>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><!--
<script src="pmh.js" language="JavaScript" type="text/javascript"></script>
--><!-- end masthead dw liquid --><!--MASTHEAD_END--><!-- CMA ID for this content is: 22192 -->
<TABLE id=v14-body-table cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR vAlign=top><!--LEFTNAV_BEGIN-->
<TD id=navigation width=150>
<TABLE cellSpacing=0 cellPadding=0 width=150 border=0>
<TBODY>
<TR>
<TD class=left-nav-spacer><A class=left-nav-overview 
href="http://www.ibm.com/developerworks/cn/">&nbsp;</A></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=150 border=0>
<TBODY>
<TR>
<TD class=left-nav-overview colSpan=2><A class=left-nav-overview 
href="http://www.ibm.com/developerworks/cn/">developerWorks<BR>中国</A></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=150 border=0>
<TBODY>
<TR>
<TD class=left-nav-highlight colSpan=2><A class=left-nav 
href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#">本文内容包括:</A></TD></TR>
<TR class=left-nav-child-highlight>
<TD><IMG alt="" src="cl-bullet.gif" width=2 height=8></TD>
<TD><A class=left-nav-child href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#h1">进入 StAX</A></TD></TR>
<TR class=left-nav-child-highlight>
<TD><IMG alt="" src="cl-bullet.gif" width=2 height=8></TD>
<TD><A class=left-nav-child href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#h2">结束语</A></TD></TR>
<TR class=left-nav-child-highlight>
<TD><IMG alt="" src="cl-bullet.gif" width=2 height=8></TD>
<TD><A class=left-nav-child href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#resources">参考资料 </A></TD></TR>
<TR class=left-nav-child-highlight>
<TD><IMG alt="" src="cl-bullet.gif" width=2 height=8></TD>
<TD><A class=left-nav-child href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#author">关于作者</A></TD></TR>
<TR class=left-nav-child-highlight>
<TD><IMG alt="" src="cl-bullet.gif" width=2 height=8></TD>
<TD><A class=left-nav-child href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#rate">对本文的评价</A></TD></TR>
<TR class=left-nav-last>
<TD width=14><IMG class=display-img alt="" src="c.gif" width=14 
height=1></TD>
<TD width=136><IMG class=display-img alt="" src="left-nav-corner.gif" 
width=136 
height=19></TD></TR></TBODY></TABLE><BR>
<TABLE cellSpacing=0 cellPadding=0 width=150 border=0>
<TBODY>
<TR>
<TD class=related colSpan=2><B class=related>相关链接:</B></TD></TR>
<TR class=rlinks>
<TD><IMG alt="" src="rl-bullet.gif" width=2 height=8></TD>
<TD><A class=rlinks 
href="http://www.ibm.com/developerworks/cn/views/xml/articles.jsp">XML 
技术文档库</A></TD></TR><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- No content currently --><!--END RESERVED FOR FUTURE USE INCLUDE FILES-->
<TR>
<TD width=14><IMG class=display-img alt="" src="c.gif" width=14 
height=1></TD>
<TD width=136><IMG class=display-img alt="" src="c.gif" 
width=136 height=19></TD></TR></TBODY></TABLE><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- No content currently --><!--END RESERVED FOR FUTURE USE INCLUDE FILES--></TD><!--LEFTNAV_END-->
<TD width="100%">
<TABLE id=content-table cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR vAlign=top>
<TD width="100%">
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR>
<TD><A name=main><IMG border=0 alt="skip to main content" 
src="c.gif" width=592 height=1></A></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR vAlign=top>
<TD width=10 height=18><IMG alt="" src="c.gif" width=10 
height=18></TD>
<TD width="100%"><IMG alt="" src="c.gif" width=1 height=6><BR><A 
class=bctl href="http://www.ibm.com/developerworks/cn/">developerWorks 
中国</A><SPAN class=bct>&nbsp;&nbsp;&gt;&nbsp;&nbsp;</SPAN><A class=bctl 
href="http://www.ibm.com/developerworks/cn/xml/">XML</A><SPAN 
class=bct>&nbsp;&nbsp;&gt;</SPAN><IMG alt="" src="c.gif" width=1 
height=1><BR>
<H1><SPAN style="COLOR: #999999">技巧: </SPAN>使用 StAX 编写 XML 文档</H1>
<P id=subtitle><EM>使用底层的、基于指针的 StAX API</EM></P><IMG class=display-img alt="" 
src="c.gif" width=1 height=6></TD>
<TD class=no-print width=192><IMG alt=developerWorks src="dw.gif" 
width=192 
height=18></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR vAlign=top>
<TD width=10><IMG alt="" src="c.gif" width=10 height=1></TD>
<TD width="100%">
<TABLE class=no-print cellSpacing=0 cellPadding=0 width=160 align=right 
border=0>
<TBODY>
<TR>
<TD width=10><IMG alt="" src="c.gif" width=10 height=1></TD>
<TD>
<TABLE cellSpacing=0 cellPadding=0 width=150 border=0>
<TBODY>
<TR>
<TD class=v14-header-1-small>文档选项</TD></TR></TBODY></TABLE>
<TABLE class=v14-gray-table-border cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD class=no-padding width=150>
<TABLE cellSpacing=0 cellPadding=0 width=143 border=0><IMG alt="" src="c.gif" 
width=8 height=1>
<FORM name=email 
action=https://www.ibm.com/developerworks/secure/email-it.jsp><INPUT type=hidden 
value="Streaming API for XML (StAX) 不仅能解析 XML 文档，而且可以把 XML 文档写入一个输出流。这篇技巧展示了客户应用程序如何使用底层的、基于指针的 StAX API 有效地创建 XML 文档。" 
name=body><INPUT type=hidden value="技巧: 使用 StAX 编写 XML 文档" name=subject><INPUT 
type=hidden value=cn name=lang>
<SCRIPT language=JavaScript type=text/javascript>
<!--
document.write('<tr valign="top"><td width="8"><img src="c.gif" width="8" height="1" alt=""/></td><td width="16"><img src="em.gif" height="16" width="16" vspace="3" alt="将此页作为电子邮件发送" /></td><td width="122"><p><a class="smallplainlink" href="javascript:document.email.submit();"><b>将此页作为电子邮件发送</b></a></p></td></tr>');
//-->
</SCRIPT>

<TBODY>
<TR vAlign=top>
<TD width=8><IMG alt="" src="c.gif" width=8 height=1></TD>
<TD width=16><IMG alt=将此页作为电子邮件发送 vspace=3 
src="em.gif" width=16 height=16></TD>
<TD width=122>
<P><A class=smallplainlink 
href="javascript_document.email.submit();"><B>将此页作为电子邮件发送</B></A></P></TD></TR><NOSCRIPT></NOSCRIPT></FORM></TBODY></TABLE></TD></TR></TBODY></TABLE><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- 03/20/06 updated by gretchen --><BR>
<TABLE cellSpacing=0 cellPadding=0 width=150 border=0>
<TBODY>
<TR>
<TD class=v14-header-2-small>拓展 Tomcat 应用</TD></TR></TBODY></TABLE>
<TABLE class=v14-gray-table-border cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD class=no-padding width=150>
<TABLE cellSpacing=0 cellPadding=0 width=143 border=0>
<TBODY>
<TR vAlign=top>
<TD width=8><IMG alt="" src="c.gif" width=8 height=1></TD>
<TD><IMG border=0 alt="" vspace=3 src="fw_bold.gif" 
width=16 height=16></TD>
<TD width=125>
<P><A class=smallplainlink 
href="webserver.html_S_TACT=105AGX52&amp;S_CMP=simpleart">下载 
IBM 开源 J2EE 应用服务器 WAS CE 新版本 V1.1</A> 
</P></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><BR></TD></TR></TBODY></TABLE>
<P>级别: 中级</P>
<P><A href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#author">Berthold Daum</A> (<A 
href="mailto:berthold.daum@bdaum.de%3Fsubject=使用%20StAX%20编写%20XML%20文档">berthold.daum@bdaum.de</A>), 
总裁, BDaum Industrial Communications<BR></P>
<P>2004 年 1 月 01 日</P>
<BLOCKQUOTE>Streaming API for XML (StAX) 不仅能解析 XML 文档，而且可以把 XML 
文档写入一个输出流。这篇技巧展示了客户应用程序如何使用底层的、基于指针的 StAX API 有效地创建 XML 文档。</BLOCKQUOTE><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- include java script once we verify teams wants to use this and it will work on dbcs and cyrillic characters --><!--END RESERVED FOR FUTURE USE INCLUDE FILES-->
<P>直到最近，程序员通过编程创建 XML 文档还只有两种选择。一种是把序列化的 XML 内容写入输出流，第二种是使用 DOM。</P>
<P>这两种方法都有严重的缺陷。对于第一种情况，程序员完全负责保证结果文档是格式正规的。程序员必须处理其中的细节，比如起始标签和结束标签的匹配，以及字符内容中特殊字符的转义，如小于号（&lt;）和逻辑与（&amp;）。这可能造成程序的实现冗长乏味而且容易出错。另一方面，尽管 
DOM 把程序员从这种沉重的负担中解放出来，但是引入了巨大的开销：在序列化到输出流之前，整个文档必须首先在内存中构造一棵节点树。</P>
<P><A name=h1><SPAN class=atitle>进入 StAX</SPAN></A></P>
<P>Streaming API for XML (StAX) 彻底改变这一切。与 Simple API for XML (SAX) 不同，StAX 提供了编写 
XML 文档的 API。更具体地说，它提供了两种 API：底层的、基于指针的 API（ <CODE>XMLStreamWriter</CODE> 
）和高级的、基于事件的 API（ <CODE>XMLEventWriter</CODE> ）。基于指针的 API 
最适合用于数据绑定的情况（比如从应用程序数据创建文档），而基于事件的 API 则通常用于管道式的情况，从输入文档中的数据构造新的文档。 </P>
<P>下面的例子是使用基于指针的 API 实现的。（我将在下篇技巧中讨论基于事件的 API。）基于指针的 API 为创建 XML 
信息集中的不同元素提供了各种专门的方法，比如元素、属性、处理指令、数据类型声明和字符内容。这些方法解决了许多格式化问题。比如， 
<CODE>writeCharacters()</CODE> 方法自动转义像小于号（&lt;）、大于号（&gt;）和逻辑与（&amp;）这样的特殊字符。而 
<CODE>writeEndDocument()</CODE> 则自动关闭所有打开的结构。因此即使把本例中最后一次对 
<CODE>writeEndElement()</CODE> 的调用注释掉也没有关系。 </P>
<P>StAX 甚至可以为没有正式声明的名称空间生成名称空间前缀。但是只有在输出工厂的 
<CODE>javax.xml.stream.isPrefixDefaulting</CODE> 属性设为 <CODE>true</CODE> 
时才会这么做。如果该属性被设为 <CODE>false</CODE> ，您就必须明确地声明每个名称空间前缀，并对每个名称空间使用 
<CODE>setPrefix()</CODE> 和 <CODE>writeNamespace()</CODE> 方法。清单 1 
中，我已经把这些方法调用注释掉了，因为我已经把前缀默认设置为 <CODE>true</CODE> 。 </P><BR><BR><A 
name=listing1><B>清单 1. 编写文档</B></A><BR>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR>
<TD class=code-outline><PRE class=displaycode>import javax.xml.stream.*;
public class XMLWriter {
   // Namespaces
   private static final String GARDENING = "http://com.bdaum.gardening";
   private static final String XHTML = "http://www.w3.org/1999/xhtml";
   public static void main(String[] args) throws XMLStreamException  {
      
      // Create an output factory
      XMLOutputFactory xmlof = XMLOutputFactory.newInstance();
      // Set namespace prefix defaulting for all created writers
      xmlof.setProperty("javax.xml.stream.isPrefixDefaulting",Boolean.TRUE);
      
      // Create an XML stream writer
      XMLStreamWriter xmlw =
         xmlof.createXMLStreamWriter(System.out);
      // Write XML prologue
      xmlw.writeStartDocument();
      // Write a processing instruction
      xmlw.writeProcessingInstruction(
         "xml-stylesheet href='catalog.xsl' type='text/xsl'");
      // Now start with root element
      xmlw.writeStartElement("product");
      // Set the namespace definitions to the root element
      // Declare the default namespace in the root element
      xmlw.writeDefaultNamespace(GARDENING);
      // Writing a few attributes
      xmlw.writeAttribute("productNumber","3923-1");
      xmlw.writeAttribute("name","Nightshadow");
      // Declare XHTML prefix
//    xmlw.setPrefix("xhtml",XHTML);
      // Different namespace for description element
      xmlw.writeStartElement(XHTML,"description");
      // Declare XHTML namespace in the scope of the description element
//    xmlw.writeNamespace("xhtml",XHTML);
      xmlw.writeCharacters(
         "A tulip of almost black color. \nBlossoms in April &amp; May");
      xmlw.writeEndElement();
      // Shorthand for empty elements
      xmlw.writeEmptyElement("supplier");
      xmlw.writeAttribute("name","Floral22");
//    xmlw.writeEndElement();
      // Write document end. This closes all open structures
      xmlw.writeEndDocument();
      // Close the writer to flush the output
      xmlw.close();
   }
}
</PRE></TD></TR></TBODY></TABLE><BR>
<P>注意，StAX 不能保证文档的格式正规性。仍然可能生成违反 XML 推荐标准的文档，比如一个文档中有多个根元素或者多个 XML 
序言，标签名和属性名中包含空格或 XML 不支持的字符。StAX 实现可以检查这些问题，但并不要求这么做（参考实现中就没有这样做）。尽管如此，StAX 
<CODE>XMLStreamWriter</CODE> 对于输出原始 XML 数据仍然是一个很大的改进，而且开销只是 DOM 的一个零头。 </P><BR>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR>
<TD><IMG alt="" src="blue_rule.gif" width="100%" 
height=1><BR><IMG border=0 alt="" src="c.gif" width=8 
height=6></TD></TR></TBODY></TABLE>
<TABLE class=no-print cellSpacing=0 cellPadding=0 align=right>
<TBODY>
<TR align=right>
<TD><IMG alt="" src="c.gif" width="100%" height=4><BR>
<TABLE cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD vAlign=middle><IMG border=0 alt="" 
src="u_bold.gif" width=16 height=16><BR></TD>
<TD vAlign=top align=right><A class=fbox 
href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#main"><B>回页首</B></A></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR><BR>
<P><A name=h2><SPAN class=atitle>结束语</SPAN></A></P>
<P>这篇技巧说明了如何使用 StAX 基于指针的 API 有效地编写 XML 文档。在下一篇文章中，我将介绍如何使用基于事件的 API 合并两个 XML 
文档。</P><BR><BR>
<P><A name=resources><SPAN class=atitle>参考资料 </SPAN></A></P>
<UL>
<LI>您可以参阅本文在 developerWorks 全球站点上的 <A 
href="http://www.ibm.com/developerworks/library/x-tipstx4/index.html?S_TACT=105AGX52&amp;S_CMP=cn-a-x">英文原文</A>. 
<BR><BR>
<LI>下载本技巧的 <A 
href="ftp://www6.software.ibm.com/software/developer/library/x-tipstx4_writer.zip">源文件</A>。 
<BR><BR><BR><BR>
<LI>阅读 “ <A href="http://www.ibm.com/developerworks/cn/xml/x-tipstx/index.html">使用 XML 
流解析器</A>”，关于 StAX 的 <I>developerWorks</I>技巧系列的第一篇（2003 年 11 月）。 <BR><BR><BR><BR>
<LI>StAX 技巧系列的第 2 篇介绍了如何对 StAX 解析器应用事件过滤器和流过滤器，“ <A 
href="http://www.ibm.com/developerworks/cn/xml/x-tipstx2/index.html">使用 StAX 部分解析 XML 文档</A>” 
（2003 年 12 月）。 <BR><BR><BR><BR>
<LI>本系列文章的第 3 篇介绍了如何从 XML 文档中检索特定信息以及如何在收集到这些信息之后停止解析过程，“ <A 
href="http://www.ibm.com/developerworks/cn/xml/x-tipstx3/index.html">使用 StAX 高效筛选 XML 文档</A>” ( 
<I>developerWorks</I>, 2003 年 12 月）。 <BR><BR><BR><BR>
<LI>在 <A href="http://www.jcp.org/en/jsr/detail?id=173">Java Community Process 
网站</A>可以找到 Streaming API for XML (StAX) 的更多信息。 <BR><BR><BR><BR>
<LI>在 <I>developerWorks</I> <A href="http://www.ibm.com/developerworks/cn/xml/">XML 专区</A>可找到更多的 
XML 资源。最新的 XML 技巧完整列表，请查看 <A 
href="http://www.ibm.com/developerworks/cn/views/xml/articles.jsp">技巧汇总页面</A>。 
<BR><BR><BR><BR>
<LI>了解如何才能成为 <A href="http://www.ibm.com/developerworks/cn/xml/theme/x-cert.html">IBM 认证的 XML 
及相关技术的开发人员</A>。 <BR><BR><BR></LI></UL><BR><BR>
<P><A name=author><SPAN class=atitle>关于作者</SPAN></A></P>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR>
<TD colSpan=3><IMG alt="" src="c.gif" width="100%" 
height=5></TD></TR>
<TR vAlign=top align=left>
<TD>
<P></P></TD>
<TD><IMG alt="" src="c.gif" width=4 height=5></TD>
<TD width="100%">
<P>Berthold Daum 是德国 Ltzelbach 的一名顾问和作家。他的近作有 <I>System Architecture with 
XML</I>和 <I>Modeling Business Objects with XML Schema</I>（均由 Morgan Kauffman 
出版），要了解这些书的更多信息，请访问 <A href="http://www.bdaum.de/">http://www.bdaum.de</A>。可以通过 
<A href="mailto:berthold.daum@bdaum.de%3Fcc=">berthold.daum@bdaum.de</A>与 Berthold 
联系。 </P></TD></TR></TBODY></TABLE><BR><BR><BR>
<P class=no-print><SPAN class=atitle><A name=rate>对本文的评价</A></SPAN></P><SPAN 
class=no-print>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR vAlign=top>
<TD>
<FORM action=https://www.ibm.com/developerworks/secure/cnratings.jsp 
method=get><INPUT type=hidden value="技巧: 使用 StAX 编写 XML 文档" 
name=ArticleTitle><INPUT type=hidden value=XML name=Zone><INPUT type=hidden 
value=http://www.ibm.com/developerworks/cn/thankyou/ name=RedirectURL><INPUT 
type=hidden value=china name=localsite>
<SCRIPT language=javascript>document.write('<input type="hidden" name="url" value="'+location.href+'">');</SCRIPT>
<INPUT type=hidden value=http://www.ibm.com/developerworks/cn/xml/x-tipstx4/ 
name=url>
<TABLE cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD><IMG border=0 alt="" src="c.gif" width=100 
height=8></TD></TR>
<TR vAlign=top>
<TD><INPUT type=radio value=1 name=Rating>太差！ (1)</TD></TR>
<TR vAlign=top>
<TD><INPUT type=radio value=2 name=Rating>需提高 (2)</TD></TR>
<TR vAlign=top>
<TD><INPUT type=radio value=3 name=Rating>一般；尚可 (3)</TD></TR>
<TR vAlign=top>
<TD><INPUT type=radio value=4 name=Rating>好文章 (4)</TD></TR>
<TR vAlign=top>
<TD><INPUT type=radio value=5 
name=Rating>真棒！(5)</TD></TR></TBODY></TABLE><BR><B>建议？</B><BR><TEXTAREA id=Comments wrap=virtual rows=5 cols=60 name=Comments>&nbsp;</TEXTAREA><BR><BR><INPUT type=submit value=反馈意见></FORM></TD></TR>
<TR vAlign=top>
<TD bgColor=#ffffff><IMG border=0 alt="" src="c.gif" width=100 
height=8></TD></TR></TBODY></TABLE></SPAN><SPAN class=no-print>
<TABLE cellSpacing=0 cellPadding=0 align=right>
<TBODY>
<TR align=right>
<TD><IMG alt="" src="c.gif" width="100%" height=8><BR>
<TABLE cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD vAlign=middle><IMG border=0 alt="" 
src="u_bold.gif" width=16 height=16><BR></TD>
<TD vAlign=top align=right><A class=fbox 
href="http://www.ibm.com/developerworks/cn/xml/x-tipstx4/#main"><B>回页首</B></A></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR><BR></SPAN></TD>
<TD width=10><IMG alt="" src="c.gif" width=10 
height=1></TD></TR></TBODY></TABLE><SPAN class=small>IBM 公司保留在 developerWorks 
网站上发表的内容的著作权。未经IBM公司或原始作者的书面明确许可，请勿转载。如果您希望转载，请通过 <A 
href="https://www.ibm.com/developerworks/secure/reprintreq.jsp?domain=dwchina">提交转载请求表单</A> 
联系我们的编辑团队。</SPAN></TD></TR></TBODY></TABLE><!--FOOTER_BEGIN--><BR>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
<TBODY>
<TR>
<TD class=bbg height=19>
<TABLE cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD><SPAN class=spacer>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><A class=mainlink 
href="index.shtml">关于 IBM</A></TD>
<TD class=footer-divider width=27>&nbsp;&nbsp;&nbsp;&nbsp;</TD>
<TD><A class=mainlink 
href="index.shtml">隐私条约</A></TD>
<TD class=footer-divider width=27>&nbsp;&nbsp;&nbsp;&nbsp;</TD>
<TD><A class=mainlink href="http://www.ibm.com/contact/">联系 
IBM</A></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<P>
<SCRIPT language=JavaScript1.2 src="stats.js" 
type=text/javascript></SCRIPT>
<NOSCRIPT></NOSCRIPT><!--FOOTER_END--><!--XSLT stylesheet used to transform this file:  dw-document-html-5.5.1.xsl--><!--EndFragment--></P>
<P>&nbsp;</P></BODY>
</script>