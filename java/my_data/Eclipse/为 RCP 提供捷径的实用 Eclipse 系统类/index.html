<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


  <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN"><!-- Source is http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>为 RCP 提供捷径的实用 Eclipse 系统类</title>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>
<link rel="schema.DC" href="http://purl.org/DC/elements/1.0/"/>
<link rel="SHORTCUT ICON" href="http://www.ibm.com/favicon.ico"/>
  <meta name="Owner" content="dw@cn.ibm.com"/>
  <meta name="DC.Language" scheme="rfc1766" content="zh-CN"/>
  <meta name="IBM.Country" content="CN"/>
<meta name="Security" content="Public"/>
<meta name="IBM.SpecialPurpose" content="SP001"/>
<meta name="IBM.PageAttributes" content="sid=1003,1004"/>
<meta name="Source" content="v16 Template Generator"/>
<meta name="Robots" content="index,follow"/>
<meta name="Abstract" content="Eclipse 提供了 RCP 应用开发的内核，本身已经提供了许多有用的类，熟悉并且使用这些类，不仅可以减少代码量的开发，还可以提高代码的健壮性。既然 RCP 运行于 Eclipse 内核之上，就应该尽量多的使用系统自带的类。如 SafeRunner 提供了异常记入日志的功能、BusyIndicator 可以屏蔽鼠标事件，使得当前程序专注于处理一件事，而不使程序出现死的状态，鼠标变为漏斗状。本文尽可能详细的介绍这些类，用示例代码展示它们的用法，相信读者可以从本文掌握它们的使用技巧。"/>
<meta name="Description" content="Eclipse 提供了 RCP 应用开发的内核，本身已经提供了许多有用的类，熟悉并且使用这些类，不仅可以减少代码量的开发，还可以提高代码的健壮性。既然 RCP 运行于 Eclipse 内核之上，就应该尽量多的使用系统自带的类。如 SafeRunner 提供了异常记入日志的功能、BusyIndicator 可以屏蔽鼠标事件，使得当前程序专注于处理一件事，而不使程序出现死的状态，鼠标变为漏斗状。本文尽可能详细的介绍这些类，用示例代码展示它们的用法，相信读者可以从本文掌握它们的使用技巧。"/>
<meta name="Keywords" content="SafeRunner, PreferencesUtil, FileLocator, MessageDialogWithToggle, BusyIndicator, Display, tttosca"/>
<meta name="DC.Date" scheme="iso8601" content="2010-11-04"/>
<meta name="DC.Type" scheme="IBM_ContentClassTaxonomy" content="CT316"/>
<meta name="DC.Subject" scheme="IBM_SubjectTaxonomy" content="TT400"/>
<meta scheme="IBM_WTMCategory" name="IBM.WTMCategory" content="SOFDCOSRCN" />
<meta name="DC.Rights" content="© Copyright IBM Corporation 2010"/>
<meta name="IBM.Effective" scheme="W3CDTF" content="2010-11-04"/>
<meta name="title" content="为 RCP 提供捷径的实用 Eclipse 系统类"/>

<!-- HEADER_SCRIPTS_AND_CSS_INCLUDE -->
<link href="index_files/all.css" media="all" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/screen.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/screen-uas.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/screen-fonts.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/handheld.css" media="handheld" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/print.css" media="print" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/overlay.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>

<!-- dW-specific CSS -->
<link href="index_files/dw-screen.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/dw-local-site.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/dw-screen-comments-ratings-signin.css" media="screen,projection" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/jquery.cluetip.css" media="screen,projection" rel="stylesheet"  title="www" type="text/css" />

<!-- JPP: LOCAL URL FOR TESTING V16 DEFIANT MASTHEAD/FOOTER -->
<link href="index_files/dw-mf2012-01.css" rel="stylesheet" title="www" type="text/css"/>
<link href="index_files/dw-mf-cn.css" rel="stylesheet" title="www" type="text/css"/>
<script src="index_files/ibmcommon.js" type="text/javascript">//</script>
<script src="index_files/dynamicnav.js" type="text/javascript">//</script>
<script language="JavaScript" src="index_files/urltactic.js" type="text/javascript"></script>
<!-- Rating_START -->
<script language="JavaScript" type="text/javascript">
  // <![CDATA[

 dwr = {};
  dwr.clickhere = '点击评分';
  dwr.starIntro = ''; 
  dwr.stars = '星';
  dwr.star = '星'; 
  dwr.avgRatingOf = '平均分';
  dwr.youRated = '您的评分是';
  dwr.avgRating = '平均分';
  dwr.basedOnVote = '共 {1} 个评分'; // {1} to be substitue by code
  dwr.basedOnVotes = '共 {1} 个评分';
  dwr.leftParen = '（'; 
  dwr.rightParen = ' ）'; 
  dwr.space = ' '; 
  dwr.yourRating = '您的评分';
dwr.avgRating2 = '总共 {1} 评分的平均分';
dwr.avgRating3 = '平均分{1} 星';
dwr.rateThisArticle = '为本文评分';
dwr.votes = '{1}个评分';
dwr.vote = '{1}个评分';
dwr.submitErr = '错误：提交失败，请重试。';
dwr.noRatingErr = '错误：请选择一个评分并重新提交。';
dwr.submit = '提交';
// ]]>
</script>

<!-- Rating_START -->
<script language="JavaScript" src="index_files/showrating.js" type="text/javascript"></script>
<style type="text/css">
  .metavalue {
  display: none;
  }
</style>
<!-- Rating_END --><!-- RESERVED_HEADER_INCLUDE -->
<script language="javascript" src="index_files/ajax1.js" type="text/javascript"></script>
<script language="javascript" src="index_files/search_counter-maverick.js" type="text/javascript"></script>
<script language="javascript" src="index_files/request_referer_capture-maverick.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
 <!--
 setDefaultQuery('dwchina');
 //-->
</script>
<script language="JavaScript" type="text/javascript">
 <!--
 function openNewWindow(url,tar,arg){window.open(url,tar,arg);}
 //-->
</script>
  <!-- Include file support -->
  <script language="JavaScript" type="text/javascript">
    (function($) {
    jQuery.extend({
    getInc: function(u,d){
    if(u==null)return;
    jQuery.ajax({
    type: "GET",
    url: u,
    dataType: "text",
    success: function(t) {
    jQuery(d).html(t);
    ibmCommon.initShowHide(jQuery(d).children()[0]);	
    },
    async: true
    });
    }
    });
    })(jQuery);
  </script>
</head>

<body id="ibm-com">
<div id="ibm-top" class="ibm-landing-page">

<!-- MASTHEAD_BEGIN -->
<!-- MASTHEAD_BEGIN -->
<div class="ibm-access"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-content">跳转到主要内容</a></div>
<div id="ibm-masthead-dw">
  
    <!-- TOP ROW -->    
    <div id="dw-masthead-top-row">
    	<ul id="ibm-mast-options-dw" class="cn">
    		<li id="dw-mast-top-0"> 	
    			<a class="dw-mf-noscript" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" title="登录（或注册）需启用 JavaScript">登录 (或注册)</a>
    		</li>
    		<li id="dw-mast-top-1" class="dw-mast-top-1-cn">
    			<a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#SELECTLANG">中文</a><img class="dw-preload" src="index_files/arrow-down-active.gif" width="8" height="7" alt="" />
    		</li>
    		<li id="dw-mast-top-2" class="dw-mf-hide">
    			<a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/photo.do" alt="PHOTO" class="dw-mast-profimg" width="20" height="20"/> [userid]</a>
    		</li>
    		<li id="dw-mast-top-3">
    			<a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/ibm-smlogo.gif" width="44" height="16" alt="IBM®" /></a>
    		</li>
    	</ul>
	</div>
    
    <!-- TOP ROW SLIDER -->
    <div id="ibm-my-menu-dw">    
        <div class="ibm-ribbon-pane-dw">
            <div class="ibm-ribbon-section-dw">
                <!-- Sign-in -->
                <div class="dw-mast-columns">                
					<div class="dw-mast-col-1-1">
						<div id="dw-mast-sso">
							<!--<div id="dw-mast-sso-reg">
								<p class="dw-mast-sso-reg-cn">如果您还没有注册到 IBM 注册系统，我们为给您带来的不便表示道歉，并请您马上注册。 							
									<a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="(function () {window.location='/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh&amp;d='+encodeURIComponent(location.href);})();">现在注册</a>。</p>
							</div>-->
							<div id="signin_error_mf" class="dw-mf-hide"></div>
							<div id="dw-mast-sso-form">
								<form id="sForm_mf" action="" method="post" name="sForm_name_mf" onsubmit="return false;">
									<div id="dw-mast-sso-id" class="dw-mast-sso-id-cn">
										<label for="ibmid_mf">IBM ID：</label>
										<input id="ibmid_mf" type="text" value="" name="ibmid_name_mf" maxlength="100" onkeypress="handleEP(event,this.form,'mf');"/>
									</div>
									<div id="dw-mast-sso-pw" class="dw-mast-sso-pw-cn">
										<label for="pw_mf">密码：</label>
										<input id="pw_mf" type="password" value="" name="pw_name_mf" maxlength="100" onkeypress="handleEP(event,this.form,'mf');"/>
									</div>
									<div id="dw-mast-sso-target" class="dw-mast-sso-target-cn">
										<p class="dw-mf-perm-box">
											<input id="perm_mf" type="checkbox" name="perm_name_mf"/><label for="perm_mf"> 保持登录。</label>
										</p>
									</div>
									<div id="dw-mast-sso-terms">
										<p class="dw-mast-sso-terms-cn">单击提交则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/mydeveloperworks/terms?lang=zh">查看条款和条件</a>.</p>
									</div>
									<div>
										<input class="dw-mf-submit-btn-cn" name="ibm_submit_name_mf" value="提交" onclick="signin('mf');return false;" type="submit" />
									</div>
								</form>
							</div>
							<div id="dw-mast-sso-update">
								<div id="dw-mast-sso-update-id">
									<ul>
										<li><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="(function () {window.location='/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh_CN&amp;d='+encodeURIComponent(location.href);})();">需要一个 IBM ID？</a></li>
										
									<li><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/dwwi/jsp/WSHelp.jsp?lang=zh_CN">忘记 IBM ID？</a></li>
									</ul>
								</div>
								<div id="dw-mast-sso-update-pw">
								<ul class="dw-mf-pwupdate">
									<li><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="(function () {window.location='https://www.ibm.com/account/profile?page=forgot&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d='+encodeURIComponent(getAuthUrl())+'%3Fm%3Dloginpage%26lang%3Dzh_CN%26d%3D'+encodeURIComponent(location.href);})();">忘记密码？</a></li>
									<li><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="(function () {window.location='https://www.ibm.com/account/profile?page=chpw&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d='+encodeURIComponent(location.href);})();">更改您的密码</a></li>
								</ul>
									</div>
							</div>
							<div id="dw-mast-sso-text">
								<p>当您初次登录到 developerWorks 时，将会为您创建一份概要信息。<strong>您在 developerWorks 概要信息中选择公开的信息将公开显示给其他人，但您可以随时修改这些信息的显示状态。</strong>您的姓名（除非选择隐藏）和昵称将和您在 developerWorks 发布的内容一同显示。</p>
								<p class="dw-mf-secure-cn">所有提交的信息确保安全。</p>
							</div>
							<div class="dw-mast-close">
								<ul>
									<li><div class="dw-mast-close-sign-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
								</ul>
							</div>	
						</div>
						
						<div id="dw-mast-dname" class="dw-mf-hide">
							<p>当您初次登录到 developerWorks 时，将会为您创建一份概要信息，您需要指定一个昵称。您的昵称将和您在 developerWorks 发布的内容显示在一起。</p><p><strong>昵称长度在 3 至 31 个字符之间</strong>。 您的昵称在 developerWorks 社区中必须是唯一的，并且出于隐私保护的原因，不能是您的电子邮件地址。</p>
							<div id="signin_dname_error_mf" class="dw-mf-hide"></div>
							<div id="dw-mast-dname-form">
								<form id="dForm_mf" action="" method="post" name="dForm_name_mf" onsubmit="return false;">
									<div id="dw-mast-dname-mf">
										<label for="dname_mf">昵称：</label>
										<input id="dname_mf" name="dname_name_mf" maxlength="31" size="25" value="" type="text" onkeypress="handleEP(event,this.form,'mf');" />
									</div>
									<div id="dw-mast-dname-terms">
										<p class="dw-mast-dname-terms-cn">单击<strong>提交</strong>则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/mydeveloperworks/terms?lang=zh">查看条款和条件</a>.</p>
									</div>
									<div>
										<input class="dw-mf-submit-btn-cn" name="dname_submit_name_mf" value="提交" onclick="signin('mf');return false;" type="submit" />
									</div>
								</form>								
							</div>
							<div id="dw-mast-dname-secure">
								<p class="dw-mf-secure-cn">所有提交的信息确保安全。</p>
							</div>
							<div class="dw-mast-close">
								<ul>
									<li><div class="dw-mast-close-sign-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
								</ul>
							</div>	
						</div>
	
						<div id="dw-mast-auth" class="dw-mf-hide">
							<div>

								<h2>My developerWorks:</h2>
								<ul>
									<li><a id="dw-mast-top-0-0" href="http://www.ibm.com/developerworks/mydeveloperworks/profiles/html/myProfileView.do?lang=zh">我的概要信息</a></li>
									<li><a href="http://www.ibm.com/developerworks/mydeveloperworks/homepage?lang=zh">我的首页</a></li>
									<li><a href="http://www.ibm.com/developerworks/mydeveloperworks/groups/service/html/mycommunities?lang=zh">我的群组</a></li>
								</ul>     
							</div>
							<div id="dw-mast-notify" class="dw-mf-hide">
								<h2>我的通知：</h2>
								<ul>
									<li><a id="new_notify" href="http://www.ibm.com/developerworks/mydeveloperworks/homepage?lang=zh">{[num_notify] 个新通知}([num_notify] 个新通知)</a></li>
									<li><a id="new_invite" href="http://www.ibm.com/developerworks/mydeveloperworks/profiles/html/wc.do?action=in&requireAuth=true&widgetId=friends&lang=[lang]">{[num_invite] 个网络请求}([num_invite] 个网络请求)</a></li>  
								</ul>
							</div>
							<div class="dw-mast-more">
								<ul class="ibm-link-list">
									<li><a class="dw-more-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="signOut(); return false;"><strong>退出</strong></a></li>
								</ul>
							</div>
							<div class="dw-mast-close">
								<ul>
									<li><div class="dw-mast-close-sign"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
								</ul>
							</div>		
						</div>
						
					</div>
                	
                </div>
                <!-- Site selector --> 
				<div class="dw-mast-columns">
					<div class="dw-mast-col-2-1">
						<h2>选择语言：</h2>
						<ul>
							<li><a id="dw-mast-top-1-0" href="http://www.ibm.com/developerworks/">English</a></li>
							<li><a href="http://www.ibm.com/developerworks/cn/">中文</a></li>
							<li><a href="http://www.ibm.com/developerworks/jp/">日本語</a></li>
						    <li><a href="http://www.ibm.com/developerworks/ru/">Русский</a></li>
						</ul>
					</div>
					<div class="dw-mast-col-2-2">
						<ul>
							<li><a href="http://www.ibm.com/developerworks/br/">Português (Brasil)</a></li>
							<li><a href="http://www.ibm.com/developerworks/ssa/">Español</a></li>
							<li><a href="http://www.ibm.com/developerworks/vn/">Việt</a></li>
						</ul>
					</div>
					<div class="dw-mast-close">
						<ul>
							<li><div class="dw-mast-close-lang"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
						</ul>
                    </div>
                </div>
                <div class="dw-mast-columns"><!-- Authenticated --></div>
                <!-- IBM -->
				<div class="dw-mast-columns">
					<div class="dw-mast-col-2-1">
						<ul>
							<li><a id="dw-mast-top-3-0" href="http://www.ibm.com/cn/zh/">IBM 主页</a></li>
							<li><a href="http://www.ibm.com/solutions/cn/zh/">解决方案</a></li>
							<li><a href="http://www.ibm.com/software/cn/">软件</a></li>
						</ul>
					</div>
					<div class="dw-mast-col-2-2 dw-mast-ibm">
						<ul>
							<li><a href="http://www.ibm.com/support/cn/zh/">支持门户</a></li>
							<li><a href="http://www.ibm.com/support/documentation/cn/zh/">产品文档</a></li>
							<li><a href="http://www.ibm.com/redbooks/">Redbooks（英文）</a></li>
						</ul>
					</div>
					<div class="dw-mast-close">
						<ul>
							<li><div class="dw-mast-close-ibm-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
						</ul>
                    </div> 
				</div>
			</div>
        </div>
    </div>

    <!-- BOTTOM ROW -->
    <div id="ibm-universal-nav-dw">
        <ul id="ibm-unav-links-dw">
        	<li id="ibm-unav-home-dwlogo">
        		<a href="http://www.ibm.com/developerworks/cn/"><img src="index_files/dw-wordmark.gif" width="218" height="32" alt="developerWorks®" /></a>
        	</li>
        </ul>
    	<ul id="ibm-menu-links-dw" class="ibm-menu-links-dw-cn">
    		
    		<li id="dw-mast-nav-0"><a href="http://www.ibm.com/developerworks/cn/topics">技术主题</a></li>
    		<li id="dw-mast-nav-1"><a
    			href="http://www.ibm.com/developerworks/cn/downloads/">软件下载</a></li>
    		<li id="dw-mast-nav-2"><a
    			href="https://www.ibm.com/developerworks/community/?lang=zh">社区</a></li>
    		<li id="dw-mast-nav-3"><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&amp;lang=zh">技术讲座</a></li>
    	</ul>   
    	<form id="ibm-search-form" action="//www.ibm.com/search/csass/search/" method="get" name="form1">
    		<input type="hidden" name="sn" value="dw" />
    		<input type="hidden" name="lang" value="zh" />
    		<input type="hidden" name="cc" value="CN" />
    		<input type="hidden" name="en" value="utf" />
    		<input type="hidden" name="hpp" value="20" />
    		<input type="hidden" name="dws" value="cndw" />
    		<input type="hidden" name="lo" value="zh" />
    		<p>
    			<label for="q"><img alt="查询:" height="1" width="1" src="index_files/c-1.gif" /></label>
    			<input type="text" value="搜索 developerWorks" name="q" maxlength="100" id="q"/>
    			<input type="submit" id="ibm-search" class="ibm-btn-search ibm-btn-search-cn" name="Search" value="搜索" />
    		</p>
    	</form>
    </div>
    
    <!-- BOTTOM ROW SLIDER -->
    <div id="ibm-common-menu-dw">
        <div class="ibm-ribbon-pane-dw">
            <div class="ibm-ribbon-section-dw">
				<!-- Technical topics category -->
  
            	<div class="dw-mast-columns">
            	<div class="dw-mast-col-5-1">
            		<h2><a id="dw-mast-nav-0-0" href="http://www.ibm.com/developerworks/cn/topics/">技术主题</a></h2>
            		
            		<ul>
            		    <li><a href="http://www.ibm.com/developerworks/cn/agile/">Agile
            			    transformation</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/aix/">AIX and UNIX</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/bigdata/">Big data</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/cloud/">Cloud computing</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/ibmi/">IBM i</a></li>
            			
            		</ul>     
            	</div>
            	<div class="dw-mast-col-5-2">
            		
            		<ul>
            		    <li><a href="http://www.ibm.com/developerworks/cn/data/">Information management</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/java/">Java technology</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/linux/">Linux</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/lotus/">Lotus</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/mobile/">Mobile
            		        development</a></li>
           			
            		</ul>
            	</div>
            	<div class="dw-mast-col-5-3">
            		
            		<ul>
          			<li><a href="http://www.ibm.com/developerworks/cn/opensource/">Open source</a></li>
            		    <li><a href="http://www.ibm.com/developerworks/cn/rational/">Rational</a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/webservices/">SOA and web services</a></li>
             			<li><a href="http://www.ibm.com/developerworks/cn/web/">Web development</a></li>  
            			<li><a href="http://www.ibm.com/developerworks/cn/websphere/">WebSphere</a></li>     
    
            		</ul>
            		
            	</div>
            	<div class="dw-mast-col-5-4">
            		<ul>
           			<li><a href="http://www.ibm.com/developerworks/cn/xml/">XML</a></li>
            		</ul>        
            	</div>
            	<div class="dw-mast-col-5-5">
            		<ul>
            			<li><a href="http://www.ibm.com/developerworks/cn/library/"><strong>文档库</strong></a></li>
            			<li><a href="http://www.ibm.com/developerworks/cn/products/"><strong>产品 A - Z</strong></a></li>				    
            		</ul>        
            	</div>
            	<div class="dw-mast-close">
            		<ul>
            			<li><div class="dw-mast-close-tech-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
            		</ul>
            	</div>
            </div>
            	<!-- Evaluation software category -->
            	<div class="dw-mast-columns">
            		<div class="dw-mast-col-2-1">
            			<h2><a id="dw-mast-nav-1-0" href="http://www.ibm.com/developerworks/cn/downloads">软件下载</a></h2>
            			<ul>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#data">Information management</a></li>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#lotus">Lotus</a></li>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#rational">Rational</a></li>
            			</ul>            
            		</div>
            		<div class="dw-mast-col-2-2">
            			<ul>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#tivoli">Tivoli</a></li>
            				<li><a href="http://www.ibm.com/developerworks/cn/downloads/#websphere">WebSphere</a></li>
            				
            			</ul>            
            		</div>
            		<div class="dw-mast-close">
            			<ul>
            				<li><div class="dw-mast-close-eval-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
            			</ul>
            		</div>
            	</div>
            	<!-- Community category -->
            	<div class="dw-mast-columns">
            		<div class="dw-mast-col-2-1">
            			<h2><a id="dw-mast-nav-2-0" href="https://www.ibm.com/developerworks/community/?lang=zh">社区</a></h2>
            			<ul>
            				<li><a href="https://www.ibm.com/developerworks/community/homepage/?lang=zh">我的首页</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/profiles/home.do?lang=zh">概要信息</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/groups/service/html/allcommunities?lang=zh">群组</a></li>
            				<li><a href="https://www.ibm.com/developerworks/mydeveloperworks/blogs/?lang=zh">博客</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/bookmarks/html?lang=zh">书签</a></li>  
            			</ul>     
            		</div>
            		<div class="dw-mast-col-2-2">
            			<ul>
            				<!--	<li><a href="">Forums</a></li> -->
            				<li><a href="https://www.ibm.com/developerworks/mydeveloperworks/wikis/home?lang=zh">Wiki</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/files/app?lang=zh">文件</a></li>
            				<li><a href="https://www.ibm.com/developerworks/community/activities/service/html/mainpage?lang=zh#dashboard,myactivities">活动</a></li>
            				<!--	<li><a href="">Podcasts</a></li> -->    
            			</ul>
            		</div>
            		<div class="dw-mast-close">
            			<ul>
            				<li><div class="dw-mast-close-comm-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
            			</ul>
            		</div>
            	</div>
            	<!-- Events category -->
            	<div class="dw-mast-columns">
            		<div class="dw-mast-col-1-1">
            			<h2><a id="dw-mast-nav-3-0" href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&amp;lang=zh">技术讲座</a></h2>
            			<ul>
            				<li><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&amp;lang=zh">技术讲座</a></li>
            				<li><a href="http://www.ibm.com/developerworks/cn/swi/">多媒体课堂</a></li>
            				<li><a href="http://www.ibm.com/developerworks/find/webcasts/">网络广播（英文）</a></li>
            				<li><a href="http://www.ibm.com/developerworks/find/events/">查找活动（技术讲座，网络广播，会议等）（英文）</a></li> 
            			</ul>            
            		</div>
            		<div class="dw-mast-close">
            			<ul>
            				<li><div class="dw-mast-close-event-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10" border="0"/></a></div></li>
            			</ul>
            		</div>
            	</div>
            </div>
        </div>
    </div>
	
</div>
<div id="fdiv" class="ibm-access"></div>
<!-- MASTHEAD_END --><!-- MASTHEAD_END -->

<div id="ibm-pcon">

<!-- CONTENT_BEGIN -->
<div id="ibm-content">

<!-- Navigation_Trail_BEGIN -->
<!-- &nbsp; -->
      <div id="ibm-content-head"><ul id="ibm-navigation-trail"><li class="ibm-first"><a href="http://www.ibm.com/developerworks/cn/">developerWorks 中国</a></li><li><a href="http://www.ibm.com/developerworks/cn/opensource/">Open source</a></li><li><a href="http://www.ibm.com/developerworks/cn/views/opensource/libraryview.jsp">文档库</a></li></ul></div>
<!-- Navigation_Trail_END -->

<!-- dW_Summary Area_START -->
<div id="dw-summary-article">

<div class="dw-content-head">
<h1>为 RCP 提供捷径的实用 Eclipse 系统类</h1><p/>
</div>

<div class="ibm-container-body ibm-two-column">

<div class="ibm-column ibm-first">
<div class="author"><a class="dwauthor" rel="#authortip1" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#author1">魏 强</a>, 学生, 东北大学</div><div id="authortip1" class="dwauthor-onload-state ibm-no-print">魏强，东北大学软件学院硕士研究生，现在主要从事 Eclipse 插件的开发，同时热爱着 Web 技术，尤其对 Java Web 相关技术，更是情有独钟。他的邮箱是：neuswc20063500@gmail.com</div>
<p></p>
  <p><strong>简介：</strong>&nbsp;Eclipse 提供了 RCP 应用开发的内核，本身已经提供了许多有用的类，熟悉并且使用这些类，不仅可以减少代码量的开发，还可以提高代码的健壮性。既然 RCP 运行于 Eclipse 内核之上，就应该尽量多的使用系统自带的类。如 SafeRunner 提供了异常记入日志的功能、BusyIndicator 可以屏蔽鼠标事件，使得当前程序专注于处理一件事，而不使程序出现死的状态，鼠标变为漏斗状。本文尽可能详细的介绍这些类，用示例代码展示它们的用法，相信读者可以从本文掌握它们的使用技巧。</p>

 
</div>

<div class="ibm-column ibm-second">

<p class="leading"><b>发布日期：</b>&nbsp;2010 年 11 月 04 日
  
<br /><b>级别：</b>&nbsp;初级
    

<br /><strong>访问情况 ：</strong>&nbsp;5459 次浏览
  <br /><strong>评论：</strong>&nbsp;<span id="nCmts"><img alt="" src="//dw1.s81c.com/developerworks/i/circle-preloader.gif" height="12" width="50" /><img alt="" src="index_files/c-1.gif" height="14" width="1" /></span>
  <!-- Rating_Area_Begin -->
  <div id="art-rating-summary"></div>
  <!-- Rating_Area_End -->
  <br />
</p>
</div>

</div>
</div>
<!-- dW_Summary_Area_END -->

<!-- CONTENT_BODY -->
<div id="ibm-content-body">

<!-- MAIN_COLUMN_BEGIN -->
<div id="ibm-content-main">

<!-- Related_Searches_Area_And_Overlays_Begin -->

<!-- MAIN_COLUMN_CONTAINER_BEGIN -->
<div class="ibm-container">

<!-- MAIN_COLUMN_CONTENT_BEGIN -->
<p><a name="major1"><span class="atitle">引言</span></a></p>
			<p>RCP（Rich Client Platform），即富客户端平台，是 Eclipse 提供给开发者的强大的开放性开发平台，允许开发基于 Eclipse 的应用程序，风格将与 Eclipse 相同。由于是基于 Eclipse，因此 Eclipse 中许多有用的系统类，就可以在开发者自己的 RCP 应用中利用起来，这样不仅减少了开发量，也大大提高了系统稳定性。本文介绍了一些笔者在实际开发中用到的 Eclipse 系统类，详细的认识它们可以为你的 RCP 开发提供捷径。</p>
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major2"><span class="atitle">实用类简介</span></a></p>
			<p>本文将逐一的介绍几个实用类，顺序如下面的列表。</p><ul>
				<li>
 SafeRunner 的用法</li>
				<li>
 BusyIndicator 的用法</li>
				<li>
 PreferencesUtil 的用法</li>
				<li>
 IDialogSettings 的用法</li>
				<li>
 FileLocator 的用法</li>
				<li>
 WorkbenchHelp 的用法</li>
				<li>
 MessageDialogWithToggle 的用法</li>
				<li>
视图 ViewPart 中的 IMemento</li>
				<li>
重新认识 Display 类</li>
			</ul>
			<p>列表的每一部分分别讲述一个实用类的具体用法，文章的附件中会有这些类使用的示例代码，每个实用类对应的使用示例代码以“类名” + UseCase.java 命名 <a name="_ 图 _1._PDF 模板样式"/>。为了方便读者查看效果，附件程序中每个类的示例代码都有一个对应的按钮，读者可以点击对应的按钮查看效果，附件程序界面如图 1 所示。读者将附件导入 Eclipse 工作空间即可运行。</p>
				<br /><a name="fig1"><b>图 1. 示例程序界面</b></a><br />
				<img alt="图 1. 示例程序界面" height="252" src="index_files/image001.jpg" width="332"/>
			<br />
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major3"><span class="atitle">SafeRunner 的用法</span></a></p>
			<p>在 Java 开发中，很多时候所写的语句可能抛出异常，这就需要程序员抒写 try … catch 语句，将异常语句包围，在 catch 语句块中对异常进行处理，在 RCP 应用中对意外抛出的异常一般都需要先记录到日志文件中，方便日后查询，然后根据需求进行别的处理。用传统的方法处理 RCP 中的异常，不仅仅要写 try … catch 语句，还需要编写记录 Eclipse 日志的代码，如果异常语句多了的话，代码就会显得臃肿，不易理解。</p>
			<p>Eclipse 提供了一个类，名为 SafeRunner，允许开发者将异常代码放入 SafeRunner 的 run 方法中执行，SafeRunner 默认对异常代码添加 try … catch 语句，捕捉异常并且将异常信息记录日志，同时 SafeRunner 也允许开发者对异常进行其他处理。SafeRunner 的使用方法如清单 1 所示。</p>
			<br /><a name="listing1"><b>清单 1. SafeRunner 的使用</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 System.out.println("语句 1"); 
 SafeRunner.run(new ISafeRunnable() { 
      
      @Override 
      public void run() throws Exception { 
        // 异常代码的执行位置
        System.out.println("语句 2（可能抛出异常）"); 
        throw new RuntimeException("语句 2 的异常"); 
      } 
      
      @Override 
      public void handleException(Throwable exception) { 
        // 对异常进行其他处理
        exception.printStackTrace(); 
      } 
 }); 
 System.out.println("语句 3"); 
</pre></td></tr></table><br />
			<p>在 handleException 方法中可以对异常进行其他的处理，比如打印异常信息、记录到数据库等等。</p>
			<p>当在 RCP 应用中执行清单 1 中的代码，它的日志文件就会记录抛出的异常，效果如图 2 所示。</p>
				<br /><a name="fig2"><b>图 2. 使用 SafeRunner 的日志文件</b></a><br />
				<img alt="图 2. 使用 SafeRunner 的日志文件" height="317" src="index_files/image002.jpg" width="580"/>
			<br />
			<p>使用 SafeRunner 使得 RCP 的异常处理变得规范化，代码量减少，更易维护，无需自己编写日志记录代码。</p>
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major4"><span class="atitle">BusyIndicator 的用法</span></a></p>
			<p>当试图在执行一个线程任务的同时，主线程停止等待，直到任务执行完毕，这个需求开发者一般会想到使用 Display 的 sync 方法，将任务放入主线程执行，这样执行的缺点是，任务执行时主线程停止响应，给人程序已死的感觉。因此为了解决这个缺点，就可以使用 BusyIndicator 执行任务，它使得任务执行时鼠标显漏斗状，标识主线程忙碌，实际任务在另一线程执行。附件程序中点击”BusyIndicator”按钮就会展示 BusyIndicator 的使用效果，执行的代码如清单 3 所示。</p>
			<br /><a name="listing2"><b>清单 2. BusyIndicator 的示例代码</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 public static void handleClick(Button button) { 
    button.setText("Running..."); 

    BusyIndicator.showWhile(button.getDisplay(), 
        new SleepThread(5000)); 

    button.setText("BusyIndicator"); 
  } 

  static class SleepThread extends Thread { 
    private long ms; 

    public SleepThread(long ms) { 
      this.ms = ms; 
    } 

    public void run() { 
      try { 
        sleep(ms); 
      } catch (InterruptedException e) { 
      } 
    } 
  } 
</pre></td></tr></table><br />
			<p>用户点击”BusyIndicator”按钮，就改变”BusyIndicator”按钮的标签，改为 Running … , 执行的任务在 SleepThread 中，使用线程的 sleep 方法，模拟任务执行 5 秒。任务执行过程中，主程序虽然没有响应，但是不会有程序已死的感觉，鼠标显示漏斗状。执行任务后按钮的标签恢复成“BusyIndicator”, 鼠标箭头也恢复正常。</p>
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major5"><span class="atitle">PreferencesUtil 的用法</span></a></p>
			<p>Eclipse 提供了首选项扩展点，允许开发者定义自己的首选项集成到 Eclipse 当中（具体的首选项扩展点的扩展方法可以查看 Eclipse 官方开发文档），正常来说，用户可以通过 Eclipse 的 Window-&gt;Preferences 菜单打开所有的首选项，然后找到自定义的首选项页。但是如果开发者希望可以通过别的方式打开自定义的首选项页时，就需要利用到 PreferencesUtil，这个类提供了打开指定首选项页的功能，附件程序中定义了一个首选项，id 为 testPreferencesUtilPage，name 为 Test PreferencesUtil Page，清单 4 是使用 PreferencesUtil 打开 id 为 testPreferencesUtilPage 的首选页的方法代码。</p>
			<br /><a name="listing3"><b>清单 3. PreferencesUtil 的示例代码</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 PreferenceDialog createPreferenceDialogOn = 
 PreferencesUtil.createPreferenceDialogOn(null, "testPreferencesUtilPage", null, null); 
 createPreferenceDialogOn.open(); 
</pre></td></tr></table><br />
			<p>读者可以在附件程序中点击“PreferencesUtil”按钮查看效果，效果如图 3 所示。</p>
				<br /><a name="fig3"><b>图 3. PreferencesUtil 的示例效果</b></a><br />
				<img alt="图 3. PreferencesUtil 的示例效果" height="312" src="index_files/image003.jpg" width="580"/>
			<br />
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major6"><span class="atitle">IDialogSettings 的用法</span></a></p>
			<p>IDialogSettings 是一个为对话框设置提供持久化功能的一个接口，该接口提供了键值对的存储机制，键必须是字符串，值则可以是字符串或者字符串数组（IDialogSettings 提供的方法允许值是非字符串类型，但是 IDialogSettings 的实现会将其他非字符串类型的基本类型转换为字符串类型，然后保存）。开发者希望在对话框关闭时候保存状态，打开对话框恢复状态时，就可以利用 IDialogSettings 接口了。附件程序使用 InputDialog，将用户输入的内容保存到 IDialogSettings 实例中，使用 IDialogSettings 的 save 方法将 IDialogSettings 中的信息保存到本地文件，在第二次打开 InputDialog 时，又使用 IDialogSettings 的 load 方法加载设置。代码如清单 5 所示。</p>
			<br /><a name="listing4"><b>清单 4. IDialogSettings 的使用</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 private static IDialogSettings ds = new DialogSettings("myds"); 
  public static void handleClick() { 
    String fileName = "c:/save.xml"; 
    if (new File(fileName).exists()) 
    { 
      try { 
        ds.load(fileName); 
      } catch (IOException e1) { 
        e1.printStackTrace(); 
      } 
    } 
    InputDialog id = new InputDialog(null, "IDialogSettings Title", 
        "IDialogSettings Message", ds.get("iduc") == null ? "" : ds.get("iduc"), null); 
    if (id.open() == Window.OK) 
    { 
      ds.put("iduc", id.getValue()); 
    } 
    try { 
      ds.save(fileName); 
    } catch (IOException e) { 
      e.printStackTrace(); 
    } 
  } 
</pre></td></tr></table><br />
			<p>在 InputDialog 中输入 helloworld, 点击 OK，打开清单 5 中保存的文件 c:/save.xml，它的内容如清单 6 所示。可以看出 IDialogSettings 中的信息通过调用 save 方法，保存成了一个 XML 文件格式。</p>
			<br /><a name="listing5"><b>清单 5. save.xml 的内容</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 &lt;?xml version="1.0" encoding="UTF-8"?&gt; 
 &lt;section name="myds"&gt; 
  &lt;item value="helloworld" key="iduc"/&gt; 
 &lt;/section&gt; 
</pre></td></tr></table><br />
			<p><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#_ 清单 _5._IDialogSettings 的使用">清单</a><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#_ 清单 _5._IDialogSettings 的使用">5</a>中，IDialogSettings 的实例是自己新建，它的 save 和 load 操作需要开发人员自己控制，有时候为了方便，我们可以使用已经有的 IDialogSettings 实例，让平台负责它们的读写，如 JavaPlugin.getDefault().getDialogSettings() 就可以获得 JavaPlugin 中的 IDialogSettings 实例，加载保存都归 Java 插件管理。</p>
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major7"><span class="atitle">FileLocator 的用法</span></a></p>
			<p>在 Eclipse 中编辑项目时，往往会根据需要在项目中新建一些文件，如 properties 文件等等，当我们需要在 RCP 运行时找到这些文件时，就需要利用 FileLocator 类。为此，附件程序中新建一个 properties 文件（fileLocator.properties）在项目的根目录下，内容为 filelocator=FileLocatorUseCase，接下来利用 Filelocator 找到这个属性文件，读取该文件内容，使用 Java 的资源 API 获取键为 filelocator 的 FileLocatorUseCase 值，并弹出对话框显示，代码如清单 7 所示。</p>
			<br /><a name="listing6"><b>清单 6. FileLocator 的使用</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
    URL location = FileLocator.find(Platform 
        .getBundle("eclipse_system_class"), new Path( 
        "fileLocator.properties"), null); 
    PropertyResourceBundle bundle = null; 
    InputStream is = null; 
    String aboutText = ""; 
    if (location != null) { 
      try { 
        is = location.openStream(); 
        bundle = new PropertyResourceBundle(is); 
      } catch (IOException e) { 
        bundle = null; 
      } finally { 
        try { 
          if (is != null) 
            is.close(); 
        } catch (IOException e) { 
        } 
      } 
    } 

    if (bundle != null) { 
      try { 
        // 值
        aboutText = bundle.getString("filelocator"); 
        MessageDialog.openInformation(null, "FileLocator", aboutText); 
      } catch (MissingResourceException e) { 
      } 
    } 
</pre></td></tr></table><br />
			<p>通过插件的 ID，使用 Platform 类的 getBundle 方法获取插件的 Bundle，FileLocator 的 find 方法相对 Bundle 的根目录寻找文件（fileLocator.properties），将获取的文件输入流封装成 PropertyResourceBundle，这样就可以根据键值 filelocator 获得 FileLocatorUseCase 值了。</p>
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major8"><span class="atitle">WorkbenchHelp 的用法</span></a></p>
			<p>在了解 WorkbenchHelp 之前，读者需要了解 Eclipse 中的帮助扩张点，这个扩张点的目的是为开发者提供自定义帮助内容的方法，该扩展点的具体使用方法可以查看 Eclipse 官方开发文档。WorkbenchHelp 类提供了快捷的 API，用以设置、显示、获得帮助扩展点的帮助。附件程序展示了如何为视图的 Composite 添加帮助，当焦点落在 Composite 时，按 F1 键，会显示定义好的帮助内容。或者点击“WorkbenchHelp”按钮，也会显示帮助内容。显示效果如图 4 所示。</p>
				<br /><a name="fig4"><b>图 4. 使用 WorkbenchHelp 显示帮助</b></a><br />
				<img alt="图 4. 使用 WorkbenchHelp 显示帮助" height="311" src="index_files/image004.jpg" width="457"/>
			<br />
			<p>为视图 Composite 设置 F1 帮助的代码如清单 8 所示。</p>
			<br /><a name="listing7"><b>清单 7. 设置 F1 显示帮助</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 public void createPartControl(Composite parent) 
 { 
  Composite com = new Composite(parent, SWT.NONE); 
  ... 
  WorkbenchHelp.setHelp(com, "eclipse_system_class.contexthelp"); 
 } 
</pre></td></tr></table><br />
			<p>WorkbenchHelp 的 setHelp 方法为控件设置帮助，它的第二个参数值 eclipse_system_class.contexthel 中的 contexthelp，是附件程序扩展 org.eclipse.help.contexts 扩展点定义的 context 的 id，eclipse_system_class 则为附件程序的插件 ID，清单 8 利用 WorkbenchHelp 为 Composite 绑定了帮助，点击 F1 时显示 id 为 contexthelp 的帮助内容。当试图在其他事件（不是点击 F1）时显示帮助，WorkbenchHelp 提供了直接显示帮助的方法：WorkbenchHelp.displayHelp("eclipse_system_class.contexthelp"); 在任何事件监听器中调用 displayHelp 方法，都可以显示帮助内容。</p>
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major9"><span class="atitle">MessageDialogWithToggle 的用法</span></a></p>
			<p>MessageDialogWithToggle 是一个带有 CheckBox 的提示对话框，MessageDialogWithToggle 不仅保存了用户点击的按钮信息，还保存了用户是否选中了 ChekBox。MessageDialogWithToggle 在 Eclipse 中的使用例子很多，比如关闭 Eclipse 时，会弹出如图 5 的对话框。该对话框就是 MessageDialogWithToggle 的实例。</p>
				<br /><a name="fig5"><b>图 5. 退出 Eclipse 时的提示对话框</b></a><br />
				<img alt="图 5. 退出 Eclipse 时的提示对话框" height="157" src="index_files/image005.jpg" width="524"/>
			<br />
			<p>MessageDialogWithToggle 对话框适用于一个对话框包含两个提示问题的情况下，它的使用代码如清单 9 所示。</p>
			<br /><a name="listing8"><b>清单 8. MessageDialogWithToggle 的使用</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 MessageDialogWithToggle dialogWithToggle = new MessageDialogWithToggle(null, 
        "MessageDialogWithToggle Title", null, "MessageDialogWithToggle Message", 
        MessageDialog.QUESTION, new String[] { IDialogConstants.YES_LABEL, 
            IDialogConstants.NO_LABEL}, 0, "是否选中 toggle?", false); 
    if (dialogWithToggle.open() == IDialogConstants.YES_ID) 
    { 
      boolean toggleState = dialogWithToggle.getToggleState(); 
      MessageDialog.openInformation(null, 
      "MessageDialogWithToggle", "是否选中 toggle " + toggleState); 
    } 
</pre></td></tr></table><br />
			<p>执行清单 9 的代码效果将如图 6 所示。</p>
				<br /><a name="fig6"><b>图 6. MessageDialogWithToggle 的示例效果</b></a><br />
				<img alt="图 6. MessageDialogWithToggle 的示例效果" height="158" src="index_files/image006.jpg" width="525"/>
			<br />
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major10"><span class="atitle">视图 ViewPart 中的 IMemento</span></a></p>
			<p>Eclipse 的工作台 Workbench 被关闭的时候，会执行每个视图 (ViewPart) 的 saveState 方法，一个 IMemento 对象就会传入到 saveState 方法中，在 IMemento 对象中可以存储整型、字符串型、浮点型等数据，我们就可以将一些状态信息等存储到 IMemento 中，平台会将这些数据存储到 org.eclipse.ui metadata 目录下的 workbench.xml 文件中。下次打开视图时，平台还会从 workbench.xml 重新读取 IMemento 对象，并且传入视图的 init 方法。那么 init 方法就可以恢复上一次关闭前的状态了。</p>
			<p>为了实现上述保存状态再恢复状态的功能，需要重写视图（ViewPart）的 init 和 saveState 方法，类似代码如清单 10 所示。</p>
			<br /><a name="listing9"><b>清单 9. init 与 saveState 的重写</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 public void init(IViewSite site, IMemento memento) throws PartInitException 
 { 
    super.init(site, memento); 
    if (memento != null){ 
      String initData = memento.getString("initdata"); 
      // 每一次打开都会获得这个 initData. 
    } 
 } 

 public void saveState(IMemento memento) 
 { 
    // 改变状态的话，就在关闭的时候存储到 IMemento 中
    if (memento != null){ 
      
      memento.putString("initdata", "IMemento init"); 
    } 
 } 
</pre></td></tr></table><br />
			<p>另外，打开视图的时候先执行 init，再执行视图的 createPartControl 方法，也就是说 init 的执行在创建组件之前，因此可以保存 init 方法的 IMemento 对象参数的引用，在 createPartControl 方法里使用，获得 IMemento 中存放的信息，这样就可以恢复上一次关闭前一些组件的属性值等。</p>
			<div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major11"><span class="atitle">重新认识 Display 类</span></a></p>
			<p>Display 在 RCP 中具有很重要的地位，它的两个方法 sync 和 async 是同步和异步方法，sync 是将代码块立刻放入主线程执行，async 是在主线程空闲的时候再放入主线程执行。这两个方法在非主线程中更新 UI 时被大量用到。</p>
			<p>Display 还有很多别的方法会被人忽略，但是了解这些方法或许在以后的开发中有很大的帮助，</p>
			<p><strong><em>addFilter</em></strong>方法用于添加全局监听器，任何在 RCP 应用中发生的同类事件都会触发 addFilter 的监听器。<strong><em>addFilter</em></strong>的使用示例代码如清单 11 所示。</p>
			<br /><a name="listing10"><b>清单 10. addFilter 使用示例</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 display.addFilter(SWT.MouseDown, new Listener() {   
            @Override  
            public void handleEvent(Event e)   
            {   
                System.out.println("filter mouse  down");   
            }   
        }); 
</pre></td></tr></table><br />
			<p>Display 提供了寻找控件的方法，叫 <strong><em>findWidget</em></strong>，用于通过句柄快速寻找控件，在控件非常复杂的情况下，可以通过记录控件的句柄号 (Control 的 handle 属性 )，调用 findWidget 方法，快速获得控件，示例代码如清单 12 所示。</p>
			<br /><a name="listing11"><b>清单 11. findWidget 使用示例</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 Button displayBtn = … ; 
 Control d = (Control)display.findWidget(displayBtn.handle);   
 System.out.println(d == displayBtn); 
</pre></td></tr></table><br />
			<p>Display 的 <strong><em>getFocusControl</em></strong>方法返回当前应用中获得焦点的 Control 对象。</p>
			<p>Display 的 <strong><em>timerExec</em></strong>方法用于在指定毫秒数结束以后执行一段代码，为 RCP 程序提供定时执行的功能，它的代码如清单 13 所示。</p>
			<br /><a name="listing12"><b>清单 12. timerExec 使用示例</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 // 在 5 秒后执行 Runnable 代码
 display.timerExec(5000, new Runnable() {   
  
            @Override  
            public void run()   
            {   
                System.out.println("timerExec");   
            }   
        });   
</pre></td></tr></table><br />
			<p>Display 的 <strong><em>disposeExec</em></strong>方法是程序退出时候的钩子，在 Display 被销毁的时候触发执行，通过这个方法允许你在程序退出时做一些收尾工作，它的示例代码如清单 14 所示。</p>
			<br /><a name="listing13"><b>清单 13. disposeExec 使用示例</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">
				
 display.disposeExec(new Runnable(){   
  
            @Override  
            public void run()   
            {   
                System.out.println("disposeExec");   
            }   
               
        });  
</pre></td></tr></table><br />
			<a name="_ 样式 _(styles)_ 使用小结"/><div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><a name="major12"><span class="atitle">小结</span></a></p>
			<p>本文介绍了几个 RCP 开发中可能被用到的实用类，对这些类进行了讲解和代码示例分析，通过文章的介绍，相信读者可以从中掌握这些类的使用方法，在未来的 RCP 开发中事半功倍。由于本人知识水平有限，文章中倘若有错误的地方，欢迎联系我批评指正。</p>
		
		<!-- CMA ID: 569917 --> <!-- Site ID: 10 --> <!-- XSLT stylesheet used to transform this file:  dw-article-6.0-beta.xsl -->
<br /><div class="ibm-alternate-rule"><hr/></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><p><span class="atitle"><a name="download">下载</a></span></p><table width="100%" class="ibm-data-table" cellspacing="0" cellpadding="0" border="0"><tr><th scope="col">描述</th><th scope="col">名字</th><th scope="col">大小</th><th scope="col">下载方法</th></tr><tr><td class="tb-row" scope="row">样例代码</td><td nowrap="nowrap">eclipse-system-class.rar</td><td nowrap="nowrap">38KB</td><td nowrap="nowrap"><a class="fbox" href="http://www.ibm.com/developerworks/apps/download/index.jsp?contentid=569917&amp;filename=eclipse-system-class.rar&amp;method=http&amp;locale=zh_CN">HTTP</a></td></tr></table><p><a href="http://www.ibm.com/developerworks/cn/whichmethod.html" class="ibm-forward-link">关于下载方法的信息</a></p><br />
<p><a name="resources"><span class="atitle">参考资料 </span></a></p><p><b>学习</b></p><ul><li>参考 <a href="http://www.eclipse.org/">Eclipse 官方网站</a>首页，查看 Eclipse 相关技术的最新信息。<br /><br /></li><li>查看“<a href="http://www.eclipse.org/documentation/">Eclipse 帮助文档</a>”，查看 Eclipse 中类的 API 定义以及其他的开发帮助文档。<br /><br /></li><li>查看网站“<a href="http://www.eclipseplugincentral.com/Web_Links-index-req-viewcatlink-cid-14.html">Eclipse Source Analysis</a>”，查看 Eclipse 的源码分析。<br /><br /></li><li> 访问 developerWorks <a href="http://www.ibm.com/developerworks/cn/opensource/">Open source 专区</a>获得丰富的 how-to 信息、工具和项目更新以及<a href="http://www.ibm.com/developerworks/cn/opensource/best2009/index.html">最受欢迎的文章和教程</a>，帮助您用开放源码技术进行开发，并将它们与 IBM 产品结合使用。<br /><br /></li><li>随时关注 developerWorks <a href="http://www.ibm.com/developerworks/cn/offers/techbriefings/">技术活动</a>和<a href="http://www.ibm.com/developerworks/cn/swi/">网络广播</a>。 <br /><br /></li></ul><p><b>讨论</b></p><ul><li>欢迎加入 <a href="http://www.ibm.com/developerworks/cn/mydeveloperworks/">My developerWorks 中文社区</a>。<br /><br /></li></ul>
<p><a name="author"><span class="atitle">关于作者</span></a></p><div class="ibm-container ibm-portrait-module ibm-alternate-two"><div class="ibm-container-body"><p><a name="author1"> </a>魏强，东北大学软件学院硕士研究生，现在主要从事 Eclipse 插件的开发，同时热爱着 Web 技术，尤其对 Java Web 相关技术，更是情有独钟。他的邮箱是：neuswc20063500@gmail.com</p></div></div>
<!-- MAIN_COLUMN_CONTENT_END -->
  <!-- OVERLAYS_START -->
  <!-- Report_Abuse_Start -->
  <div class="ibm-common-overlay ibm-no-print" id="reportabuseoverlay">
    <div class="ibm-head"><p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">关闭 [x]</a></p></div>
    <div class="ibm-body">
      <div class="ibm-main">
        <a class="ibm-access" name="reportabuseoverlay">关于报告滥用的帮助</a>   
        <div class="ibm-title"><h1>报告滥用</h1></div>
        <div class="ibm-container ibm-alternate">
          <p><strong>谢谢!</strong>  此内容已经标识给管理员注意。</p>
          <div class="ibm-overlay-rule"><hr /></div>
          <div class="ibm-buttons-row">
            <input type="button" onclick="ibmCommon.Overlays.hide('reportabuseoverlay');return false;" class="ibm-btn-cancel-sec dw-btn-cancel-sec" name="ibm-cancel" value="关闭" />
          </div>
        </div>
      </div> 
    </div>
    <div class="ibm-footer"></div>
  </div>
  <!-- Report_Abuse_Error_Start -->
  <div class="ibm-common-overlay ibm-no-print" id="reportabuseoverlayerror">
    <div class="ibm-head"><p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">关闭 [x]</a></p></div>
    <div class="ibm-body">
      <div class="ibm-main">
        <a class="ibm-access" name="reportabuseoverlayerror">关于报告滥用的帮助</a>   
        <div class="ibm-title"><h1>报告滥用</h1></div>
        <div class="ibm-container ibm-alternate">
          <p class="ibm-ind-error"><strong>报告滥用提交失败。  请稍后重试。</strong></p>
          <div class="ibm-overlay-rule"><hr /></div>
          <div class="ibm-buttons-row">
            <input type="button" onclick="ibmCommon.Overlays.hide('reportabuseoverlayerror');return false;" class="ibm-btn-cancel-sec dw-btn-cancel-sec" name="ibm-cancel" value="关闭" />
          </div>
        </div>
      </div> 
    </div>
    <div class="ibm-footer"></div>
  </div>
  <!-- Sign in OVERLAY STARTS HERE --> 
  <div class="ibm-common-overlay" id="signin_overlay">
    <div class="ibm-head">
      <p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="clearForm();">关闭 [x]</a></p>
    </div>
    <div class="ibm-body">
      <div class="ibm-main">
        <div class="ibm-title ibm-subtitle">
          <h1>developerWorks：登录</h1>
          <div id="ibm-overlay-error-signin" class="no-display"></div>
        </div>
        
        <div class="ibm-container ibm-alternate ibm-buttons-last">
          <div class="ibm-container-body">

            <form class="ibm-column-form" id="sFormId" action="" method="post" name="sForm" onsubmit="return false;">
              <p><label for="ibmid">IBM ID：</label><span><input name="ibm-id" id="ibmid" size="25" value="" class="required" type="text" onkeypress="handleEP(event,this.form);" />
                <br /><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="(function () {window.location='/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh_CN&amp;d='+encodeURIComponent(location.href);})();">需要一个 IBM ID？</a>
                <br /><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/dwwi/jsp/WSHelp.jsp?lang=zh_CN">忘记 IBM ID？</a></span>   
              </p> 
              <p><label for="password">密码：</label><span><input name="password" id="password" size="25" value="" class="required" type="password" onkeypress="handleEP(event,this.form);" /><br />
                <a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="(function () {window.location='https://www.ibm.com/account/profile?page=forgot&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d='+encodeURIComponent(getAuthUrl())+'%3Fm%3Dloginpage%26lang%3Dzh_CN%26d%3D'+encodeURIComponent(location.href);})();">忘记密码？</a><br />
                <a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="(function () {window.location='https://www.ibm.com/account/profile?page=chpw&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d='+encodeURIComponent(location.href);})();">更改您的密码</a></span></p> 

              <p class="dw-perm-box">
                <span><input id="perm" type="checkbox" name="perm_name"/><label for="perm"> 保持登录。</label></span>
              </p>

              <p>单击提交则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/mydeveloperworks/terms?lang=zh">使用条款</a></p>
              <div class="ibm-buttons-row">
                <p><input class="ibm-btn-arrow-pri" name="ibm-submit" value="提交" onclick="signin();return false;" type="submit" /><span class="ibm-sep">&nbsp;</span>
                  <input value="取消" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="clearForm();ibmCommon.Overlays.hide('signin_overlay');return false;"/></p>
              </div>
            </form>
            <div class="ibm-overlay-rule"><hr /></div>
            <p>当您初次登录到 developerWorks 时，将会为您创建一份概要信息。<strong>您在 developerWorks 概要信息中选择公开的信息将公开显示给其他人，但您可以随时修改这些信息的显示状态。</strong>您的姓名（除非选择隐藏）和昵称将和您在 developerWorks 发布的内容一同显示。</p>
            <div class="dw-overlay-legal"><p>所有提交的信息确保安全。</p></div>
          </div>
        </div>
      </div>
    </div>
    <div class="ibm-footer"></div>
  </div>
  <!-- Sign in OVERLAY ENDS HERE --> 
  
  
  <!-- Display name OVERLAY STARTS HERE --> 
  <div class="ibm-common-overlay" id="displayname_overlay">
    <div class="ibm-head">
      <p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#" onclick="clearForm();">关闭 [x]</a></p>
    </div>
    <div class="ibm-body">
      <div class="ibm-main">
        <div class="ibm-title ibm-subtitle">
          <h1>请选择您的昵称：</h1>
          <div id="ibm-overlay-error-dname" class="no-display"></div>
        </div>
        <div class="ibm-container ibm-alternate ibm-buttons-last">
          <div class="ibm-container-body">
            <p class="ibm-overlay-intro">当您初次登录到 developerWorks 时，将会为您创建一份概要信息，您需要指定一个昵称。您的昵称将和您在 developerWorks 发布的内容显示在一起。</p><p><strong>昵称长度在 3 至 31 个字符之间</strong>。 您的昵称在 developerWorks 社区中必须是唯一的，并且出于隐私保护的原因，不能是您的电子邮件地址。</p>
            <form id="dFormId" method="post" action="" name="dForm" onsubmit="return false;" class="ibm-column-form">
              <p><label for="displayname">昵称：</label><span><input name="displayname" id="displayname" size="25" value="" type="text" onkeypress="handleEP(event,this.form);" /></span><span class="ibm-form-note">（长度在 3 至 31 个字符之间）</span>
              </p>
              
              <div class="ibm-overlay-rule"><hr />
              </div>
              <p>单击<strong>提交</strong>则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/mydeveloperworks/terms?lang=zh">使用条款</a>.</p>
              <div class="ibm-buttons-row">
                <p><input class="ibm-btn-arrow-pri" name="ibm-submit" value="提交" onclick="signin();return false;" type="submit" /><span class="ibm-sep">&nbsp;</span>
                  <input value="取消" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="clearForm();ibmCommon.Overlays.hide('displayname_overlay');return false;" /></p>
              </div>
            </form>
            <div class="ibm-overlay-rule"><hr /></div>
            <div class="dw-overlay-legal"><p>所有提交的信息确保安全。</p></div>
          </div>
        </div>
      </div>
    </div>
    <div class="ibm-footer"></div>
  </div>
  <!-- Display name OVERLAY ENDS HERE -->
  <!-- OVERLAYS_END -->
  <!-- RATINGS START -->
  <p class="ibm-no-print"><span class="atitle"><a name="iratings">为本文评分</a></span></p>
  <input id="art-rating" name="ratinga" type="hidden" value="0"/><div id="art-rating-module"></div>
  <script language="JavaScript" type="text/javascript">
    // <![CDATA[
   // widget div id and article id as args
   window.artRating.init('art-rating-module','art-rating-summary');
// ]]>
  </script>
  <!-- RATINGS END --> 
  
  <!-- INLINE_COMMENTS_START -->
  <p class="ibm-no-print"><span class="atitle"><a name="icomments">评论</a></span></p>
    <script language="JavaScript" type="text/javascript">
      // <![CDATA[
dwc = {};
dwc.cmts = '条评论';
dwc.signInPreText = '请';
dwc.signIn = '登录';
dwc.or = '或';
dwc.register = '注册';
dwc.signInPostText = '';
dwc.leaveCmt = '后发表评论。';
dwc.view = '查看';
dwc.totalCmts = '共有评论';
dwc.postYourCmt = '添加您的评论';
dwc.show = '显示：';
dwc.recentCmts = '最新评论';
dwc.allCmts = '所有评论';
dwc.tooLongCmt = '您的评论超过了 1000 字符限制';
dwc.numCharsLeft = '剩余 <span id="charCount">{1}</span> 字符';
dwc.reportAbuse = '报告滥用';
dwc.notifyMsg = '有新评论时提醒我';
dwc.htmlWarning = '注意：评论中不支持 HTML 语法'; 
dwc.cmt = '评论：';
dwc.addCmts = '添加评论';
dwc.addCmt = '添加评论';
dwc.doNotErase = '--在下方添加评论--'; 
dwc.viewOrAddCmts = '查看或添加评论';
dwc.reportInapprCont = '举报不良信息';
dwc.reportInapprContLink = 'http://www.ibm.com/developerworks/forums/forum.jspa?forumID=1834';
dwc.postingCmt = '正在发布评论……';
dwc.noCmt = '快来添加第一条评论';
dwc.netwkErr = '在检索评论时出错，请稍后刷新。';
dwc.addACmt = '添加评论';
dwc.instructCmt = '标有星号（<span class="ibm-required">*</span>）的是必填项目。';
dwc.btnPost = '发布';
dwc.btnPostAnon = '匿名发布';
dwc.btnClrCmt = '清除评论';
dwc.btnCancel = '取消';
dwc.showRecent = '显示最新的 {1} 条评论'; // {1} is the count to be substituted
dwc.showNext = '显示后 {1} 条评论'; // {1} is the count to be substituted
dwc.showAllCmts = '显示所有评论';
dwc.enterCmt = '请输入评论内容。';
dwc.loginErr = '暂时无法验证您的登录状态，请稍后再试。';
dwc.postErr = '暂时无法发布您的评论，请稍后再试。';
dwc.postBy = '由 <strong>{1}</strong>  于 {2} '; // {1} is the author to be substituted; {2} is the date
dwc.siteId = 10;
dwc.lang = 'zh_CN';
dwc.viperLang = 'zh';
// ]]>
    </script>
    <div id="threadShow"></div>
  <!-- INLINE_COMMENTS_END -->
  

  <p class="ibm-ind-link ibm-back-to-top"><a class="ibm-anchor-up-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#ibm-pcon">回页首</a></p>

<!-- Overlays -->
<!-- lk - pull in overlays from ww when required on cn -->
  </div>
<!-- MAIN_COLUMN_CONTAINER_END -->

<!-- Rating_Meta_BEGIN -->
<!--Rating_Meta_BEGIN--><div class="metavalue">static.content.url=http://www.ibm.com/developerworks/js/artrating/</div><div class="metavalue">SITE_ID=10</div><div class="metavalue">Zone=Open source</div><div class="metavalue">ArticleID=569917</div><div class="metavalue">ArticleTitle=为 RCP 提供捷径的实用 Eclipse 系统类</div><div class="metavalue">publish-date=11042010</div><div class="metavalue">author1-email=neuswc20063500@gmail.com</div><div class="metavalue">author1-email-cc=</div><script language="javascript" type="text/javascript">document.write('<div class="metavalue">url='+location.href.replace(/</g, '%3C')+'</div>');</script><!--Rating_Meta_END-->
<!-- Rating_Meta_END -->

</div>
<!-- MAIN_COLUMN_END-->

<!-- RIGHT_COLUMN_BEGIN -->
<div id="ibm-content-sidebar">

<!-- RIGHT_COLUMN_CONTENT_BEGIN --> 
<div class="ibm-container"><h2>内容</h2><div class="ibm-container-body"><img alt="" height="1" width="1" src="index_files/c-2.gif"/><ul class="ibm-bullet-list"><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major1">引言</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major2">实用类简介</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major3">SafeRunner 的用法</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major4">BusyIndicator 的用法</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major5">PreferencesUtil 的用法</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major6">IDialogSettings 的用法</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major7">FileLocator 的用法</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major8">WorkbenchHelp 的用法</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major9">MessageDialogWithToggle 的用法</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major10">视图 ViewPart 中的 IMemento</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major11">重新认识 Display 类</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#major12">小结</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#download">下载</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#resources">参考资料 </a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#author">关于作者</a></li><li><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#icomments">建议</a></li></ul></div></div>

 


<!-- Dig_Deeper -->

<!-- High_Visibility_Offer -->

<!-- Special_Offers -->

<!-- RIGHT_COLUMN_CONTENT_END -->

</div>
<!-- RIGHT_COLUMN_END -->

<!-- CONTENT_BODY_END -->
</div>

</div>
<!-- CONTENT_END -->

 <!-- END_IBM-PCON -->
</div>

<!-- FOOTER_BEGIN -->
<div id="ibm-footer">
<!-- IBM footer container; disabled -->
</div>

<div id="ibm-page-tools-dw">
	<div id="dw-footer-top-row">
		<ul id="dw-foot-options">
			<li id="dw-print"><a class="ibm-print-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">打印此页面</a></li>
		</ul>
		<ul id="ibm-foot-options-dw">
			<li id="dw-foot-0" class="dw-foot-0-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">分享此页面</a></li>
			<li id="dw-foot-1" class="dw-foot-1-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">关注 developerWorks</a></li>
		</ul>
	</div>       
	
	
	<!-- TOP ROW SLIDER -->
    <div id="dw-page-tools-menu">    
        <div class="ibm-ribbon-pane-dw">
            <div class="ibm-ribbon-section-dw">
				<!-- Share this page -->			
                <div class="dw-footer-columns">
                    <div class="dw-footer-col-4-1">
                    	<h2>分享此页面：</h2>                            
						<ul class="ibm-link-list">
						  <!--<li><a id="dw-foot-0-0" class="dwcn-sina-link"
						        href="#"
						        onClick="javascript:location.href='http://hits.sinajs.cn/A1/weiboshare.html?&amp;appkey=&amp;title='+escape(document.title)+'&amp;url='+escape(location.href)'+'&amp;pic=&ralateUid&amp;language=zh_cn;
						        ">新浪微博</a></li> -->
						   <li><a id="dw-foot-0-0" class="dwcn-sina-link"
						        href="#"
						        onClick="javascript:location.href='http://service.weibo.com/share/share.php?title='+encodeURIComponent(document.title)+'&amp;url='+escape(location.href)+'&amp;language=zh_cn'
						        ; ">新浪微博</a></li> 
						   <li><a class="dwcn-renren-link"
						        href="#" onClick="javascript:location.href='http://share.renren.com/share/buttonshare?title='+encodeURIComponent(document.title)+'&amp;link='+escape(location.href);
						        ">人人网</a></li> 
						    <li><a class="dwcn-tencent-link"
						        href="#" onClick="javascript:location.href='http://v.t.qq.com/share/share.php?title='+encodeURIComponent(document.title)+'&amp;url='+escape(location.href);
						        ">腾讯微博</a></li> 
						   				
						</ul>
                    </div>
                    <div class="dw-footer-col-4-2">
						<ul class="ibm-link-list">
						    <li><a class="dwcn-sohu-link"
						        href="#"
						        onClick="javascript:location.href='http://t.sohu.com/third/post.jsp?title='+encodeURIComponent(document.title)+'&amp;link='+escape(location.href);
						        ">搜狐微博</a></li>
						    
						    <li><a class="dwcn-netease-link"
						        href="#"
						        onClick="javascript:location.href='http://t.163.com/article/user/checkLogin.do?info='+encodeURIComponent(document.title)+ '' +escape(location.href);
						        ">网易微博</a></li>
						    <li><a class="ibm-facebook-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">Facebook</a></li>
						</ul>
                </div>
                    <div class="dw-footer-col-4-3">
						<ul class="ibm-link-list">
						 <li><a class="ibm-linkedin-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">LinkedIn</a></li>   
						 <li><a class="ibm-twitter-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">Twitter</a></li>   
						 <li><a class="ibm-delicious-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">Delicious</a></li>
						
						</ul>
                    </div>
                   <div class="dw-footer-col-4-4">
						<ul class="ibm-link-list">
						 <li><a class="ibm-digg-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">Digg</a></li>   
						 <li><a class="ibm-email-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#">发送此页面</a></li>
						</ul>
                    </div>
                    <div class="dw-footer-close">
						<ul>
							<li><div class="dw-footer-close-share"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10"/></a></div></li>
						</ul>
                    </div>
                </div>
                  <!-- Follow developerWorks -->
                <div class="dw-footer-columns">
                    <div class="dw-footer-col-1-1 dw-footer-col-1-1-cn">
                    	<h2>关注 developerWorks 中国网站：</h2>
						<ul class="ibm-link-list">
							<!--<li><a id="dw-foot-1-0" class="ibm-twitter-link" href="http://www.twitter.com/dwchina">Twitter</a></li>-->
						    <li><a id="dw-foot-1-0" class="dwcn-sina-link"
						        href="http://weibo.com/ibmdw/">新浪微博</a></li>
						</ul>
                    </div>
                    <div class="dw-footer-close">
						<ul>
							<li><div class="dw-footer-close-follow-cn"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-rcpclass/#"><img src="index_files/c-1.gif" alt="关闭 [x]" width="20" height="10"/></a></div></li>
						</ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="ibm-footer-module-dw">
	<div class="dw-footer-columns">
		<div class="dw-footer-col-6-1">
			<ul>
				<!--<li><a href="http://www.ibm.com/developerworks/aboutdw/">About</a></li>-->
				<li><a href="https://www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina">帮助</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/author/">联系编辑</a></li>
				<li><a href="https://www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina&start=true">提交内容</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/sitemap/">网站导航</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-2">
			<ul>
				<li><a href="http://www.ibm.com/developerworks/cn/rss/">订阅源</a></li>
				<li><a href="http://www.ibm.com/vrm/newsletter/10104?S_TACT=105AGX52&S_CMP=dwcntop">在线浏览每周时事通讯</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-3">
			<ul>
				<li><a href="https://www.ibm.com/developerworks/community/report?lang=zh">报告滥用</a></li>
				<li><a href="https://www.ibm.com/developerworks/community/terms?lang=zh">使用条款</a></li>
				<li><a href="http://www.ibm.com/privacy/cn/zh/">隐私条约</a></li>
				<li><a href="http://www.ibm.com/ibm/accessibility/cn/">浏览辅助</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-4-cn">
			<ul>
				<li><a href="http://www-900.ibm.com/cn/ai/">IBM 教育学院教育培养计划</a></li>
				<li><a href="http://www.ibm.com/partnerworld/isv/">ISV 资源 (英语)</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-5">
		</div>
		<div class="dw-footer-col-6-6">
		</div>
	</div>
	<!-- Language selector no-script -->
	<noscript>
	<div id="dw-footer-selectlang">
		<h2><a name="SELECTLANG">选择语言：</a></h2>
		<ul>
			<li><a href="http://www.ibm.com/developerworks/">English</a></li>
			<li><a href="http://www.ibm.com/developerworks/cn/">中文</a></li>
			<li><a href="http://www.ibm.com/developerworks/jp/">日本語</a></li>
			<li><a href="http://www.ibm.com/developerworks/ru/">Русский</a></li>
			<li><a href="http://www.ibm.com/developerworks/br/">Português (Brasil)</a></li>
			<li><a href="http://www.ibm.com/developerworks/ssa/">Español</a></li>
			<li><a href="http://www.ibm.com/developerworks/vn/">Việt</a></li>
		</ul>
	</div>
	</noscript>
</div><!-- FOOTER_END -->

 <!-- END_IBM-TOP -->
</div>
 
 <!-- SCRIPTS_INCLUDE_BEGIN -->
<!-- JQuery start -->
<script type="text/javascript" language="JavaScript" src="index_files/jquery.hoverIntent.minified.js"></script>
<script type="text/javascript" language="JavaScript" src="index_files/jquery.cluetip.js"></script>
<!-- xM Masthead/Footer -->
<script src="index_files/jquery.tools.min.js" type="text/javascript">//</script>
<script src="index_files/jquery.jscroll.js" type="text/javascript">//</script>
<script src="index_files/dw_v16.js" type="text/javascript">//</script>
<script src="index_files/flash-detect.js" type="text/javascript">//</script>
<script src="index_files/dwsi.js" type="text/javascript">//</script>
<script type="text/javascript" language="JavaScript" src="index_files/showcomments.js">//</script>
<script language="JavaScript" type="text/javascript">
	// <![CDATA[
 jQuery('threadShow').showComments('95%',5,'nCmts','icomments');
// ]]>
</script>
<script type="text/javascript" language="JavaScript">
	jQuery.noConflict();     
	// Put all your code in your document ready area
	jQuery(document).ready(function(jQuery) {
	// Do jQuery stuff using jQuery 
	jQuery('a.dwauthor').cluetip({
	local: true,
	showTitle: false,
	positionBy: 'bottomTop',
	sticky: true,	
	mouseOutClose: true,
	closeText: '<img src="//dw1.s81c.com/developerworks/js/jquery/cluetip98/i/x.gif" alt="Close" />',
	arrows: false,
	dropShadow: true,
	cluetipClass: 'dwbasic'
	});

	rBHash = {};
	rBHash['viperLang'] = 'zh';
	rBHash['urlLang'] = 'cn';

	// si
	initSI();
	});
</script>
<!-- JQuery end -->
<!-- Overlay js -->
<script language="JavaScript" src="index_files/overlay.js" type="text/javascript"></script><!-- BEGIN: Use this section to set page specific variables for the Unica Page Tag -->
<script language="JavaScript">var NTPT_PGEXTRA="ibmSkillLevel=1&ibmAdoptPhase=651&ibmRole=36&ibmCmaId=569917";</script>
<!--END --><!-- SCRIPTS_INCLUDE_END -->

<div id="ibm-metrics">
<script src="index_files/stats.js" type="text/javascript">//</script>
</div>

</body>
</html>
