<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>CSDN_BouncyCastle JCE实践(五)</title>
  <link href="csdn.css" rel="stylesheet">
  <style>.title0 {
	FONT-WEIGHT: bold; FONT-SIZE: 17px; COLOR: #ffffff; FONT-FAMILY: arial; TEXT-DECORATION: none
}
A.title2:link {
	COLOR: #000000; TEXT-DECORATION: none
}
A.title2:visited {
	COLOR: #000000; TEXT-DECORATION: none
}
A.title2:active {
	COLOR: #ff0000; TEXT-DECORATION: none
}
A.title2:hover {
	COLOR: #ff0000; TEXT-DECORATION: none
}
  </style>
</head>
<body bottommargin="0" leftmargin="0" topmargin="0" rightmargin="0"
 alink="#990000" bgcolor="#ffffff" marginheight="0" marginwidth="0">
<!--StartFragment-->
<div align="center">
<table border="0" cellpadding="0" cellspacing="0" width="770">
  <tbody>
    <tr>
      <td colspan="2" align="center" bgcolor="#000000" height="1"
 width="770"></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#004d99" height="28" width="150"></td>
      <td align="center" width="620">
      <table border="0" cellpadding="0" cellspacing="0" height="40"
 width="100%">
        <tbody>
          <tr align="center">
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
          </tr>
          <tr align="center">
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td></td>
            <td width="10"></td>
            <td><a class="title2" href="http://www.csdn.net/member.shtm"
 target="_blank">&nbsp;员</a></td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
    <tr>
      <td colspan="2" align="center" bgcolor="#000000" height="1"
 width="770"></td>
    </tr>
  </tbody>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="770">
  <tbody>
    <tr>
      <td bgcolor="#f3f9fc" height="23" width="10"></td>
      <td bgcolor="#f3f9fc">
      <marquee onmouseover="this.stop()" onmouseout="this.start()"
 scrollamount="5" scrolldelay="80">&middot;[<a
 href="http://www.csdn.net/news/newstopic/14/14846.shtml"
 target="_blank"><b>eWeek:Borland连丢大将</b></a>] [<a
 href="http://www.csdn.net/news/newstopic/14/14845.shtml"
 target="_blank">CTO Blake Stone辞职</a>] [<a
 href="http://expert.csdn.net/Expert/TopicView.asp?id=2712081"
 target="_blank"><font color="blue">讨论</font></a>] &middot;<a
 href="http://www.dearbook.com.cn/Guide/ViewGuide.aspx?GuideID=94"
 target="_blank"><font color="red">关注2004年度计算机专业考试</font></a> &middot;<a
 href="http://www.csdn.net/news/newstopic/14/14821.shtml"
 target="_blank">Oracle欲以94亿美元收购仁科</a> &middot;<a
 href="http://www.csdn.net/Develop/article/24/24061.shtm"
 target="_blank">测试驱动的开发系列(1)</a> &middot;<a
 href="http://www.csdn.net/Develop/article/24/24018.shtm"
 target="_blank">Jakarta Common Digester 应用</a> &middot;<a
 href="http://www.csdn.net/Develop/article/24/24035.shtm"
 target="_blank">PHP4之真OO</a> &middot;<a
 href="http://www.csdn.net/Develop/article/23/23992.shtm"
 target="_blank">一次编写，随处运行</a> &middot;<a
 href="http://www.csdn.net/Develop/article/23/23763.shtm"
 target="_blank">超越模板引擎</a> &middot;<b>ERP实践：</b><a
 href="http://www.csdn.net/Develop/article/24/24036.shtm"
 target="_blank">多级分类档案级联删除技术</a> <a
 href="http://www.csdn.net/Develop/article/23/23546.shtm"
 target="_blank">ID号自动编码技术</a> &middot;<a
 href="http://www.csdn.net/news/newstopic/14/14796.shtml"
 target="_blank">金山《剑网》官方网站2度被黑</a> &middot;<a
 href="http://www.csdn.net/develop/article/23/23979.shtm"
 target="_blank"> <font color="blue">读者盛赞Inside VCL，李维一一作答</font></a>
&middot;<a
 href="http://www.dearbook.com.cn/Guide/ViewGuide.aspx?GuideID=89"
 target="_blank"> <font color="red">2004 Jolt大奖入围图书</font></a> &middot;<a
 href="http://www.csdn.net/develop/article/23/23977.shtm"
 target="_blank"> gzip-1.2.4程序分析</a> &middot;<a
 href="http://www.microsoft.com/china/community/content/news/mvp20040128.aspx"
 target="_blank"> 微软MVP新一届(2004.1)名单揭晓</a> &middot;<a
 href="http://www.dearbook.com.cn/market/microsoft/" target="_blank">
社区之星联动读书计划</a> &middot;<b>关注Ruby语言</b>：<a
 href="http://www.csdn.net/Develop/article/23/23820.shtm"
 target="_blank">Matz关于技术的对话</a> <a
 href="http://www.csdn.net/Develop/article/23/23834.shtm"
 target="_blank">blocks和Closure结构</a> &middot;<a
 href="http://www.csdn.net/subject/327/" target="_blank"> <font
 color="blue">CSDN专题:网格计算</font></a> &middot;<a
 href="http://www.csdn.net/develop/article/23/23461.shtm"
 target="_blank"> CSDN最新推出RSS客户端订阅</a> &middot;<a
 href="http://www.dearbook.com.cn/" target="_blank"> <font color="red">Dearbook
新春货到付款免配送费</font></a></marquee>
      </td>
      <td align="right" bgcolor="#f3f9fc" width="101">
      <img src="pageview1.asp_columnid=4&amp;itemid=11" border="0"
 height="0" width="0"> <b>2007.3.27 </b>&nbsp;&nbsp;</td>
    </tr>
    <tr bgcolor="#999999">
      <td colspan="3" height="1"></td>
    </tr>
  </tbody>
</table>
<table border="0" width="770">
  <tbody>
    <tr>
      <td class="td1" align="center" bgcolor="#fafafa" valign="top"
 width="150"><br>
<!--广告条开始//-->
      <table border="0" cellpadding="0" cellspacing="1" width="120">
        <tbody>
          <tr>
            <td><img src="jspd_wdzx_flgg.gif"></td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellpadding="0" cellspacing="1" width="120">
        <tbody>
          <tr>
            <td align="center" bgcolor="#588fc7" height="20"><font
 color="#ffffff">&mdash; 人才招聘 &mdash;</font></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
          <tr>
            <td><a title="Samsung OpenTide China(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2543"
 target="_blank">Samsung OpenTide...</a></td>
          </tr>
          <tr>
            <td><a title="北京北阳电子技术有限公司(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2455"
 target="_blank">北京北阳电子技术...</a></td>
          </tr>
          <tr>
            <td><a title="北京线线通科技开发有限公司(可乐吧)(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=1761"
 target="_blank">北京线线通科技开...</a></td>
          </tr>
          <tr>
            <td><a title="明日工作室（上海）电子技术有限公司(上海)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2453"
 target="_blank">明日工作室（上海...</a></td>
          </tr>
          <tr>
            <td><a title="北京飞天诚信科技有限公司(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=1407"
 target="_blank">北京飞天诚信科技...</a></td>
          </tr>
          <tr>
            <td><a title="重庆海特科技发展有限公司(重庆)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=989"
 target="_blank">重庆海特科技发展...</a></td>
          </tr>
          <tr>
            <td><a title="北京色诺芬信息服务公司(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2149"
 target="_blank">北京色诺芬信息服...</a></td>
          </tr>
          <tr>
            <td><a title="武汉紫龙科技有限公司(武汉)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2366"
 target="_blank">武汉紫龙科技有限...</a></td>
          </tr>
          <tr>
            <td><a title="北京奥维在线软件技术发展有限公司(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2092"
 target="_blank">北京奥维在线软件...</a></td>
          </tr>
          <tr>
            <td><a title="广西怡海信息产业发展有限公司(南宁)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2444"
 target="_blank">广西怡海信息产业...</a></td>
          </tr>
          <tr>
            <td><a title="飞迈影视制作公司(上海)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2425"
 target="_blank">飞迈影视制作公司...</a></td>
          </tr>
          <tr>
            <td><a title="人民网(香港)有限公司(深圳)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2422"
 target="_blank">人民网(香港)有限...</a></td>
          </tr>
          <tr>
            <td><a title="北京世纪百合科技有限公司(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2402"
 target="_blank">北京世纪百合科技...</a></td>
          </tr>
          <tr>
            <td><a title="北京蓝天中交科技发展有限公司(www.ifidic.com)(广州)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2405"
 target="_blank">北京蓝天中交科技...</a></td>
          </tr>
          <tr>
            <td><a title="TOM互联网事业集团(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2359"
 target="_blank">TOM互联网事业集团...</a></td>
          </tr>
          <tr>
            <td><a title="北京连邦软件学校(北京)"
 href="http://www.csdn.net/job/person/corp_jobs.asp?corp_id=2386"
 target="_blank">北京连邦软件学校...</a></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellpadding="0" cellspacing="1" width="120">
        <tbody>
          <tr>
            <td align="center" bgcolor="#588fc7" height="20"><font
 color="#ffffff">&mdash; 热销商品 &mdash;</font></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
          <tr>
            <td><a title="《Oracle9i实务管理讲座--系统核心篇》"
 href="http://www.csdn.net/buy/product/product.asp?id=1456"
 target="_blank">《Oracle9i实务管...</a></td>
          </tr>
          <tr>
            <td><a title="《过河卒》"
 href="http://www.csdn.net/buy/product/product.asp?id=1453"
 target="_blank">《过河卒》</a></td>
          </tr>
          <tr>
            <td><a title="《.NET系统架构与开发》"
 href="http://www.csdn.net/buy/product/product.asp?id=1454"
 target="_blank">《.NET系统架构与...</a></td>
          </tr>
          <tr>
            <td><a title="《JBuilder实用技术手册》"
 href="http://www.csdn.net/buy/product/product.asp?id=1455"
 target="_blank">《JBuilder实用技...</a></td>
          </tr>
          <tr>
            <td><a title="《Java夜未眠》"
 href="http://www.csdn.net/buy/product/product.asp?id=1452"
 target="_blank">《Java夜未眠》</a></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellpadding="0" cellspacing="1" width="120">
        <tbody>
          <tr>
            <td align="center" bgcolor="#588fc7" height="20"><font
 color="#ffffff">&mdash; 培训信息 &mdash;</font></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
          <tr>
            <td><a title="中国思科培训网(Cisco认证)"
 href="http://www.csdn.net/educate/organ/0/125.shtm" target="_blank">中国思
科培训网(C...</a></td>
          </tr>
          <tr>
            <td><a title="UML软件工程组织(软件工程)"
 href="http://www.csdn.net/educate/organ/0/124.shtm" target="_blank">UML
软件工程组织(...</a></td>
          </tr>
          <tr>
            <td><a title="天盈隆网络技术培训中心(Cisco认证)"
 href="http://www.csdn.net/educate/organ/0/69.shtm" target="_blank">天盈隆网
络技术培...</a></td>
          </tr>
          <tr>
            <td><a title="美国Softtech公司北京分公司(软件工程)"
 href="http://www.csdn.net/educate/organ/0/73.shtm" target="_blank">美国
Softtech公司...</a></td>
          </tr>
          <tr>
            <td><a title="北大青鸟APTECH深圳大区域培训中心(程序设计; 软件工程)"
 href="http://www.csdn.net/educate/organ/0/97.shtm" target="_blank">北大青鸟
APTECH深...</a></td>
          </tr>
          <tr>
            <td><a title="北京中软总公司计算培训中心(SUN认证)"
 href="http://www.csdn.net/educate/organ/0/47.shtm" target="_blank">北京中软
总公司计...</a></td>
          </tr>
          <tr>
            <td><a title="维新计算机培训中心(程序设计; 软件工程)"
 href="http://www.csdn.net/educate/organ/0/56.shtm" target="_blank">维新计算
机培训中...</a></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellpadding="0" cellspacing="1" width="120">
        <tbody>
          <tr>
            <td align="center" bgcolor="#588fc7" height="20"><font
 color="#ffffff">&mdash; 图书信息 &mdash;</font></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
          <tr>
            <td><a title="软件创富"
 href="http://www.csdn.net/book/books/0/2.shtm" target="_blank">软件创富</a></td>
          </tr>
          <tr>
            <td><a title="Delphi 深度探索"
 href="http://www.csdn.net/book/books/0/4.shtm" target="_blank">Delphi
深度探索</a></td>
          </tr>
          <tr>
            <td><a title="C#精髓"
 href="http://www.csdn.net/book/books/0/1.shtm" target="_blank">C#精髓</a></td>
          </tr>
          <tr>
            <td><a title="Refactoring"
 href="http://www.csdn.net/book/books/0/12.shtm" target="_blank">Refactoring</a></td>
          </tr>
          <tr>
            <td><a title="The Java Programming Language (3rd Edition)"
 href="http://www.csdn.net/book/books/0/13.shtm" target="_blank">The
Java Program...</a></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellpadding="0" cellspacing="1" width="120">
        <tbody>
          <tr>
            <td height="10"></td>
          </tr>
          <tr>
            <td><a href="mailto:zdg@csdn.net"><img
 src="jspd_wdzx_sqgg_ad.gif" border="0"></a></td>
          </tr>
          <tr>
            <td height="10"></td>
          </tr>
        </tbody>
      </table>
<!--广告条结束//--></td>
      <td align="center" valign="top" width="620"><!--文章说明信息开始//-->
      <table bgcolor="#eeeeee" border="0" cellpadding="0"
 cellspacing="0" width="600">
        <tbody>
          <tr bgcolor="#ffffff">
            <td align="center" height="10" width="50"></td>
            <td align="right"><a href="http://www.csdn.net/">CSDN</a> -
            <a href="http://www.csdn.net/develop/">文档中心</a> - <font
 color="#003399">Java</font>&nbsp;&nbsp;&nbsp;&nbsp;</td>
          </tr>
          <tr>
            <td height="5"></td>
            <td td="" align="center" width="500">&lt;&gt;</td>
          </tr>
          <tr>
            <td align="center" bgcolor="#003399" height="10"><font
 color="#ffffff">标题</font></td>
            <td><b>&nbsp;&nbsp;&nbsp;&nbsp;BouncyCastle JCE实践(五)</b>&nbsp;
&nbsp;&nbsp;&nbsp;hongbo781202（原作）</td>
          </tr>
          <tr>
            <td align="center" height="5"></td>
            <td align="center" width="500"></td>
          </tr>
          <tr>
            <td align="center" bgcolor="#003399"><font color="#ffffff">关
键字</font></td>
            <td width="500">&nbsp;&nbsp;&nbsp;&nbsp;JCE</td>
          </tr>
          <tr>
            <td align="center" height="5"></td>
            <td align="center" width="500"></td>
          </tr>
        </tbody>
      </table>
<!--文章说明信息结束//-->
      <table border="0" width="600">
        <tbody>
          <tr>
            <td align="left"><!--内容开始//--><br>
&nbsp;
            <h1 style="text-align: center; line-height: 240%;"
 align="center"><span style="font-family: 宋体;">对称解密的实现</span></h1>
            <p class="MsoNormal"><span style="font-family: 宋体;">对称加密</span><span
 lang="EN-US">/</span><span style="font-family: 宋体;">解密算法在电子商务交易过程中存在几个问
题：</span></p>
            <p class="MsoNormal"
 style="margin-left: 57pt; text-indent: -36pt;"><span
 style="font-family: 宋体;" lang="EN-US">（1）<span
 style="font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span></span><span style="font-family: 宋体;">要求提供一条安全的渠道使通讯双
方在首次通讯时协商一个共同的密钥。直接的面对面协商可能是不现实而且难于实施的，所以双方可能需要借助于邮件和电话等其它相对不够安全的手段来进行协
商；</span></p>
            <p class="MsoNormal"
 style="margin-left: 57pt; text-indent: -36pt;"><span
 style="font-family: 宋体;" lang="EN-US">（2）<span
 style="font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span></span><span style="font-family: 宋体;">密钥的数目难于管理。因为对于每
一个合作者都需要使用不同的密钥，很难适应开放社会中大量的信息交流；</span></p>
            <p class="MsoNormal"
 style="margin-left: 57pt; text-indent: -36pt;"><span
 style="font-family: 宋体;" lang="EN-US">（3）<span
 style="font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span></span><span style="font-family: 宋体;">对称加密算法一般不能提供信息完
整性的鉴别。它无法验证发送者和接受者的身份；</span></p>
            <p class="MsoNormal"><span style="font-family: 宋体;">对称密钥的管理和
分发工作是一件具有潜在危险的和烦琐的过程。对称加密是基于共同保守秘密来实现的，采用对称加密技术的贸易双方必须保证采用的是相同的密钥，保证彼此密钥
的交换是安全可靠的，同时还要设定防止密钥泄密和更改密钥的程序。</span></p>
            <p class="MsoNormal"><span style="font-family: 宋体;">对称解密的代码实
现如下</span><span lang="EN-US">:</span></p>
            <p class="MsoNormal" style="text-indent: 10.5pt;"><span
 lang="EN-US">//</span><span style="font-family: 宋体;">从密钥文件中读密钥</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;
            </span>SecretKey key=null;</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;
            </span>try</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;
            </span>{ObjectInputStream keyFile=new ObjectInputStream(</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>new FileInputStream("c:\\</span><span
 style="font-family: 宋体;">安全文件</span><span lang="EN-US">\\"+misClass.username+"\\</span><span
 style="font-family: 宋体;">对称</span><span lang="EN-US">\\</span><span
 style="font-family: 宋体;">对称密钥</span><span lang="EN-US">\\yhb.des"));</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>key=(SecretKey)keyFile.readObject();</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>keyFile.close();</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>}</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>catch(FileNotFoundException ey1)</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>{</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>System.out.println("Error when read keyFile");</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>System.exit(0);</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>}</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>catch(Exception ey2)</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>{</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>System.out.println("error when read the keyFile");</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>System.exit(0);</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>}</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;
            </span>//</span><span style="font-family: 宋体;">用</span><span
 lang="EN-US">key</span><span style="font-family: 宋体;">产生</span><span
 lang="EN-US">Cipher</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>Cipher cipher=null;</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>try</span></p>
            <p class="MsoNormal" style="text-indent: 21.75pt;"><span
 lang="EN-US">{</span></p>
            <p class="MsoNormal" style="text-indent: 21.75pt;"><span
 lang="EN-US">//</span><span style="font-family: 宋体;">设置算法</span><span
 lang="EN-US">,</span><span style="font-family: 宋体;">应该与加密时的设置一样</span></p>
            <p class="MsoNormal" style="text-indent: 21.75pt;"><span
 lang="EN-US">cipher=Cipher.getInstance("DES");</span></p>
            <p class="MsoNormal" style="text-indent: 21.75pt;"><span
 lang="EN-US">//</span><span style="font-family: 宋体;">设置解密模式</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>cipher.init(Cipher.DECRYPT_MODE,key);</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>}catch(Exception ey3)</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>{</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>System.out.println("Error when create the cipher");</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>System.exit(0);</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>}</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>//</span><span style="font-family: 宋体;">从对话框中取得要解密的文件
并解密</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>File file=new File(dirstring,string1);</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>String filename=file.getName();</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>try</span></p>
            <p class="MsoNormal" style="text-indent: 27pt;"><span
 lang="EN-US">{</span></p>
            <p class="MsoNormal" style="text-indent: 27pt;"><span
 lang="EN-US">//</span><span style="font-family: 宋体;">输出流</span><span
 lang="EN-US">,</span><span style="font-family: 宋体;">请注意文件名称的获取</span></p>
            <p class="MsoNormal" style="text-indent: 27pt;"><span
 lang="EN-US">BufferedOutputStream out=new BufferedOutputStream(new
FileOutputStream(</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>"c:\\</span><span style="font-family: 宋体;">安全文件</span><span
 lang="EN-US"><a
 href="file://%E6%96%87%E4%BB%B6//%22+filename.substring%280,filename.length%28%29-4"
 +filename.substring(0,filename.length()-4="">\\<span
 style="font-family: 宋体;">文件</span>\\"+filename.substring(0,filename.length()-4</a>)));</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;
            </span>//</span><span style="font-family: 宋体;">输入流</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>CipherInputStream in=new CipherInputStream(new
BufferedInputStream(</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>new FileInputStream(file)),cipher);</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>int thebyte=0;</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>while((thebyte=in.read())!=-1)</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>{</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>out.write(thebyte);</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;
            </span>}</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>in.close();</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>out.close();</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>}</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>catch(Exception ey5)</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>{</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>System.out.println("Error when encrypt the file");</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>System.exit(0);</span></p>
            <p class="MsoNormal"><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </span>}</span></p>
            <br>
<!--内容结束//--></td>
          </tr>
        </tbody>
      </table>
      <br>
      <table border="0" width="600">
        <tbody>
          <tr>
            <td>作者相关文章： <li><a
 href="http://www.csdn.net/develop/article/24/24138.shtm"
 target="_blank">BouncyCastle JCE实践(六)<font color="#ff0000">(原作)</font></a>
            </li>
            <li><a
 href="http://www.csdn.net/develop/article/24/24136.shtm"
 target="_blank">BouncyCastle JCE实践(四)<font color="#ff0000">(原作)</font></a>
            </li>
            <li><a
 href="http://www.csdn.net/develop/article/24/24134.shtm"
 target="_blank">BouncyCastle JCE实践(三)<font color="#ff0000">(原作)</font></a>
            </li>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      <table border="0" width="600">
        <tbody>
          <tr>
            <td>其它相关文章： <li><a
 href="http://www.csdn.net/develop/article/11/11898.shtm"
 target="_blank">简单加密/解密方法包装, 含encode(),decode(),md5()<font
 color="#ff0000">(原作)</font></a> </li>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      </td>
    </tr>
    <tr>
    </tr>
  </tbody>
</table>
<br>
<!--文章评论开始//--></div>
</body>
</html>
