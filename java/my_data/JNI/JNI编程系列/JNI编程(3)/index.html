<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script type="text/javascript" src="index_files/logger.js"></script><script async="" src="index_files/getRecommendList.html.js"></script><script src="index_files/hm.js"></script><script src="index_files/hm-1.js"></script>  

    <script src="index_files/hm-2.js"></script><script type="text/javascript" src="index_files/tracking.js" charset="utf-8"></script>  

    <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script><script type="text/javascript" src="index_files/repoAddr2.js"></script>

  
 <meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" media="handheld" href="#">

    <title>JNI编程(3)—字符串、数组</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="在前面HelloWorld篇中，自动生成的头文件对本地方法声明的形参列表中的第一个参数即为JNIEnv *。那么JNIEnv到底能用来做什么？初学JNI的时候并没有太在意，只满足于Java能调用C代码就行，而并没有深究。今天这篇文章将学习JNI本地函数中如何与Java代码中的字符串、数组相互访问（或转换）。通过这篇文章的学习，相信会对JNIEnv有进一步了解。">
    <script src="index_files/jquery.js" type="text/javascript"></script>
      <script type="text/javascript" src="index_files/jquery-version.js"></script>
    <script type="text/javascript" src="index_files/ad.js"></script>
        <!--new top-->
       
        <link rel="stylesheet" href="index_files/index.css">
        <!--new top-->
    
      <!-- ad begin -->
         <script language="javascript" type="text/javascript" src="index_files/tracking-1.js"></script>
    <!-- ad end-->

    <link rel="Stylesheet" type="text/css" href="index_files/style.css">
    <link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://blog.csdn.net/huachao1001/rss/list">
    <link rel="shortcut icon" href="urn:not-loaded:http://c.csdnimg.cn/public/favicon.ico">
    <link type="text/css" rel="stylesheet" href="index_files/default.css">
 


<script><!--
/* Script removed by snapshot save */
--></script>

<script src="index_files/share.js"></script><style type="text/css"><!--
/* Effective stylesheet produced by snapshot save */
--></style><style type="text/css"><!--
/* Effective stylesheet produced by snapshot save */
--></style><style type="text/css"><!--
/* Effective stylesheet produced by snapshot save */
--></style><style type="text/css"><!--
/* Effective stylesheet produced by snapshot save */
#MathJax_Message { position: fixed; left: 1px; bottom: 2px; background-color: rgb(230, 230, 230); border: 1px solid rgb(149, 149, 149); margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap; }
--></style><link rel="stylesheet" type="text/css" href="index_files/job_reco.css"><link href="index_files/bdsstyle.css" rel="stylesheet" type="text/css"><script src="index_files/wxLogin.js"></script><link rel="stylesheet" type="text/css" href="index_files/style-1.css"><script src="index_files/logger-1.js"></script><link type="text/css" rel="stylesheet" href="index_files/style-2.css"></head>
<body><div id="MathJax_Message" style="DISPLAY: none"></div><iframe style="DISPLAY: none" src="index_files/generated-content.html" frameborder="0"></iframe><!-- 广告位开始 -->
        <ins data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57" data-revive-zoneid="149"></INS><!-- 广告位结束 --><!--new top-->
    <script id="toolbar-tpl-scriptId" src="index_files/html.js" type="text/javascript" skin="black" prod="blog" fixed="true"></script><div class="csdn-toolbar csdn-toolbar-skin-black ">        <div class="container row center-block ">          <div class="col-md-3 pull-left logo clearfix"><a href="http://www.csdn.net/?ref=toolbar" title="CSDN首页" target="_blank" class="icon"></a><a title="频道首页" href="http://blog.csdn.net/?ref=toolbar_logo" class="img blog-icon"></a></div>          <div class="pull-right login-wrap unlogin">            <ul class="btns">              <li class="loginlink"><A href="https://passport.csdn.net/account/login?ref=toolbar" target=_top>登录&nbsp;</a>|<a target="_top" href="http://passport.csdn.net/account/mobileregister?ref=toolbar&amp;action=mobileRegister">&nbsp;注册</a></li>              <li class="search">                <div class="icon on-search-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <form action="http://so.csdn.net/search" method="get" target="_blank">                      <input value="toolbar" name="ref" accesskey="2" type="hidden">                      <div class="border">                        <input name="q" accesskey="2" placeholder="搜索" ><span class="icon-enter-sm"></span>                      </div>                    </form>                  </div>                </div>              </li>              <li class="favor">                <div class="icon on-favor-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div style="DISPLAY: none" class="favor-success"><span class="msg">收藏成功</span>                      <div class="btns"><span class="btn btn-primary ok">确定</span></div>                    </div>                    <div style="DISPLAY: none" class="favor-failed"><span class="icon-danger-lg"></span><span class="msg">收藏失败，请重新收藏</span>                      <div class="btns"><span class="btn btn-primary ok">确定</span></div>                    </div>                    <form role=form class="form-horizontal favor-form">                      <div class="form-group">                        <div class="clearfix">                          <label for="input-title" class="col-sm-2 control-label"><span class="red_txt">*</span>标题</label>                          <div class="col-sm-10">                            <input id="inputTitle" class="title form-control" value ="IntelliJ IDEA平台下JNI编程（三）—字符串、数组 - huachao1001的专栏 - 博客频道 - CSDN.NET" placeholder="">                          </div>                        </div>                        <div class="alert alert-danger"><strong></strong>标题不能为空</div>                      </div>                      <div class="form-group" style="DISPLAY: none">                        <label for="input-url" class="col-sm-2 control-label">网址</label>                        <div class="col-sm-10">                          <input id="input-url" class="url form-control" value ="http://blog.csdn.net/huachao1001/article/details/54407327" placeholder="">                        </div>                      </div>                      <div class="form-group">                        <label for="input-tag" class="col-sm-2 tag control-label">标签</label>                        <div class="col-sm-10">                          <input id="input-tag" class="form-control tag" >                        </div>                      </div>                      <div class="form-group">                        <label for="input-description" class="description col-sm-2 control-label">位置</label>                        <div class="col-sm-10">                          <div class="my_lib_box">                            个人主页&nbsp;-&nbsp;<a href="http://my.csdn.net/" target="_blank">我的知识</a>                          </div>                          <div class="checkbox">                            <div class="pull-left">                              <label>                                <input name="share" class="save_lib_map" checked type="checkbox">同时保存至：                              </label>                            </div>                            <div class="pull-left">                              <div class="dropdown">                                <button id="toolbar_sele_map" 
 >                                  选择知识图谱                                  <i class="fa fa-chevron-down"></i>                                </button>                                <div class="top_arr"></div>                                <div class="outside">                                  <ul class="dropdown-menu" id="toolbar_Design_knowledge"><li>选择知识图谱</li></ul>                                </div>                              </div>                            </div>                            <div class="pull-left new_txt">                              <a href="http://lib.csdn.net/my/create/structure" target="_blank">新建？</a>                            </div>                          </div>                        </div>                      </div>                      <div class="form-group">                        <div class="col-sm-offset-2 col-sm-10 ft">                          <div class="col-sm-4 pull-left" style="DISPLAY: none">                            <div class="checkbox">                              <label>                                <input name="share" checked class="share" type="checkbox">公开                              </label>                            </div>                          </div>                          <div class="col-sm-8 pull-right favor-btns">                            <button class="cancel btn btn-default" >取消</button>                            <button type="submit" class="submit btn btn-primary">收藏</button>                          </div>                        </div>                      </div>                    </form>                  </div>                </div>              </li>              <li class="notify">                <div style="DISPLAY: none" class="number"></div>                <div style="DISPLAY: none" class="icon-hasnotes-sm"></div>                <div id="header_notice_num"></div>                <div class="icon on-notify-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div id="note1" class="csdn_note">                      <div class="box"></div>                    <iframe src="index_files/unnamed.html" style="HEIGHT: 100%; WIDTH: 100%; BACKGROUND: none transparent scroll repeat 0% 0%; POSITION: absolute; LEFT: 0px; Z-INDEX: -1; TOP: 0px" 
  frameborder="0" allowTransparency 
 ></iframe></div>                  </div>                </div>              </li>              <li class="ugc">                <div class="icon on-ugc-icon">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <dl>                      <dt><a href="http://geek.csdn.net/news/expert?ref=toolbar" target="_blank" class="p-news clearfix" style="DISPLAY: none" 
   ><em class="icon"></em><span>分享资讯</span></a>                      <dt style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none" 
   ><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-doc clearfix"><em class="icon"></em><span>传PPT/文档</span></a>                      <dt><a href="http://bbs.csdn.net/topics/new?ref=toolbar" target="_blank" class="p-ask clearfix"><em class="icon"></em><span>提问题</span></a>                      <dt><a href="http://write.blog.csdn.net/postedit?ref=toolbar" target="_blank" class="p-blog clearfix"><em class="icon"></em><span>写博客</span></a>                      <dt><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-src clearfix"><em class="icon"></em><span>传资源</span></a>                      <dt><A class="c-obj clearfix" href="https://code.csdn.net/projects/new?ref=toolbar" target=_blank ><em class="icon"></em><span>创建项目</span></a>                      <dt><A class="c-code clearfix" href="https://code.csdn.net/snippets/new?ref=toolbar" target=_blank ><em class="icon"></em><span>创建代码片</span></a></dt>                    </dl>                  </div>                </div>              </li>              <li class="profile">                <div class="icon on-profile-icon"><IMG class=curr-icon-img src="index_files/100x100.jpg">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div class="bd">                      <dl class="clearfix">                        <dt class="pull-left img"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="avatar"><IMG src="index_files/100x100.jpg"></a>                        <dd class="info" style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none" 
   ><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="nickname"></a><A class=set-nick href="https://passport.csdn.net/account/profile">设置昵称<span class="write-icon"></span></a><span class="dec"><a class="fill-dec" href="http://my.csdn.net/" target="_blank">编辑自我介绍，让更多人了解你<span class="write-icon"></span></a></span></dd>                      </dl>                    </div>                    <div class="ft clearfix"><a target="_blank" href="http://my.csdn.net/my/account/changepwd?ref=toolbar" class="pull-left"><span class="icon-cog"></span>帐号设置</a><A class=pull-left style="OVERFLOW: hidden; HEIGHT: 27px; WIDTH: 18px; WHITE-SPACE: nowrap; MARGIN-LEFT: 132px" href="https://passport.csdn.net/account/logout?ref=toolbar" target=_top ><span class="icon-signout"></span><span class="out">退出</span></a></div>                  </div>                </div>              </li>              <li class="apps">                <div id="chasnew123" class="hasnew" style="DISPLAY: none"></div>                <div id="cappsarea123" class="icon on-apps-icon">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                  <div class="detail">                    <dl>                      <dt>                        <h5>社区</h5>                      <dd> <a href="http://blog.csdn.net/?ref=toolbar" target="_blank">博客</a>                      <dd> <a href="http://bbs.csdn.net/?ref=toolbar" target="_blank">论坛</a>                      <dd> <a href="http://download.csdn.net/?ref=toolbar" target="_blank">下载</a>                      <dd> <a href="http://lib.csdn.net/?ref=toolbar" target="_blank">知识库</a>                      <dd><a href="http://ask.csdn.net/?ref=toolbar" target="_blank">技术问答</a>                      <dd><a href="http://geek.csdn.net/?ref=toolbar" target="_blank">极客头条</a>                      <dd style="DISPLAY: none"> <a href="http://hero.csdn.net/?ref=toolbar" target="_blank">英雄会</a></dd>                    </dl>                  </div>                  <div class="detail">                    <dl>                      <dt>                        <h5>服务</h5>                      <dd style="DISPLAY: none"> <a href="http://job.csdn.net/?ref=toolbar" target="_blank">JOB<IMG style="WIDTH: 23px; MARGIN-TOP: -26px; DISPLAY: none" src="index_files/new.gif" ></a>                      <dd> <a href="http://edu.csdn.net/?ref=toolbar" target="_blank">学院<IMG style="WIDTH: 23px; MARGIN-TOP: -26px; DISPLAY: none" src="index_files/new.gif" ></a>                      <dd> <A href="https://code.csdn.net/?ref=toolbar" target=_blank>CODE</a>                      <dd> <a href="http://huiyi.csdn.net/?ref=toolbar" target="_blank">活动</a>                      <dd> <a href="http://www.csto.com/?ref=toolbar" target="_blank">CSTO</a>                      <dd> <a href="http://mall.csdn.net/?ref=toolbar" target="_blank">C币兑换<IMG style="WIDTH: 23px; MARGIN-TOP: -26px; DISPLAY: none" src="index_files/new.gif" ></a></dd>                    </dl>                  </div>                  <div class="detail last">                    <dl>                      <dt>                        <h5>俱乐部</h5>                      <dd> <a href="http://cto.csdn.net/?ref=toolbar" target="_blank">CTO俱乐部</a>                      <dd> <a href="http://student.csdn.net/?ref=toolbar" target="_blank">高校俱乐部</a></dd>                    </dl>                  </div>                </div>              </div>            </li>            </ul>          </div>        </div>    </div><!--new top-->
    <div id="container">
        <div id="header">
    <div class="header">
        <div id="blog_title">
            <h2>
                <a href="http://blog.csdn.net/huachao1001">huachao1001的专栏</a></h2>
            <h3>每天学习一点点，每天进步一点点...</h3>
            <div class="clear">
            </div>
        </div>
        <div class="clear">
        </div>
        
     
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg">
    </div>
    <div class="navigator">
        <ul>           
                <li id="btnContents"><a href="http://blog.csdn.net/huachao1001?viewmode=contents"><span onclick="">
                    <IMG src="index_files/ico_list.gif">目录视图</span></a></li>
                <li id="btnView"><a href="http://blog.csdn.net/huachao1001?viewmode=list"><span onclick="">
                    <IMG src="index_files/ico_summary.gif">摘要视图</span></a></li>
                <li id="btnRss"><a href="http://blog.csdn.net/huachao1001/rss/list"><span onclick="">
                    <IMG src="index_files/ico_rss.gif">订阅</span></a></li>                
            

            </ul>
    </div>
</div>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>

        <div id="body">
            <div id="main">
                <div class="main">
                        <div class="ad_class">
<div class="notice tracking-ad" data-mod="popu_3"> 


<a href="http://blog.csdn.net/blogdevteam/article/details/64923779">
<font color="blue">CSDN日报20170322——《关于软件研发的一些体会总结》</font></a> 
&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/60961185">
<font color="red">同步博客至 CSDN ，让更多开发者看到你的文章
</font></a>&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://edu.csdn.net/huiyiCourse/series_detail/29?ref=blog&amp;loc=r0">
<font color="blue">看微博技术大咖解析互联网应用架构实战
</font></a>
</div>                        </div>
                        



  
<LINK rel=stylesheet type=text/css href="index_files/comment1.css">
<LINK rel=stylesheet type=text/css href="index_files/style1.css">
<script language="JavaScript" type="text/javascript" src="index_files/jquery.cookie.js"></script>
<script type="text/javascript" src="index_files/main.js"></script>
<LINK rel=stylesheet href="index_files/markdown_views.css">
<LINK rel=stylesheet href="index_files/category.css">
<script type="text/javascript" src="index_files/MathJax.js"></script>
<script type="text/javascript" src="index_files/web-storage-cache.min.js"></script>
<script type="text/javascript" src="index_files/replace.min.js"></script>




  <script type="text/ecmascript"><!--
/* Script removed by snapshot save */
--></script>
<div id="article_details" class="details">
    <div class="article_title">   
         <span class="ico ico_type_Original"></span>


    <h1>
        <span class="link_title"><A href="#">
        IntelliJ IDEA平台下JNI编程（三）—字符串、数组            
        </a></span>
    </h1>
</div>

   

        <div class="article_manage clearfix">
        <div class="article_l">
            <span class="link_categories">
            标签：
              <a href="http://www.csdn.net/tag/JNI" target="_blank" onclick="">JNI</a><a href="http://www.csdn.net/tag/intellij%20idea" target="_blank" onclick="">intellij idea</a>
            </span>
        </div>
        <div class="article_r">
            <span class="link_postdate">2017-01-13 19:11</span>
            <span class="link_view" title="阅读次数">197人阅读</span>
            <span class="link_comments" title="评论次数"> <A onclick="" href="#comments">评论</a>(1)</span>
            <span class="link_collect tracking-ad" data-mod="popu_171"> <A onclick="" title=收藏 href="javascript:void(0);">收藏</a></span>
             <span class="link_report"> <A onclick="" title=举报 href="#report">举报</a></span>

        </div>
    </div>
    <div class="embody" style="DISPLAY: none" id="embody">
        <span class="embody_t">本文章已收录于：</span>
        <div class="embody_c" id="lib" value="'{"err":0,"msg":"ok","data":[]}'"></div>
    </div>
<STYLE type=text/css><!--

/* Effective stylesheet produced by snapshot save */

.embody { padding: 10px; margin: 0px -20px; border-bottom: 1px solid rgb(237, 237, 237); }

.embody_b { margin: 0px; padding: 10px 0px; }

.embody .embody_t, .embody .embody_c { display: inline-block; margin-right: 10px; }

.embody_t { font-size: 12px; color: rgb(153, 153, 153); }

.embody_c { font-size: 12px; }

--></STYLE>
    <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
      <div class="category clearfix">
        <div class="category_l">
           <IMG src="index_files/category_icon.jpg">
            <span>分类：</span>
        </div>
        <div class="category_r">
                    <label onclick="">
                        <span onclick="">Android<em>（42）</em></span>
                      <IMG class=arrow-down style="DISPLAY: inline" src="index_files/arrow_triangle__down.jpg" >
                      <IMG class=arrow-up style="DISPLAY: none" src="index_files/arrow_triangle_up.jpg" >
                        <div class="subItem">
                            <div class="subItem_t"><a href="http://blog.csdn.net/huachao1001/article/category/2862631" target="_blank">作者同类文章</a><i class="J_close">X</i></div>
                            <ul class="subItem_l" id="top_2862631">                            
                            </ul>
                        </div>
                    </label>                    
        </div>
    </div>
    <script type="text/javascript" src="index_files/category.js"></script>  
        <div class="bog_copyright">         
            <p class="copyright_p">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
        </div>

  

  
  
     

<div style="CLEAR: both"></div><div style="BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid; BACKGROUND: #eee; MIN-WIDTH: 200px; BORDER-BOTTOM: #ccc 1px solid; FLOAT: left; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 10px; BORDER-LEFT: #ccc 1px solid; PADDING-RIGHT: 10px"><p style="TEXT-ALIGN: right; MARGIN: 0px"><span style="FLOAT: left">目录<A title=系统根据文章中H1到H6标签自动生成文章目录 href="#">(?)</a></span><A onclick="" title=展开 href="#">[+]</a></p><ol style="PADDING-LEFT: 14px; MARGIN-LEFT: 14px; DISPLAY: none; LINE-HEIGHT: 160%"><li><A href="#t0">从一个简单的例子开始</a><li><A href="#t1">字符串</a><li><A href="#t2">数组</a><ol><li><A href="#t3">1 基本类型数组</a><li><A href="#t4">2 对象数组</a></li></ol></li></ol></div><div style="CLEAR: both"></div><div id="article_content" class="article_content">
        <div class="markdown_views"><p>转载请注明出处：<A href="#">【huachao1001的专栏：http://blog.csdn.net/huachao1001/article/details/54407327】</a></p>

<p>在前面<code>HelloWorld</code>篇中，自动生成的头文件对本地方法声明的形参列表中的第一个参数即为<code>JNIEnv *</code>。那么<code>JNIEnv</code>到底能用来做什么？初学<code>JNI</code>的时候并没有太在意，只满足于<code><a href="http://lib.csdn.net/base/javase" class="replace_word" title="Java SE知识库" target="_blank" style="FONT-WEIGHT: bold; COLOR: #df3434">Java</a></code>能调用<code>C</code>代码就行，而并没有深究。今天这篇文章将学习JNI本地函数中如何与Java代码中的字符串、数组相互访问（或转换）。通过这篇文章的学习，相信会对<code>JNIEnv</code>有进一步了解。</p>



<h1 id="1-从一个简单的例子开始"><a name="t0"></a>1. 从一个简单的例子开始</h1>

<p>先创建一个Java类：<code>com/huachao/java/HelloJNI.java</code>，并声明本地方法：<code>private native String sayHello(String name);</code></p>



<pre class="prettyprint" name="code"><code class="language-java hljs  has-numbering"><span class="hljs-keyword">package</span> com.huachao.java;

<span class="hljs-javadoc">/**
 * Created by HuaChao on 2017/01/13.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloJNI</span> {</span>
    <span class="hljs-keyword">static</span> {
        <span class="hljs-comment">// hello.dll (Windows) or libhello.so (Unixes)</span>
        System.loadLibrary(<span class="hljs-string">"HelloJNI"</span>);     }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">native</span> String <span class="hljs-title">sayHello</span>(String name);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String[] args) {
        <span class="hljs-comment">// invoke the native method</span>
      String rs=  <span class="hljs-keyword">new</span> HelloJNI().sayHello(<span class="hljs-string">"HuaChao"</span>);
      System.out.println(<span class="hljs-string">"Java类收到来自JNI的返回："</span>+rs);
    }

}

</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18<li>19<li>20<li>21</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18<li>19<li>20<li>21</li></ul></pre>

<p>编译一下，找到HelloJNI.class，点击右键，选择External Tools&gt;Generate Header File，如下（这个过程有疑问的请先转移至<a href="http://blog.csdn.net/huachao1001/article/details/53906237">《IntelliJ IDEA平台下JNI编程（一）—HelloWorld篇》</a>）：</p>

<p><IMG title="" style="MAX-WIDTH: 950px" alt=生成头文件 src="index_files/20170113121339672.png" ></p>

<p>此时在jni目录中得到<code>com_huachao_java_HelloJNI.h</code>如下：</p>



<pre class="prettyprint" name="code"><code class="language-c hljs  has-numbering"><span class="hljs-comment">/* DO NOT EDIT THIS FILE - it is machine generated */</span>
<span class="hljs-preprocessor">#include &lt;jni.h&gt;</span>
<span class="hljs-comment">/* Header for class com_huachao_java_HelloJNI */</span>

<span class="hljs-preprocessor">#ifndef _Included_com_huachao_java_HelloJNI</span>
<span class="hljs-preprocessor">#define _Included_com_huachao_java_HelloJNI</span>
<span class="hljs-preprocessor">#ifdef __cplusplus</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {
<span class="hljs-preprocessor">#endif</span>
<span class="hljs-comment">/*
 * Class:     com_huachao_java_HelloJNI
 * Method:    sayHello
 * Signature: (Ljava/lang/String;)Ljava/lang/String;
 */</span>
JNIEXPORT jstring JNICALL Java_com_huachao_java_HelloJNI_sayHello
  (JNIEnv *, jobject, jstring);

<span class="hljs-preprocessor">#ifdef __cplusplus</span>
}
<span class="hljs-preprocessor">#endif</span>
<span class="hljs-preprocessor">#endif</span>
</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18<li>19<li>20<li>21<li>22</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18<li>19<li>20<li>21<li>22</li></ul></pre>

<p>然后继续在<code>jni</code>目录中新建<code>HelloJNI.c</code>文件，如下：</p>



<pre class="prettyprint" name="code"><code class="hljs cpp has-numbering"><span class="hljs-preprocessor">#include&lt;jni.h&gt;</span>
<span class="hljs-preprocessor">#include &lt;stdio.h&gt;</span>
<span class="hljs-preprocessor">#include "com_huachao_java_HelloJNI.h"</span>

JNIEXPORT jstring JNICALL Java_com_huachao_java_HelloJNI_sayHello
  (JNIEnv *env, jobject thisObj, jstring name){
   <span class="hljs-keyword">char</span> buf[<span class="hljs-number">128</span>];
   <span class="hljs-comment">/* ERROR: incorrect use of jstring as a char* pointer */</span>
   <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Hello %s"</span>,name);<span class="hljs-comment">//这里会出错</span>
   <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%s"</span>,buf); 
   <span class="hljs-keyword">return</span> buf;<span class="hljs-comment">//这里出错，不能将char*作为jstring返回</span>
}</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12</li></ul></pre>

<p>同样，在<code>HelloJNI.c</code>上点击右键选择External Tools&gt;Generate DLL（这个过程有疑问的请先转移至<a href="http://blog.csdn.net/huachao1001/article/details/53906237">《IntelliJ IDEA平台下JNI编程（一）—HelloWorld篇》</a>）。再点击运行，会发现错处！！！！主要是因为<code>printf</code>函数的第二个参数应当为<code>char*</code>类型，而不是<code>jstring</code>。那怎么样将<code>jstring</code>转为<code>char*</code>呢？这就需要借助<code>JNIEnv*</code>了。将<code>HelloJNI.c</code>改为如下：</p>



<pre class="prettyprint" name="code"><code class="language-c hljs  has-numbering"><span class="hljs-preprocessor">#include&lt;jni.h&gt;</span>
<span class="hljs-preprocessor">#include &lt;stdio.h&gt;</span>
<span class="hljs-preprocessor">#include "com_huachao_java_HelloJNI.h"</span>

JNIEXPORT jstring JNICALL Java_com_huachao_java_HelloJNI_sayHello
  (JNIEnv *env, jobject thisObj, jstring name){
   <span class="hljs-keyword">char</span> buf[<span class="hljs-number">128</span>];
   <span class="hljs-keyword">const</span> jbyte *str;
   str = (*env)-&gt;GetStringUTFChars(env, name, NULL);
   <span class="hljs-keyword">if</span> (str == NULL) {
     <span class="hljs-keyword">return</span> NULL; <span class="hljs-comment">/* OutOfMemoryError already thrown */</span>
   }
   <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Hello %s"</span>, str);
   (*env)-&gt;ReleaseStringUTFChars(env, name, str);
   <span class="hljs-comment">/* 假设输入字符不超过127个 */</span>
   <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%s"</span>, buf);
   <span class="hljs-keyword">return</span> (*env)-&gt;NewStringUTF(env, buf);
}</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18</li></ul></pre>

<p>在<code>HelloJNI.c</code>上点击右键选择External Tools&gt;Generate DLL后，再运行HelloJNI.java类如下：</p>



<pre class="prettyprint" name="code"><code class="hljs  has-numbering">JNI_Return
Java类收到来自JNI的返回：JNI_Return
Hello HuaChao</code><ul class="pre-numbering" ><li>1<li>2<li>3</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3</li></ul></pre>

<p>可以看到，通过<code>JNIEnv</code>对象我们可以将<code>jstring</code>与<code>char*</code>相互转换。但需要注意的是，通过<code>GetStringUTFChars</code>函数将<code>jsting</code>转为<code>char*</code>时，有可能会从堆空间中分配新的空间，这就有可能因为内存不足而分配失败，因此需要判断是否为<code>NULL</code>。同时，当不需要时应当将这块新分配的空间释放，即调用<code>ReleaseStringUTFChars</code>函数。也可以在本地方法中构造一个<code>java.lang.String</code>实例对象，通过<code>NewStringUTF</code>函数来构造。</p>

<p>可能有人会问，为什么通过<code>GetStringUTFChars</code>得到的<code>char*</code>需要释放内存，而通过<code>NewStringUTF</code>得到的<code>jstring</code>对象不用释放内存呢？这是因为，使用<code>GetStringUTFChars</code>得到<code>char*</code>是在堆中开辟了新的空间用于存储字符串，用完肯定需要手动回收，因为JVM并不会帮你回收本地方法中开辟的空间。而使用<code>NewStringUTF</code>创建的<code>jstring</code>对象属于<code>java.lang.String</code>实例对象，虚拟机会自动回收，另外用于转换为jstring的char*对象（即例子中的buf）由于是函数内部的局部变量，当<code>Java_com_huachao_java_HelloJNI_sayHello</code>执行结束后，自然会回收其内部所有的局部变量的空间。</p>

<blockquote>
  <p>从上面结果可以看出，是先输入JNI中的scanf函数中的字符串，再打印Java类中传入的字符串。这个顺序好像跟代码顺序不一致，这具体原因我还不清楚，待查找到资料后再回来修改。</p>
</blockquote>



<h1 id="2-字符串"><a name="t1"></a>2. 字符串</h1>

<p>除了上面小节中介绍的几个与字符串相关的函数以外，<code>JNIEnv</code>中还定义了很多其他的与字符串相关操作的函数。</p>

<p>通过<code>GetStringChars</code>函数得到的本地字符串（<code>char*</code>）是以<code>Unicode</code>编码的数据，我们知道<code>UTF-8</code>编码的字符串一般是以<code>\0</code>作为结束字符，但<code>Unicode</code>编码的字符串并不是这样。为了获取<code>jstring</code>类型引用的<code>Unicode</code>编码的字符串中字符数量，可以通过调用<code>GetStringLength</code>函数；而获取jstring引用的字符串有多少个字节则调用<code>ANSI C</code>语言中的<code>strlen</code>函数，或者是 <code>JNIEnv</code>的<code>GetStringUTFLength</code>函数。</p>

<p>我们看看 GetStringChars函数原型：</p>



<pre class="prettyprint" name="code"><code class="hljs rust has-numbering"><span class="hljs-keyword">const</span> jchar *
GetStringChars(JNIEnv *env, jstring <span class="hljs-keyword">str</span>, jboolean *isCopy);</code><ul class="pre-numbering" ><li>1<li>2</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2</li></ul></pre>

<p>如果返回的字符串是从原始的<code>java.lang.String</code>实例中拷贝的数据，则第三个参数<code>isCopy</code>指向的内存会被设置为 <code>JNI_TRUE</code>，反之，如果返回的字符串是通过直接指向<code>java.lang.String</code>实例中的内存空间，则<code>isCopy</code>指向的内存会被设置为<code>JNI_FALSE</code>。当isCopy指向的内存存储的是<code>JNI_FALSE</code>，那么不能对返回的<code>char*</code>中的内容进行修改，因为在<code>Java</code>中<code>String</code>是不可变的对象。</p>

<blockquote>
  <p>大部分情况下，直接将NULL作为isCopy参数，因为大部分情况都不需要关心JVM是从java.lang.String中拷贝的字符串还是直接将指针指向原始的字符串。</p>
</blockquote>

<p>一般情况下，不可预测虚拟机是否采用拷贝java.lang.String实例。因此你需要假定GetStringChars函数花费时间和空间 来创建新的本地字符串（char*）。在JVM垃圾回收过程中，为了避免内存空间碎片化，对象可能需要发生移动。如果GetStringChars函数是通过直接将指针指向<code>java.lang.String</code>实例中的字符串，那么垃圾回收器则不再对<code>java.lang.String</code>实例对象进行移动，即<code>java.lang.String</code>实例对象被一直固定在内存的某一位置。如果过多的对象被固定在内存中而不被移动，则会导致有很多内存碎片。因此，每次调用GetStringChars函数时，JVM需要判断，决策是采用拷贝还是采用直接修改指针。 </p>

<p>调用<code>GetStringChars</code>函数后，当你不再使用该字符串时，还需要记得调用<code>ReleaseStringChars</code> 。物理isCopy指向的内容是 <code>JNI_TRUE</code>还是<code>JNI_FALSE</code>，都应当调用<code>ReleaseStringChars</code> 。 如果<code>GetStringChars</code>采用的是拷贝方式，则ReleaseStringChars释放拷贝字符串占用的空间；如果<code>GetStringChars</code>是直接修改指针的方式，则将<code>java.lang.String</code>实例对象取消固定（即可被在内存中移动）。  </p>

<table>
<thead>
<tr>
  <th align="left">JNI 函数</th>
  <th align="left">描述</th>
  <th align="center">版本</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><code>GetStringChars</code> <code>ReleaseStringChars</code></td>
  <td align="left">获取/释放指向Unicode编码字符串的指针，返回的可能是java.lang.String字符串的拷贝</td>
  <td align="center">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>GetStringUTFChars</code>   <code>ReleaseStringUTFChars</code></td>
  <td align="left">获取/释放指向UTF-8编码字符串的指针，返回的可能是java.lang.String字符串的拷贝</td>
  <td align="center">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>GetStringLength</code></td>
  <td align="left">返回Unicode编码的字符串中字符的个数</td>
  <td align="center">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>GetStringUTFLength</code></td>
  <td align="left">返回UTF-8编码的字符串中字节的个数（不包含结尾的<code>\0</code>）</td>
  <td align="center">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>NewString</code></td>
  <td align="left">创建<code>java.lang.String</code>实例，并且包含给定的Unicode编码的C字符串</td>
  <td align="center">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>NewStringUTF</code></td>
  <td align="left">创建<code>java.lang.String</code>实例，并且包含给定的UTF-8编码的C字符串</td>
  <td align="center">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>GetStringCritical</code> <code>ReleaseStringCritical</code></td>
  <td align="left">获取一个指向Unicode编码字符串的指针，返回的可能是java.lang.String字符串的拷贝，本地代码在Get/ ReleaseStringCritical之间不能阻塞</td>
  <td align="center">Java 2 SDK1.2</td>
</tr>
<tr>
  <td align="left"><code>GetStringRegion</code> <code>SetStringRegion</code></td>
  <td align="left">从C中已经分配好的缓存中复制/赋值Unicode编码的字符串</td>
  <td align="center">Java 2 SDK1.2</td>
</tr>
<tr>
  <td align="left"><code>GetStringUTFRegion</code> <code>SetStringUTFRegion</code></td>
  <td align="left">从C中已经分配好的缓存中复制/赋值UTF-8编码的字符</td>
  <td align="center">Java 2 SDK1.2</td>
</tr>
</tbody></table>




<h1 id="3-数组"><a name="t2"></a>3. 数组</h1>



<h2 id="31-基本类型数组"><a name="t3"></a>3.1 基本类型数组</h2>

<p>JNI将基本类型数组与对象数组区分对待，基本类型数组主要是元素为基本类型，对象数组元素是引用类型数组。如下：</p>



<pre class="prettyprint" name="code"><code class="hljs scss has-numbering">int<span class="hljs-attr_selector">[]</span> iarr;
<span class="hljs-attribute">float</span><span class="hljs-attr_selector">[]</span> farr;
<span class="hljs-tag">Object</span><span class="hljs-attr_selector">[]</span> oarr;
int<span class="hljs-attr_selector">[]</span><span class="hljs-attr_selector">[]</span> arr2;</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4</li></ul></pre>

<p><code>iarr</code>和<code>farr</code>是基本类型数组，而<code>oarr</code>和<code>arr2</code>是对象数组。</p>

<p>本地方法中访问基本类型数组就像访问字符串一样需要借助JNI中的函数，如下为一个简单的例子：对int数组元素求和：</p>



<pre class="prettyprint" name="code"><code class="language-java hljs  has-numbering">class IntArray {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">int</span> <span class="hljs-title">sumArray</span>(<span class="hljs-keyword">int</span>[] arr);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String[] args) {
        IntArray p = <span class="hljs-keyword">new</span> IntArray();
        <span class="hljs-keyword">int</span> arr[] = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">10</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
            arr[i] = i;
        }
        <span class="hljs-keyword">int</span> sum = p.sumArray(arr);
        System.out.println(<span class="hljs-string">"sum = "</span> + sum);
    }

    <span class="hljs-keyword">static</span> {
        System.loadLibrary(<span class="hljs-string">"IntArray"</span>);
    }
}</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18</li></ul></pre>

<p>而在本地代码中，不能像如下代码那样：</p>



<pre class="prettyprint" name="code"><code class="hljs axapta has-numbering"><span class="hljs-comment">/* 以下代码有错误 */</span>
JNIEXPORT jint JNICALL Java_IntArray_sumArray(JNIEnv *env, jobject obj, jintArray arr)
{
    <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">sum</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        <span class="hljs-keyword">sum</span> += arr[i];
    }
}</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8</li></ul></pre>

<p>上面代码是有问题的，你必须使用JNI函数来访问基本来下数组中的元素，如下所示： </p>



<pre class="prettyprint" name="code"><code class="hljs axapta has-numbering">JNIEXPORT jint JNICALL
Java_IntArray_sumArray(JNIEnv *env, jobject obj, jintArray arr)
{
    jint buf[<span class="hljs-number">10</span>];
    jint i, <span class="hljs-keyword">sum</span> = <span class="hljs-number">0</span>;
    (*env)-&gt;GetIntArrayRegion(env, arr, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>, buf);
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        <span class="hljs-keyword">sum</span> += buf[i];
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">sum</span>;
}</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11</li></ul></pre>

<p>上面例子中，使用了GetIntArrayRegion 函数来复制数组中的元素到<a href="http://lib.csdn.net/base/c" class="replace_word" title="C语言知识库" target="_blank" style="FONT-WEIGHT: bold; COLOR: #df3434">C语言</a>中的缓存中（buf），其中第三个参数表示起始下标，第四个参数表示复制的元素个数。 只要元素拷贝到C缓存中，本地代码就可以直接使用缓存中的数组了。 前面例子中没有异常检查，这是因为我们知道数组长度是10，所有不会越界。 </p>

<p>JNI支持一套数组的Get和Set函数==&gt; <code>Get/Release&lt;Type&gt;ArrayElements</code> （如： Get/ReleaseIntArrayElements），用于本地代码直接获取基本类型数组的指针。由于垃圾回收器的底层实现可能不支持数组对象在内存中固定不动，所以在垃圾回收过程中数组在内存位置发生变化，JVM返回的指针是原始的基本类型数组的拷贝的地址。 上面代码可以改为如下：</p>



<pre class="prettyprint" name="code"><code class="hljs coffeescript has-numbering">JNIEXPORT jint JNICALL
Java_IntArray_sumArray(JNIEnv *env, jobject obj, jintArray arr)
{
    jint *carr;
    jint i, sum = <span class="hljs-number">0</span>;
    <span class="hljs-function"><span class="hljs-title">carr</span> = <span class="hljs-params">(*env)</span>-&gt;</span>GetIntArrayElements(env, arr, NULL);
    <span class="hljs-keyword">if</span> (carr == NULL) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-regexp">/* exception occurred */</span>
    }
    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">10</span>; i++) {
        sum += carr[i];
    }
    <span class="hljs-function"><span class="hljs-params">(*env)</span>-&gt;</span>ReleaseIntArrayElements(env, arr, carr, <span class="hljs-number">0</span>);
    <span class="hljs-keyword">return</span> sum;
}</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15</li></ul></pre>

<p><code>GetArrayLength</code> 函数返回数组中的元素个数，数组的固定长度在第一次分配内存时确定。函数 <code>Get/ReleasePrimitiveArrayCritical</code>允许虚拟机在访问原始数组时禁用垃圾回收器。你应该像使用 <code>Get/ReleaseStringCritical</code>一样小心地使用<code>Get/ReleasePrimitiveArrayCritical</code>。在<code>Get/ReleasePrimitiveArrayCritical</code>之间的代码必须不能调用任何JNI函数或执行任何阻塞操作，因为这可能会导致应用死锁。 </p>

<blockquote>
  <p>一般使用<code>Get/Release&lt;type&gt;ArrayElements</code>都是安全的，虚拟机要么直接返回数组元素的指针，幺妹返回数组元素拷贝后的地址指针。</p>
</blockquote>

<table>
<thead>
<tr>
  <th align="left">JNI Function</th>
  <th align="left">Description</th>
  <th align="left">Since</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><code>Get&lt;Type&gt;ArrayRegion</code> <code>Set&lt;Type&gt;ArrayRegion</code></td>
  <td align="left">从本地分配的基本类型数组中或者复制/赋值</td>
  <td align="left">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>Get&lt;Type&gt;ArrayElements</code> <code>Release&lt;Type&gt;ArrayElements</code></td>
  <td align="left">获取基本类型数组指针，可能返回的是拷贝</td>
  <td align="left">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>GetArrayLength</code></td>
  <td align="left">返回数组中元素个数</td>
  <td align="left">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>New&lt;Type&gt;Array</code></td>
  <td align="left">根据指定的长度创建数组</td>
  <td align="left">JDK1.1</td>
</tr>
<tr>
  <td align="left"><code>GetPrimitiveArrayCritical</code> <code>ReleasePrimitiveArrayCritical</code></td>
  <td align="left">获取或释放基本类型数组指针，可能会禁用垃圾回收，可能返回的是数组的拷贝</td>
  <td align="left">Java 2 SDK1.2</td>
</tr>
</tbody></table>




<h2 id="32-对象数组"><a name="t4"></a>3.2 对象数组</h2>

<p>函数<code>GetObjectArrayElement</code>返回指定下标的元素，而 <code>SetObjectArrayElement</code>函数更新指定下包的元素。不像基本类型数组，我们无法一次性获取所有的对象数组中的元素或者是拷贝多个元素。字符串和数组都是引用类型，可以通过 <code>Get/SetObjectArrayElement</code>来访问数组中的字符串和数组中的数组。 如下代码示例为本地方法创建二维int数组后返回到Java代码中，并且打印该二维数组数组内容： </p>



<pre class="prettyprint" name="code"><code class="language-java hljs  has-numbering">class ObjectArrayTest {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">int</span>[][] <span class="hljs-title">initInt2DArray</span>(<span class="hljs-keyword">int</span> size);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String[] args) {
        <span class="hljs-keyword">int</span>[][] i2arr = initInt2DArray(<span class="hljs-number">3</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++) {
                System.out.print(<span class="hljs-string">" "</span> + i2arr[i][j]);
            }
            System.out.println();
        }
    }

    <span class="hljs-keyword">static</span> {
        System.loadLibrary(<span class="hljs-string">"ObjectArrayTest"</span>);
    }
}</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17</li></ul></pre>

<p>对应的本地代码实现如下：</p>



<pre class="prettyprint" name="code"><code class="hljs coffeescript has-numbering">JNIEXPORT jobjectArray JNICALL
Java_ObjectArrayTest_initInt2DArray(JNIEnv *env, jclass cls, int size) {
    jobjectArray result;
    int i;
    jclass <span class="hljs-function"><span class="hljs-title">intArrCls</span> = <span class="hljs-params">(*env)</span>-&gt;</span>FindClass(env, <span class="hljs-string">"[I"</span>);
    <span class="hljs-keyword">if</span> (intArrCls == NULL) {
        <span class="hljs-keyword">return</span> NULL; <span class="hljs-regexp">/* exception thrown */</span>
    }
    <span class="hljs-function"><span class="hljs-title">result</span> = <span class="hljs-params">(*env)</span>-&gt;</span>NewObjectArray(env, size, intArrCls, NULL);
    <span class="hljs-keyword">if</span> (result == NULL) {
        <span class="hljs-keyword">return</span> NULL; <span class="hljs-regexp">/* out of memory error thrown */</span>
    }
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; size; i++) {
        jint tmp[<span class="hljs-number">256</span>]; <span class="hljs-regexp">/* make sure it is large enough! */</span>
        int j;
        jintArray <span class="hljs-function"><span class="hljs-title">iarr</span> = <span class="hljs-params">(*env)</span>-&gt;</span>NewIntArray(env, size);
        <span class="hljs-keyword">if</span> (iarr == NULL) {
            <span class="hljs-keyword">return</span> NULL; <span class="hljs-regexp">/* out of memory error thrown */</span>
        }
        <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; size; j++) {
            tmp[j] = i + j;
        }
        <span class="hljs-function"><span class="hljs-params">(*env)</span>-&gt;</span>SetIntArrayRegion(env, iarr, <span class="hljs-number">0</span>, size, tmp);
        <span class="hljs-function"><span class="hljs-params">(*env)</span>-&gt;</span>SetObjectArrayElement(env, result, i, iarr);
        <span class="hljs-function"><span class="hljs-params">(*env)</span>-&gt;</span>DeleteLocalRef(env, iarr);
    }
    <span class="hljs-keyword">return</span> result;
}</code><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18<li>19<li>20<li>21<li>22<li>23<li>24<li>25<li>26<li>27<li>28</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3<li>4<li>5<li>6<li>7<li>8<li>9<li>10<li>11<li>12<li>13<li>14<li>15<li>16<li>17<li>18<li>19<li>20<li>21<li>22<li>23<li>24<li>25<li>26<li>27<li>28</li></ul></pre>

<p>本地方法中，先调用了JNI函数<code>FindClass</code>来获取二维数组中元素类型（Class）的引用，上一章中我们介绍过类型映射，我们知道<code>[I</code>表示的是Java中<code>int[]</code>对象的类型。如果<code>FindClass</code>返回NULL，说明类加载失败（可能是因为类文件不存在或者是OOM）。接下来NewObjectArray 函数分配一个数组，其元素类型为intArrCls只向的引用类型。NewObjectArray 函数只能分配一维数组，我们将一维数组作为其元素类型，这样就构成了二维数组。JVM并没有指定多维数组的<a href="http://lib.csdn.net/base/datastructure" class="replace_word" title="算法与数据结构知识库" target="_blank" style="FONT-WEIGHT: bold; COLOR: #df3434">数据结构</a>，二维数组只是元素类型为数组的数组。</p>

<p>运行结果如下:</p>



<pre class="prettyprint" name="code"><code class="hljs  has-numbering">0 1 2
1 2 3
2 3 4</code><ul class="pre-numbering" ><li>1<li>2<li>3</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><A href="javascript:void(0);"><IMG src="index_files/save_snippets.png"></a></div><ul class="pre-numbering" ><li>1<li>2<li>3</li></ul></pre>

<p>上面例子中最外面的循环后面调用了<code>DeleteLocalRef</code> ,这是为了防止虚拟机一直持有JNI中的引用（如例子中的iarr）导致OOM。 </p></div>
        <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
   
</div><!-- Baidu Button BEGIN -->




<div class="bdsharebuttonbox tracking-ad" style="FLOAT: right" data-mod="popu_172">
<A class=bds_more style="BACKGROUND-IMAGE: url(index_files/icons_0_16.png); BACKGROUND-POSITION: 0px 0px" href  ="#"  data-cmd="more"></a>
<A title=分享到QQ空间 class=bds_qzone style="BACKGROUND-POSITION: 0px -52px" href ="#"  data-cmd="qzone"></a>
<A title=分享到新浪微博 class=bds_tsina style="BACKGROUND-POSITION: 0px -104px" href ="#"  data-cmd="tsina"></a>
<A title=分享到腾讯微博 class=bds_tqq style="BACKGROUND-POSITION: 0px -260px" href ="#"  data-cmd="tqq"></a>
<A title=分享到人人网 class=bds_renren style="BACKGROUND-POSITION: 0px -208px" href ="#"  data-cmd="renren"></a>
<A title=分享到微信 class=bds_weixin style="BACKGROUND-POSITION: 0px -1612px" href ="#"  data-cmd="weixin"></a>
</div>
<script><!--
/* Script removed by snapshot save */
--></script>
<!-- Baidu Button END -->

   <LINK rel=stylesheet href="index_files/blog_detail.css"><!--172.16.140.13--><!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434" src="index_files/bds_s_v2.js"></script>

<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<!-- Baidu Button END -->

 


        <div id="digg" articleid="54407327">
            <dl id="btnDigg" class="digg digg_disable" onclick="">
               
                 <dt>顶 
                <dd>0</dd>
            </dl>
           
              
            <dl id="btnBury" class="digg digg_disable" onclick="">
              
                  <dt>踩 
                <dd>0</dd>               
            </dl>
            
        </div>
     <div class="tracking-ad" data-mod="popu_222"><A href="javascript:void(0);"></a>   </div>
    <div class="tracking-ad" data-mod="popu_223"> <A href="javascript:void(0);"></a>&nbsp;</div>
    <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>

   <ul class="article_next_prev">
                <li class="prev_article"><span onclick="">上一篇</span><a href="http://blog.csdn.net/huachao1001/article/details/53992258" onclick="">IntelliJ IDEA平台下JNI编程（二）—类型映射</a>
                <li class="next_article"><span onclick="">下一篇</span><a href="http://blog.csdn.net/huachao1001/article/details/64924057" onclick="">IntelliJ IDEA平台下JNI编程（四）—本地C代码访问JAVA对象</a></li>
    </ul>

    <div style="HEIGHT: 10px; CLEAR: both"></div>


        <div class="similar_article" >
                <h4>我的同类文章</h4>
                <div class="similar_c" style="MARGIN: 20px 0px 0px">
                    <div class="similar_c_t">
                                <label class="similar_cur">
                                    <span style="CURSOR: pointer" onclick="">Android<em>（42）</em></span>
                                </label>
                    </div>
                   
                    <div class="similar_wrap tracking-ad" style="MAX-HEIGHT: 195px" data-mod="popu_141">
                        <a href="http://blog.csdn.net/" style="DISPLAY: none">http://blog.csdn.net</a>
                        <ul class="similar_list fl"><li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/64924057" id="foot_aritcle_64924057undefined04858117244778426" target="_blank" title="IntelliJ IDEA平台下JNI编程（四）—本地C代码访问JAVA对象">IntelliJ IDEA平台下JNI编程（四）—本地C代码访问JAVA对象</a><span>2017-03-22</span><label><i>阅读</i><b>2</b></label> <li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/53906237" id="foot_aritcle_53906237undefined8528188440532634" target="_blank" title="IntelliJ IDEA平台下JNI编程（一）—HelloWorld篇">IntelliJ IDEA平台下JNI编程（一）—HelloWorld篇</a><span>2016-12-30</span><label><i>阅读</i><b>929</b></label> <li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/53885981" id="foot_aritcle_53885981undefined17876604004806007" target="_blank" title="AndroidStudio插件开发（进阶篇之Editor）">AndroidStudio插件开发（进阶篇之Editor）</a><span>2016-12-26</span><label><i>阅读</i><b>514</b></label> <li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/53856916" id="foot_aritcle_53856916undefined6507793128724146" target="_blank" title="AndroidStudio插件开发（Hello World篇）">AndroidStudio插件开发（Hello World篇）</a><span>2016-12-24</span><label><i>阅读</i><b>671</b></label> <li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/52297075" id="foot_aritcle_52297075undefined7962052539642209" target="_blank" title="双亲委派模型与自定义类加载器">双亲委派模型与自定义类加载器</a><span>2016-08-24</span><label><i>阅读</i><b>1109</b></label></li> </ul>

                        <ul class="similar_list fr"><li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/53992258" id="foot_aritcle_53992258undefined6932888578225508" target="_blank" title="IntelliJ IDEA平台下JNI编程（二）—类型映射">IntelliJ IDEA平台下JNI编程（二）—类型映射</a><span>2017-01-12</span><label><i>阅读</i><b>104</b></label> <li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/53898286" id="foot_aritcle_53898286undefined00315840784736221" target="_blank" title="打造酷炫AndroidStudio插件">打造酷炫AndroidStudio插件</a><span>2016-12-27</span><label><i>阅读</i><b>2642</b></label> <li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/53883500" id="foot_aritcle_53883500undefined5641847887209661" target="_blank" title="AndroidStudio插件开发（进阶篇之Action机制）">AndroidStudio插件开发（进阶篇之Action机制）</a><span>2016-12-26</span><label><i>阅读</i><b>525</b></label> <li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/53156582" id="foot_aritcle_53156582undefined9979962228534256" target="_blank" title="Android校招复习资料整理">Android校招复习资料整理</a><span>2016-11-14</span><label><i>阅读</i><b>3883</b></label> <li><em>•</em><a href="http://blog.csdn.net/huachao1001/article/details/52247268" id="foot_aritcle_52247268undefined9026807709105721" target="_blank" title="2017年秋季校招面经">2017年秋季校招面经</a><span>2016-11-09</span><label><i>阅读</i><b>14151</b></label></li> </ul>
                    <a href="http://blog.csdn.net/huachao1001/article/category/2862631" class="MoreArticle">更多文章</a></div>
                </div>
            </div>    
    <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
      
</div>

     <div>
             <ins data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57" data-revive-zoneid="206"> 
    </INS> 
    </div>

<div id="suggest">

</div>
         <script language="javascript" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>

<STYLE><!--

/* Effective stylesheet produced by snapshot save */

.blog-ass-articl dd { color: rgb(51, 102, 153); width: 99%; float: left; overflow: hidden; font: 12px/23px "SimSun"; height: 23px; margin: 0px 30px 0px 0px; padding: 0px 0px 0px 10px; background: transparent url("urn:not-loaded:http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif") no-repeat scroll 0px 10px; }

--></STYLE>

 <LINK rel=stylesheet href="index_files/replace.css">

<div id="relate" class="tracking-ad" style="DISPLAY: block" data-mod="popu_218">
        <div class="relate_t">
            <h3><span>参考知识库</span></h3>
        </div>
        <div class="relate_c"><dl class="relate_list"><dt><a target="_blank" href="http://lib.csdn.net/base/java"><IMG alt=img src="index_files/1453701371636_636.jpg"></a></dt><dd><h4><a target="_blank" href="http://lib.csdn.net/base/java">Java 知识库</a></h4><p><label><span>24400</span><em>关注</em><i>|</i><span>1450</span><em>收录</em></label></p></dd></dl><dl class="relate_list"><dt><a target="_blank" href="http://lib.csdn.net/base/dotnet"><IMG alt=img src="index_files/1470876331285_285.jpg"></a></dt><dd><h4><a target="_blank" href="http://lib.csdn.net/base/dotnet">.NET知识库</a></h4><p><label><span>3474</span><em>关注</em><i>|</i><span>827</span><em>收录</em></label></p></dd></dl><dl class="relate_list"><dt><a target="_blank" href="http://lib.csdn.net/base/c"><IMG alt=img src="index_files/1466132253931_931.jpg"></a></dt><dd><h4><a target="_blank" href="http://lib.csdn.net/base/c">C语言知识库</a></h4><p><label><span>8233</span><em>关注</em><i>|</i><span>3455</span><em>收录</em></label></p></dd></dl><dl class="relate_list"><dt><a target="_blank" href="http://lib.csdn.net/base/javase"><IMG alt=img src="index_files/1453169124297_297.jpg"></a></dt><dd><h4><a target="_blank" href="http://lib.csdn.net/base/javase">Java SE知识库</a></h4><p><label><span>24845</span><em>关注</em><i>|</i><span>477</span><em>收录</em></label></p></dd></dl><dl class="relate_list"><dt><a target="_blank" href="http://lib.csdn.net/base/javaee"><IMG alt=img src="index_files/1456818035722_722.jpg"></a></dt><dd><h4><a target="_blank" href="http://lib.csdn.net/base/javaee">Java EE知识库</a></h4><p><label><span>16682</span><em>关注</em><i>|</i><span>1265</span><em>收录</em></label></p></dd></dl><dl class="relate_list"><dt><a target="_blank" href="http://lib.csdn.net/base/datastructure"><IMG alt=img src="index_files/1461035533512_512.jpg"></a></dt><dd><h4><a target="_blank" href="http://lib.csdn.net/base/datastructure">算法与数据结构知识库</a></h4><p><label><span>14671</span><em>关注</em><i>|</i><span>2320</span><em>收录</em></label></p></dd></dl></div>
</div>
 

<dl class="blog-ass-articl" id="res-relatived"> 
    <div class="embody embody_b" id="libkeyparent" style="DISPLAY: none" 
 >
            <span class="embody_t">更多资料请参考：</span>
            <div class="embody_c" id="libkey"></div>
    </div>


     <dt><span>猜你在找</span>    


   


    <div id="adCollege" style="WIDTH: 42%; FLOAT: left"> 
        <script src="index_files/job_reco.js" type="text/javascript"></script> 
        <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script> 
    <div class="tracking-ad" data-mod="popu_84"></div></div></dt><dd style="BACKGROUND: url(urn:not-loaded:http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0px 10px; WHITE-SPACE: nowrap" 
 ><a href="http://edu.csdn.net/course/detail/1177?ref=blog&amp;loc=0" title="Python编程基础视频教程(第四季)" target="_blank" strategy="v4:hot">Python编程基础视频教程(第四季)</a></dd><dd style="BACKGROUND: url(urn:not-loaded:http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0px 10px; WHITE-SPACE: nowrap" 
 ><a href="http://edu.csdn.net/course/detail/535?ref=blog&amp;loc=0" title="8小时学会HTML网页开发" target="_blank" strategy="v4:hot">8小时学会HTML网页开发</a></dd><dd style="BACKGROUND: url(urn:not-loaded:http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0px 10px; WHITE-SPACE: nowrap" 
 ><a href="http://edu.csdn.net/course/detail/1136?ref=blog&amp;loc=0" title="Swift视频教程(第三季)" target="_blank" strategy="v4:hot">Swift视频教程(第三季)</a></dd><dd style="BACKGROUND: url(urn:not-loaded:http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0px 10px; WHITE-SPACE: nowrap" 
 ><a href="http://edu.csdn.net/course/detail/474?ref=blog&amp;loc=0" title="C++语言基础" target="_blank" strategy="v4:hot">C++语言基础</a></dd><dd style="BACKGROUND: url(urn:not-loaded:http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0px 10px; WHITE-SPACE: nowrap" 
 ><a href="http://edu.csdn.net/course/detail/335?ref=blog&amp;loc=0" title="JavaScript for Qt Quick(QML)" target="_blank" strategy="v4:hot">JavaScript for Qt Quick(QML)</a></dd>
   
</dl>
                    </div>                   
                
            </div>  

    
     <div id="res" class="tracking-ad" style="WIDTH: 42%; FLOAT: left; DISPLAY: none; MARGIN-RIGHT: 30px" data-mod="popu_36"></div>
<DL></DL>


<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>  


    <div id="ad_cen">        
                      <ins data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57" data-revive-zoneid="199">
    </INS>
    </div><!-- 广告位开始 -->
    <ins data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57" data-revive-zoneid="72"></INS><!-- 广告位结束 -->

<div class="comment_class">
    <div id="comment_title" class="panel_head">
        <span class="see_comment">查看评论</span><a name="comments"></a></div>
    <div id="comment_list"><dl class="comment_item comment_topic" id="comment_item_6566260"><dt class="comment_head" floor="1">1楼 <span class="user"><a class="username" href="http://blog.csdn.net/xiaole0313" target="_blank">xiaole0313</a> <span class="ptime">2017-01-21 10:05发表</span>  <A title=回复 class="cmt_btn reply" href="#reply">[回复]</a> <span class="comment_manage" style="DISPLAY: none" username="xiaole0313" 
  commentid="6566260"> <A title=引用 class="cmt_btn quote" href="#quote">[引用]</a> <A title=举报 class="cmt_btn report" href="#report">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/xiaole0313" target="_blank"><IMG src="index_files/3_xiaole0313.jpg" width=40 height=40></a><dd class="comment_body">支持一下！谢谢分享</dd></dl><div class="clear"></div></div>
    <div id="comment_bar" style="DISPLAY: none">
    </div>
    <div id="comment_form"><div class="guest_link">您还没有登录,请<A onclick="" href="javascript:void(0);">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fhuachao1001%2Farticle%2Fdetails%2F54407327">[注册]</a></div></div>
    <div class="announce">
        * 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
</div>

<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script type="text/javascript" src="index_files/comment.js"></script>
    <div id="ad_bot">
    </div>
<div id="report_dialog">
</div>

<div id="d-top" style="BOTTOM: 60px">

        <a id="quick-reply" class="btn btn-top q-reply" title="快速回复" >
            <IMG alt=快速回复 src="index_files/blog-icon-reply.png">
        </a>    
    <a id="d-top-a" class="btn btn-top backtop" title="返回顶部" onclick ="" >         
         <IMG alt=TOP src="index_files/top.png">
    </a>
</div>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>

<STYLE type=text/css><!--

/* Effective stylesheet produced by snapshot save */

.tag_list { background: rgb(255, 255, 255) none repeat scroll 0px 0px; border: 1px solid rgb(215, 203, 193); color: rgb(0, 0, 0); font-size: 12px; line-height: 20px; list-style: outside none none; margin: 10px 2% 0px 1%; padding: 1px; }

--></STYLE>


<div class="tag_list" style="DISPLAY: none"></div>
  <script language="javascript" type="text/javascript"><!--
/* Script removed by snapshot save */
--></script> 


<div id="pop_win" style="BORDER-TOP: rgb(220,220,220) 1px solid; BORDER-RIGHT: rgb(220,220,220) 1px solid; BACKGROUND: rgb(255,255,255) 0px 0px; BORDER-BOTTOM: rgb(220,220,220) 1px solid; POSITION: absolute; LEFT: 630px; BORDER-LEFT: rgb(220,220,220) 1px solid; Z-INDEX: 10000; DISPLAY: none; TOP: 222px; opacity: 1">
    
</div>
<div id="popup_mask"></div>
<STYLE><!--

/* Effective stylesheet produced by snapshot save */

#popup_mask { position: absolute; width: 100%; height: 100%; background: rgb(0, 0, 0) none repeat scroll 0% 0%; z-index: 9999; left: 0px; top: 0px; opacity: 0.3; display: none; }

--></STYLE>




<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
 <script language="javascript" type="text/javascript" src="index_files/async_new.js"></script>      




                        <div class="clear">
                        </div>
        </div>





    </div>
                   
           <div id="side">
               
    <div class="side">
<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/huachao1001" target="_blank">
    <IMG title=访问我的空间 style="MAX-WIDTH: 90%" src="index_files/1_huachao1001.jpg" >
    </a>
    <br>
    <span><a href="http://my.csdn.net/huachao1001" class="user_name" target="_blank">huachao1001</a></span>
</div>
<div class="interact">

    <A id=span_add_follow title=[加关注] class=attent href="javascript:void(0);"></a>

 <A onclick="" title=[发私信] class=letter href="javascript:void(0);"></a>  
</div>
<div id="blog_medal">
                       <div class="ico_expert" onclick="" title="CSDN认证专家" style="CURSOR: pointer; HEIGHT: 60px; WIDTH: 60px; BACKGROUND: url(index_files/bokezhuanjiamiddle.png) no-repeat" 
 ></div>
                <div id="bms_box">
                                            <a target="_blank">
                                                    <IMG onmouseover="" onmouseout="" alt=2 src="index_files/zhuanlandaren.png">
                                            </a>
                                            <a target="_blank">
                                                    <IMG onmouseover="" onmouseout="" alt=1 src="index_files/chizhiyiheng.png">
                                            </a>
               </div>
</div>
<ul id="blog_rank">
    <li>访问：<span>224372次</span>
    <li>积分：<span>2998</span>    
    <li>等级： <span style="POSITION: relative; Z-INDEX: 1; DISPLAY: inline-block" 
   >
            <IMG id=leveImg style="VERTICAL-ALIGN: middle" alt ="" src="index_files/blog5.png" >
            <div id="smallTittle" style="BORDER-TOP: #dddddd 2px  solid; HEIGHT:  32px; BORDER-RIGHT:  #dddddd 2px  solid; WIDTH:  101px; BORDER-BOTTOM:  #dddddd 2px  solid; POSITION:  absolute; TEXT-ALIGN: center; LEFT:  -24px; BORDER-LEFT: #dddddd 2px solid; Z-INDEX:  999; DISPLAY:   none; LINE-HEIGHT: 32px; TOP: 25px; BACKGROUND-COLOR: #fff; box-shadow: 0px 2px 2px rgba (0,0,0,0.1)" 
   >
            <div style="HEIGHT: 0px;  BORDER-RIGHT: transparent  10px solid;  WIDTH: 0px;  BORDER-BOTTOM: #eaeaea  8px solid; POSITION: absolute;  LEFT: 42%; BORDER-LEFT: transparent  10px solid; TOP: -8px"></div>
            积分：2998 </div>
        </span>
    <li>排名：<span>第9901名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>52篇</span></li>
    <li>转载：<span>1篇</span></li>
    <li>译文：<span>0篇</span></li>
    <li>评论：<span>311条</span></li>
</ul>
</ul>
</div>




<div id="custom_column_42635385" class="panel">
<ul class="panel_head"><span>Android开发交流群</span></ul>
<ul class="panel_body">
<IMG src="index_files/20161114094746543.png">
<script type="text/javascript" src="index_files/jquery-1.js"></script>
<script><!--
/* Script removed by snapshot save */
--></script>
</ul>
</div><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>博客专栏</span></ul>
    <ul class="panel_body" id="sp_column">
    <table cellspacing="0" cellpadding="0"><tbody><tr>
    <td style="PADDING-BOTTOM: 0px; PADDING-TOP: 10px; PADDING-LEFT: 0px; PADDING-RIGHT: 10px"      >
    <a href="http://blog.csdn.net/column/details/14048.html" target="_blank"><IMG style="HEIGHT: 75px; WIDTH: 75px" src="index_files/20161228094125527.jpg" ></a>
    </td>
    <td style="VERTICAL-ALIGN: top; PADDING-BOTTOM: 10px; PADDING-TOP: 10px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px"      >
    <a href="http://blog.csdn.net/column/details/14048.html" target="_blank">AndroidStudio插件开发</a>
    <p>文章：6篇</p>
    <span>阅读：11275</span>
    </td>
    </tr></tbody></table>
    <table cellspacing="0" cellpadding="0"><tbody><tr>
    <td style="PADDING-BOTTOM: 0px; PADDING-TOP: 10px; PADDING-LEFT: 0px; PADDING-RIGHT: 10px"      >
    <a href="http://blog.csdn.net/column/details/android-opengl.html" target="_blank"><IMG style="HEIGHT: 75px; WIDTH: 75px" src="index_files/20160810103925664.png" ></a>
    </td>
    <td style="VERTICAL-ALIGN: top; PADDING-BOTTOM: 10px; PADDING-TOP: 10px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px"      >
    <a href="http://blog.csdn.net/column/details/android-opengl.html" target="_blank">Android OpenGL</a>
    <p>文章：5篇</p>
    <span>阅读：17946</span>
    </td>
    </tr></tbody></table>
    <table cellspacing="0" cellpadding="0"><tbody><tr>
    <td style="PADDING-BOTTOM: 0px; PADDING-TOP: 10px; PADDING-LEFT: 0px; PADDING-RIGHT: 10px"      >
    <a href="http://blog.csdn.net/column/details/huachao1001.html" target="_blank"><IMG style="HEIGHT: 75px; WIDTH: 75px" src="index_files/20160622162730490.jpg" ></a>
    </td>
    <td style="VERTICAL-ALIGN: top; PADDING-BOTTOM: 10px; PADDING-TOP: 10px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px"      >
    <a href="http://blog.csdn.net/column/details/huachao1001.html" target="_blank">Android学习</a>
    <p>文章：8篇</p>
    <span>阅读：79983</span>
    </td>
    </tr></tbody></table>
    </ul>
</div><div id="panel_Category" class="panel">
<ul class="panel_head"><span>文章分类</span></ul>
<ul class="panel_body">    
                 <li>
                    <a href="http://blog.csdn.net/huachao1001/article/category/2862631" onclick="">Android</a><span>(43)</span>
                 <li>
                    <a href="http://blog.csdn.net/huachao1001/article/category/6227358" onclick="">学习笔记</a><span>(9)</span>
                 <li>
                    <a href="http://blog.csdn.net/huachao1001/article/category/6333159" onclick="">OpenGL</a><span>(5)</span>
                 <li>
                    <a href="http://blog.csdn.net/huachao1001/article/category/2472171" onclick="">C语言</a><span>(1)</span>
                </li>
</ul>
</div><div id="panel_Archive" class="panel">
<ul class="panel_head"><span>文章存档</span></ul>
<ul class="panel_body">
<div id="archive_list"><li><a href="http://blog.csdn.net/huachao1001/article/month/2017/03">2017年03月</a><span>(1)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2017/01">2017年01月</a><span>(2)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2016/12">2016年12月</a><span>(5)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2016/11">2016年11月</a><span>(2)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2016/08">2016年08月</a><span>(4)</span><span class="hidelist" style="DISPLAY: none"><li><a href="http://blog.csdn.net/huachao1001/article/month/2016/07">2016年07月</a><span>(10)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2016/06">2016年06月</a><span>(12)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2016/05">2016年05月</a><span>(11)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2016/01">2016年01月</a><span>(3)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2015/11">2015年11月</a><span>(1)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2015/01">2015年01月</a><span>(1)</span><li><a href="http://blog.csdn.net/huachao1001/article/month/2014/08">2014年08月</a><span>(1)</span></span><div id="archive_list_button" class="list_closed">展开</div></li></div>
</ul>
</div>
<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" class="blogsearch" title="请输入关键字" ></span>
        <input id="btnSubmit" value="搜索" title="search in blog" type="button">
        <input name="q" id="inputQ" type="hidden">
        <input name="t" value="blog" type="hidden">
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div>

<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>

<div id="custom_column_42141821" class="panel">
<ul class="panel_head"><span>轻松一刻</span></ul>
<ul class="panel_body">
  <OBJECT 
  style="OUTLINE-WIDTH: medium; OUTLINE-STYLE: none; OUTLINE-COLOR: invert" 
  data="index_files/turtle.swf" width=240 height=200 
  type=application/x-shockwave-flash></OBJECT>
<script><!--
/* Script removed by snapshot save */
--></script>
</ul>
</div><div id="hotarticls" class="panel">
<ul class="panel_head">
    <span>       
阅读排行    </span>
</ul>

<ul class="panel_body itemlist">
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51554608" title="CoordinatorLayout的使用如此简单">CoordinatorLayout的使用如此简单</a><span>(23882)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51577291" title="自定义View，有这一篇就够了">自定义View，有这一篇就够了</a><span>(19573)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/52247268" title="2017年秋季校招面经">2017年秋季校招面经</a><span>(14155)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51536074" title="从Android代码中来记忆23种设计模式">从Android代码中来记忆23种设计模式</a><span>(13829)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51659963" title="酷炫的Activity切换动画，打造更好的用户体验">酷炫的Activity切换动画，打造更好的用户体验</a><span>(11723)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51558835" title="玩转AppBarLayout，更酷炫的顶部栏">玩转AppBarLayout，更酷炫的顶部栏</a><span>(11286)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51489582" title="打造浪漫的Android表白程序">打造浪漫的Android表白程序</a><span>(10133)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51594004" title="打造属于你的LayoutManager">打造属于你的LayoutManager</a><span>(8866)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51504469" title="简单明了，彻底地理解Binder">简单明了，彻底地理解Binder</a><span>(8180)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51579437" title="制作圆形图片，你会以下几种？">制作圆形图片，你会以下几种？</a><span>(6567)</span>
</li>
</ul>
</div>
<div id="hotarticls2" class="panel">
<ul class="panel_head"><span>评论排行</span></ul>
<ul class="panel_body itemlist">
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/52247268" title="2017年秋季校招面经">2017年秋季校招面经</a><span>(53)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51554608" title="CoordinatorLayout的使用如此简单">CoordinatorLayout的使用如此简单</a><span>(29)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51577291" title="自定义View，有这一篇就够了">自定义View，有这一篇就够了</a><span>(29)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51659963" title="酷炫的Activity切换动画，打造更好的用户体验">酷炫的Activity切换动画，打造更好的用户体验</a><span>(23)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51504469" title="简单明了，彻底地理解Binder">简单明了，彻底地理解Binder</a><span>(23)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51558835" title="玩转AppBarLayout，更酷炫的顶部栏">玩转AppBarLayout，更酷炫的顶部栏</a><span>(13)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51594004" title="打造属于你的LayoutManager">打造属于你的LayoutManager</a><span>(12)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51536074" title="从Android代码中来记忆23种设计模式">从Android代码中来记忆23种设计模式</a><span>(9)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/52044602" title="Android OpenGL 显示基本图形及相关概念解读">Android OpenGL 显示基本图形及相关概念解读</a><span>(9)</span>
<li>
<a href="http://blog.csdn.net/huachao1001/article/details/51766225" title="彻底理解View事件体系！">彻底理解View事件体系！</a><span>(9)</span>
</li>
</ul>
</div>
<div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/51558835#comments">玩转AppBarLayout，更酷炫的顶部栏</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/changlei_shennan" class="user_name">仰视未来</a>:
确实分开讲很好，，，赞
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/51554608#comments">CoordinatorLayout的使用如此简单</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/changlei_shennan" class="user_name">仰视未来</a>:
不错，谢谢楼主
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/53906237#comments">IntelliJ IDEA平台下JNI编程（一）—HelloWorld篇</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/youyi300200" class="user_name">取个名字都揪心</a>:
问个问题： 大型项目， .o 文件怎么生成
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/51866287#comments">理清Activity、View及Window之间关系</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/kangjianwei101" class="user_name">StrayedKing</a>:
@w6980112:我不认同这个说法，哈哈！
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/51819972#comments">通过自定义Gradle插件修改编译后的class文件</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/CHZiroy" class="user_name">CHZiroy</a>:
多谢楼主分享，另外，使用楼主源码的哥们，记得看看Transform代码中的文件分割符，楼主是com\...
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/51659963#comments">酷炫的Activity切换动画，打造更好的用户体验</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/sunkes" class="user_name">孙泽阳</a>:
很好的文章，深入浅出。不太明白getWindow().requestFeature(Window.F...
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/51659963#comments">CoordinatorLayout的使用如此简单</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/qq_30587885" class="user_name">会有那一天</a>:
5.0刚出来的时候我就学习过Behavior，当时可能技术太low了 写了好些demo还没理解，今天...
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/52164828#comments">Android OpenGL添加纹理</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/u014385442" class="user_name">晴天5273</a>:
请问我想将一个圆形图片，贴到一个半球内部，形成鱼眼效果，是不是要切成很多图片
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/52164828#comments">CoordinatorLayout的使用如此简单</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/u014027945" class="user_name">彼叶枫</a>:
无法获取源码，能发给我一份源码吗？1508443835@qq.com
    </p>
    <li>
   
         <a href="http://blog.csdn.net/huachao1001/article/details/51504469#comments">简单明了，彻底地理解Binder</a>
    <p style="MARGIN: 0px"><a href="http://blog.csdn.net/a279822581" class="user_name">清风一拂面</a>:
图很好，便于理解。不过有点误导的意思
    </p>
    </li>
</ul>
</div>
    </div>
    <div class="clear">
    </div><!-- 广告位开始 --> 
                    <ins data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57" data-revive-zoneid="189">

           </INS><!-- 广告位结束 -->

           </div>   

            <div class="clear">
            </div>
<DIV></DIV>

        

<script type="text/javascript" src="index_files/cnick.js"></script>
<script type="text/javascript" src="index_files/newblog.min.js"></script>


<script type="text/javascript" src="index_files/showblogmedal.ashx.js"></script>
<script type="text/javascript" src="index_files/JavaScript1.js"></script><LINK rel=stylesheet type=text/css href="index_files/pub_footer_2014.css"><div class="pub_fo"><div id="pub_footerall" class="pub_footer_new"><dl><dt></dt> <dd class="foot_sub_menu"><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a><span>|</span><a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a><span>|</span><a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a><span>|</span><a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a><span>|</span><a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a><span>|</span><a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a><span>|</span><A href="mailto:webmaster@csdn.net">问题报告</a><span>|</span><a target="_blank" href="http://www.csdn.net/friendlink.html">合作伙伴</a><span>|</span><a href="http://bbs.csdn.net/forums/Service" target="_blank">论坛反馈</a></dd><dd class="foot_contact"><A class=qq href="javascript:void(0);" target=_blank>网站客服</a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2251809102&amp;site=qq&amp;menu=yes" target="_blank" class="qq">杂志客服</a><a href="http://e.weibo.com/csdnsupport/profile" target="_blank" class="weibo">微博客服</a><A title=联系邮箱 class=email href="mailto:webmaster@csdn.net">webmaster@csdn.net</a><span class="phone" title="服务热线">400-600-2320</span><span class="interval">|</span><span>北京创新乐知信息技术有限公司 版权所有</span><span class="interval">|</span><span>江苏知之为计算机有限公司</span><span class="interval">|</span><span>江苏乐知网络技术有限公司</span></dd><dd class="foot_copyright"><span>京&nbsp;ICP&nbsp;证&nbsp;09002463&nbsp;号</span><span class="interval">|</span><span>Copyright © 1999-2016, CSDN.NET, All Rights Reserved&nbsp;</span><a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><IMG title="" alt=GongshangLogo src="index_files/gongshang_logos.gif"></a></dd></dl></div></div><div id="note1" class="csdn_note" style="WIDTH: 440px; POSITION: absolute; Z-INDEX: 9999; DISPLAY: none">  <span class="notice_top_arrow"><span class="inner"></span></span>  <div class="box"></div></div><div class="csdn_notice_tip" style="WIDTH: 170px; POSITION: absolute; Z-INDEX: 9990; DISPLAY: none">  <iframe src="index_files/unnamed-1.html" scrolling="no" style="HEIGHT: 100%; WIDTH: 100%; BACKGROUND: none transparent scroll repeat 0% 0%; POSITION: absolute; LEFT: 0px; Z-INDEX: -1; TOP: 0px" frameborder="0"></iframe>  <div class="tip_text">您有<strong>0</strong>条新通知</div>  <A class=close2 href="javascript:void(0);"></a></div><script id="noticeScript" type="text/javascript" src="index_files/notify.js" subcount="5" count="5" wrapid="note1" btnid="header_notice_num"></script>

    <script type="text/javascript" src="index_files/login.js"></script>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script><IMG border=0 src="index_files/pv.aspx.txt" width=0 height=0>
<script type="text/javascript" src="index_files/counter.js"></script><script type="text/javascript" charset="UTF-8" src="index_files/msg.popup.js"></script>
<script type="text/javascript" src="index_files/ad-blog.js"></script>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
 
<DIV></DIV><input id="aa_g_data_ids" type="hidden"> <!--new top-->
    
    <script id="csdn-toolbar-id" type="text/javascript" src="index_files/toolbar.js" subcount="5" count="5" wrapid="note1" btnid="header_notice_num"></script>
<!--new top-->
   
    <LINK rel=stylesheet type=text/css href="index_files/ask_float_block.css">
    <script language="JavaScript" type="text/javascript" src="index_files/wmd.js"></script>
    <script language="JavaScript" type="text/javascript" src="index_files/showdown.js"></script>
    <script language="JavaScript" type="text/javascript" src="index_files/prettify.js"></script>
    <script language="JavaScript" type="text/javascript" src="index_files/ask_float_block.js"></script>
   

   

  <div id="a52b5334d" style="HEIGHT: 1px; WIDTH: 1px; DISPLAY: none">
                    <script id="adJs52b5334" src="index_files/52b5334.js"></script>
                    <script><!--
/* Script removed by snapshot save */
--></script>
   </div>

    <LINK rel=stylesheet href="index_files/blog_code.css">
    <script type="text/javascript" src="index_files/saveToCode.js"></script>
      <script type="text/javascript" src="index_files/main-1.js"></script>

     <LINK rel=stylesheet href="index_files/fa.css">

    <div class="pop_CA_cover" style="DISPLAY: none"></div>
    <div class="pop pop_CA" style="DISPLAY: none">
          <div class="CA_header">
            收藏助手
            <span class="cancel_icon" id="fapancle" onclick=""></span>
          </div>
          <iframe src="index_files/generated-content-1.html" id="fa" scrolling="no" frameborder="0" height="360" width="100%">
    &lt/div&gt
&lt/body&gt
&lt/html&gt   
 </iframe></div><div id="tag-suggest-pop">
  <div class="relative">
    <div class="close"></div>
    <div class="content"></div>
  </div>
</div><LINK rel=stylesheet type=text/css href="index_files/ask_float_fonts_css-6b30ab5c3a2a045e3df585b475.css" media=screen><div class="csdn-tracking-statistics" data-mod="popu_64" chg-blk="0"><a id="com-quick-reply" title="快速回复" ></a><a id="com-quick-collect" title="我要收藏" ></a><a id="com-d-top-a" title="返回顶部" onclick="" ></a> </div><div class="pop_edit ask_second comm_ask_second"><h3>提问</h3><span class="ask_float_span">您的问题将会被发布在“<a class="ask_float_channel" href="http://ask.csdn.net/" target="_blank" style="CURSOR: pointer">技术问答</a>”频道</span><A class=close href="#"  nodetype="close">×</a><div class="context"><div class="err_div"><span class="err_ico"></span><span class="err_txt">该问题已存在，请勿重复提问</span></div><div class="input_div"><input id="askInputSecond" style="FONT-SIZE: 14px" placeholder="问题标题"></div><div class="cm_box"><div class="cm_dialog"></div> <div class="pop_cm cm_add_link"><input id="af_cm_link_txt" placeholder="链接内容" ><input id="af_cm_link_url" placeholder="链接地址" ><input id="af_cm_link_tit" placeholder="链接提示" ><div class="text-right"><span class="btn btn-default btn-sm" id="add_link_btn">插入链接</span> </div> </div><div class="pop_cm cm_add_img"><div class="nav-tabs"><A class="img_tab active" href="#tab_upload">本地上传</a><A class=img_tab href="#tab_weburl">网络图片</a></div><div class="tab_panel active" id="tab_upload"><div class="set_img"><iframe src="index_files/upload.html.xhtml"></iframe></div></div><div class="tab_panel" id="tab_weburl"><input id="af_cm_img_url" placeholder="图片地址" ><input id="af_cm_img_alt" placeholder="图片说明" ><div class="text-right"><span class="btn btn-default btn-sm" id="add_img_btn">插入图片</span> </div></div> </div></div><TEXTAREA id=editor_all style="DISPLAY: none" rows=8></TEXTAREA><div class="editor-toolbar"><i class="separator">|</i><a class="icon-headline" title="标题一（Ctrl+Alt+1）"></a><a class="icon-heading" title="标题二（Ctrl+Alt+2）"></a><a class="icon-bold" title="粗体（Ctrl+B）"></a><a class="icon-italic" title="斜体（Ctrl+I）"></a><i class="separator">|</i><a class="icon-quote-left" title="引用（Ctrl+’）"></a><a class="icon-code" title="插入代码片（Ctrl+,）"></a><a class="icon-list-ul" title="无序列表（Ctrl+L）"></a><a class="icon-list-ol" title="有序列表（Ctrl+Alt+L）"></a><i class="separator">|</i><a class="icon-link" title="添加链接（Ctrl+K）"></a><a class="icon-picture" title="添加图片（Ctrl+Alt+I）"></a><i class="separator">|</i><a class="icon-reply" title="撤退（Ctrl+Z）"></a><a class="icon-share-alt" title="前进（Ctrl+Shift+Z）"></a><i class="separator">|</i><a class="icon-info" href="http://ask.csdn.net/pages/markdown" target="_blank" title="markdown语法参考"></a><a class="icon-preview" title="预览"></a><i class="separator">|</i></div><div class="CodeMirror cm-s-paper CodeMirror-focused"><div style="OVERFLOW: hidden; HEIGHT: 0px; WIDTH: 3px; POSITION: relative"><TEXTAREA spellcheck=false tabIndex=0 style="FONT-SIZE: 4px; HEIGHT: 1em; WIDTH: 1px; POSITION: absolute; OUTLINE-WIDTH: medium; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px" wrap=off autocapitalize="off" autocorrect="off"></TEXTAREA></div><div class="CodeMirror-hscrollbar"><div style="HEIGHT: 1px"></div></div><div class="CodeMirror-vscrollbar"><div style="WIDTH: 1px"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="MIN-WIDTH: 33px"><div style="POSITION: relative"><div class="CodeMirror-lines"><div style="POSITION: relative; OUTLINE-WIDTH: medium; OUTLINE-STYLE: none; OUTLINE-COLOR: invert"><div class="CodeMirror-measure"><pre>&nbsp;<span style="WIDTH: 1px; DISPLAY: inline-block; MARGIN-RIGHT: -1px">&nbsp;</span></pre></div><div style="POSITION: relative; Z-INDEX: 1"></div><div class="CodeMirror-code"></div><div class="CodeMirror-cursor" ></div><div class="CodeMirror-cursor CodeMirror-secondarycursor" ></div></div></div></div></div><div style="HEIGHT: 30px; WIDTH: 1px; POSITION: absolute"></div><div class="CodeMirror-gutters" style="DISPLAY: none"></div></div></div><div class="editor-statusbar"><span class="lines">0</span><span class="words">0</span><span class="cursor">0:0</span></div><div class="div_tags clearfix"><div id="divSearchTags" class="tags_con"><input ></div><input name="txtSearchTags" type="hidden"></div><div id="ask2_tagRecomm_div" class="drt_tagRecomm tracking-ad" data-mod="popu_73"><span class="drt_tit">推荐标签：</span></div></div><div class="success"><div class="left_area"><input id="chk_cb" type="checkbox"><span class="wyxs">我要悬赏</span><input id="cb_num" class="cb_num" readonly><span class="phib_rii"><span> 币</span></span></div><A class=cancel href="#"  nodetype="cancel">取消</a><A class=ok href="#"  nodetype="ok">发布</a></div></div><div id="common_ask_div_sc" class="searchContainer"><div class="sTitle">可能存在类似的问题：</div><div class="sFooter"><a class="sFirstNewAsk">我想提一个新问题</a></div></div><div id="mask_code"></div><div class="gist_edit"><div class="save_snippets clearfix"><div class="tit"><h3>保存代码片</h3><span>整理和分享保存的代码片，请访问<A href="https://code.csdn.net/snippets_manage" target=_blank>代码笔记</a></span></div><div class="con_form"><ul class="gist_edit_list clearfix"><li><span class="red">*</span><span class="txt">标题</span><input id="form_title" class="form-input" placeholder="IntelliJ IDEA平台下JNI编程（三）—字符串、数组" ><li><span class="red">*</span><span class="txt">描述</span><TEXTAREA id=form-textarea class=form-textarea placeholder="IntelliJ IDEA平台下JNI编程（三）—字符串、数组： http://blog.csdn.net/huachao1001/article/details/54407327"></TEXTAREA><li><span class="red">&nbsp;</span><span class="txt">标签</span><div id="divSearchTags"><span class="label blog_tag"><span>JNI</span><A title="Removing tag" href="javascript:void(0);">x</a></span><span class="label blog_tag"><span>intellij idea</span><A title="Removing tag" href="javascript:void(0);">x</a></span><input id="insertTag" class="insertTag" name="insertTag" maxlength="21" style="COLOR: rgb(51,51,51)" placeholder   ="请输入标签，按Enter生成(最多5项)"><input id="OrganTag" class="OrganTag" name="OrganTag" value="JNI,intellij" type="hidden" idea,=""><input id="OldOrganTag" class="OldOrganTag" name="OldOrganTag" type="hidden" ><input name="txtSearchTags" type="hidden"></div></li></ul></div><div class="bottom-bar"><A class="btn-submit btn-cancel" href="javascript:void(0);" >取消</a><span class="tracking-ad" data-mod="popu_250"><A class="btn-submit btn-confirm" href="javascript:void(0);">确定</a></span></div></div></div></body></html>