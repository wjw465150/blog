<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">

<HTML lang=en xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>TopLink Essentials JPA Extensions Reference</TITLE><!-- Run date = April 3, 2007 14:49:48 --><LINK 
title=Copyright href="cpyr.htm" type=text/html rel=copyright><LINK 
title="Oracle BLAFDoc" href="blafdoc.css" type=text/css rel=stylesheet><LINK 
title=Home href="index.htm" type=text/html rel=start></HEAD>

<BODY scroll=yes><!--StartFragment--><DIV class=header><A id=top name=top></A>
<DIV align=center>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/cpyr.htm"><IMG class=copyrightlogo height=18 alt="Oracle Logo" 
src="oracle.gif" width=144 border=0></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/index.html">TopLink JPA</A> - <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/index.html">TopLink 
Essentials JPA</A> - <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/resources-index.html">Resources</A> - <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/tutorials-index.html">Tutorials</A> - <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/how-to-index.html">How To's</A> - <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/examples-index.html">Examples</A> - <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/download.html">Downloads</A></P></DIV></DIV><!-- class="header" -->
<DIV class=ind><!-- End Header -->
<SCRIPT class=oac_no_warn type=text/javascript>
<!-- // <![CDATA[
window.name='toplink-jpa-extensions'
// ]]> -->
</SCRIPT>

<SCRIPT class=oac_no_warn type=text/javascript>
// <![CDATA[
function footdisplay(footnum,footnote) {
    var msg = window.open('', 'NewWindow' + footnum,
        'directories=no,height=120,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');

    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>');
    msg.document.write('Footnote ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><h1>Footnote ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/body><\/html>');
    msg.document.close();
    msg.focus();
}
// ]]>
</SCRIPT>
<NOSCRIPT>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</NOSCRIPT><A 
id=sthref1 name=sthref1></A>
<H1 class=chapter>TopLink Essentials JPA Extensions Reference</H1>
<P><SPAN class=bold>Version</SPAN>: 07/25/07<SPAN class=bold>GlassFish</SPAN>: 
Version 2, Build 54</P>
<P>The Java Persistence API (JPA), part of the Java Enterprise Edition 5 (Java 
EE 5) Enterprise Java Beans (EJB) 3.0 specification, greatly simplifies Java 
persistence and provides an object-relational mapping approach that allows you 
to declaratively define how to map Java objects to relational database tables in 
a standard, portable way that works both inside a Java EE 5 application server 
and outside an EJB container in a Java Standard Edition (Java SE) 5 
application.</P>
<P>TopLink Essentials is the JPA provider for the EJB 3.0 Reference 
Implementation. In addition to being JPA compliant, it also provides additional 
extensions beyond what is defined in the JPA specification.</P>
<P>This document summarizes these JPA extensions and explains where and how you 
use them to customize JPA behavior to meet your application requirements.</P>
<UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#persistence-xml">TopLink JPA Persistence Unit Extensions</A></P>
<UL>
<LI type=circle>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkJDBC">TopLink JPA Extensions for JDBC (Java SE)</A></P>
<LI type=circle>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkCaching">TopLink JPA Extensions for Caching</A></P>
<LI type=circle>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkLogging">TopLink JPA Extensions for Logging</A></P>
<LI type=circle>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkDBSessionAppServer">TopLink JPA Extensions for Database, 
Session, and Application Server</A></P>
<LI type=circle>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkCustomizationValidation">TopLink JPA Extensions for 
Customization</A></P>
<LI type=circle>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#Java2DBSchemaGen">TopLink JPA Extensions for Schema 
Generation</A></P></LI></UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAEBDJB">TopLink JPA Query Customization Extensions</A></P>
<UL>
<LI type=circle>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#QueryHints">TopLink JPA Query Hints</A></P>
<LI type=circle>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkQueryAPI">Using TopLink Query API in JPA 
Queries</A></P></LI></UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#LazyLoading">TopLink JPA Lazy Loading</A></P></LI></UL>
<P>For more information, see:</P>
<UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#IndexOfExtensions">Index of Extensions</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABICBE">History</A></P>
<LI type=disc>
<P><A 
href="http://jcp.org/aboutJava/communityprocess/pfd/jsr220/index.html">JSR-220 
Enterprise JavaBeans v.3.0</A> Java Persistence API specification</P>
<LI type=disc>
<P><A 
href="http://java.sun.com/javaee/5/docs/api/index.html?javax/persistence/package-summary.html">Complete 
JPA Javadoc</A></P></LI></UL><A id=persistence-xml name=persistence-xml></A>
<DIV class=sect1><!-- infolevel="all" infotype="General" -->
<H2 class=sect1>TopLink JPA Persistence Unit Extensions</H2>
<P>A persistence unit configures various details that are required when you 
acquire an entity manager. You specify a persistence unit by name when you 
acquire an entity manager factory.</P>
<P>You configure persistence units in JPA persistence descriptor file 
<CODE>persistence.xml</CODE>.</P>
<P>In this file, you can specify the vendor extensions that this reference 
describes by using a <CODE>&lt;properties&gt;</CODE> element. <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAHIFGI">Example 1-1</A> shows how to set a TopLink JPA persistence unit 
extension in a <CODE>persistence.xml</CODE> file for a Java EE application and 
<A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGACAA">Example 1-2</A> shows how to do the same for a Java SE 
application.</P>
<DIV class=example><A id=CJAHIFGI name=CJAHIFGI></A>
<P class=titleinexample>Example 1-1 Configuring a Vendor Extension in the 
Persistence.xml File (Java EE)</P><PRE class=oac_no_warn xml:space="preserve">&lt;persistence-unit name="default" transaction-type="JTA"&gt;
    &lt;provider&gt;
        oracle.toplink.essentials.PersistenceProvider
    &lt;/provider&gt;
    &lt;jta-data-source&gt;
        jdbc/MyDataSource
    &lt;/jta-data-source&gt;
    &lt;properties&gt;
        &lt;property name="toplink.logging.level" value="INFO"/&gt;
    &lt;/properties&gt;
&lt;/persistence-unit&gt;

</PRE></DIV><!-- class="example" -->
<DIV class=example><A id=CJAGACAA name=CJAGACAA></A>
<P class=titleinexample>Example 1-2 Configuring a Vendor Extension in the 
Persistence.xml File (Java SE)</P><PRE class=oac_no_warn xml:space="preserve">&lt;persistence-unit name="default" transaction-type="RESOURCE_LOCAL"&gt;
    &lt;provider&gt;
        oracle.toplink.essentials.PersistenceProvider
    &lt;/provider&gt;
    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;
    &lt;properties&gt;
        &lt;property name="toplink.logging.level" value="INFO"/&gt;
        &lt;property name="toplink.jdbc.driver" value="oracle.jdbc.OracleDriver"/&gt;
        &lt;property name="toplink.jdbc.url" value="jdbc:oracle:thin:@myhost:1521:MYSID"/&gt;
        &lt;property name="toplink.jdbc.password" value="tiger"/&gt;
        &lt;property name="toplink.jdbc.user" value="scott"/&gt;
    &lt;/properties&gt;
&lt;/persistence-unit&gt;

</PRE></DIV><!-- class="example" -->
<P>Alternatively, you can set a vendor extensions in the <CODE>Map</CODE> of 
properties you pass into a call to <CODE>javax.persistence.Persistence</CODE> 
method <CODE>createEntityManagerFactory</CODE> as <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFCEFC">Example 
1-3</A> shows. You can override extensions set in the 
<CODE>persistence.xml</CODE> file in this way. When you set an extension in a 
<CODE>Map</CODE> of properties, you can set the value using the public static 
final field in the appropriate configuration class in 
<CODE>oracle.toplink.essentials.config</CODE>, including:</P>
<UL>
<LI type=disc>
<P><CODE>CacheType</CODE></P>
<LI type=disc>
<P><CODE>TargetDatabase</CODE></P>
<LI type=disc>
<P><CODE>TargetServer</CODE></P>
<LI type=disc>
<P><CODE>TopLinkProperties</CODE></P></LI></UL>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFCEFC">Example 1-3</A> shows how to set the value of extension 
<CODE>toplink.cache.type.default</CODE> using the <CODE>CacheType</CODE> 
configuration class.</P>
<DIV class=example><A id=CJAFCEFC name=CJAFCEFC></A>
<P class=titleinexample>Example 1-3 Configuring a Vendor Extension When Creating 
an EntityManagerFactory</P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.CacheType;

Map properties = new HashMap();
properties.put(TopLinkProperties.CACHE_TYPE_DEFAULT, CacheType.Full);
EntityManagerFactory emf = Persistence.createEntityManagerFactory("default", properties);

</PRE></DIV><!-- class="example" -->
<P>This section describes the TopLink JPA vendor extensions that you can define 
in a persistence unit, including:</P>
<UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkJDBC">TopLink JPA Extensions for JDBC (Java SE)</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkCaching">TopLink JPA Extensions for Caching</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkLogging">TopLink JPA Extensions for Logging</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkDBSessionAppServer">TopLink JPA Extensions for Database, 
Session, and Application Server</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkCustomizationValidation">TopLink JPA Extensions for 
Customization</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#Java2DBSchemaGen">TopLink JPA Extensions for Schema 
Generation</A></P></LI></UL>
<P>You may specify any TopLink JPA extension in a <CODE>persistence.xml</CODE> 
file and you may pass any TopLink JPA extension into <CODE>Persistence</CODE> 
method <CODE>createEntityManagerFactory</CODE>.</P>
<P>Currently, no TopLink JPA extensions are applicable to 
<CODE>EntityManagerFactory</CODE> method <CODE>createEntityManager</CODE>.</P><A 
id=TopLinkJDBC name=TopLinkJDBC></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>TopLink JPA Extensions for JDBC (Java SE)</H3>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAJGAEC">Table 1-1</A> lists the TopLink JPA extensions that you 
can define in a <CODE>persistence.xml</CODE> file to configure JDBC driver 
parameters. These extensions apply only when used outside of a EJB 
container.</P>
<DIV class=tblruleformalwidemax><A id=sthref2 name=sthref2></A><A id=CJAJGAEC 
name=CJAJGAEC></A>
<P class=titleintable>Table 1-1 TopLink JPA Extensions for JDBC (Java SE)</P>
<TABLE class=RuleFormalWideMax dir=ltr 
title="TopLink JPA Extensions for JDBC (Java SE)" cellSpacing=0 cellPadding=3 
rules=all width="100%" 
summary="This table lists TopLink JPA persistence.xml extensions for TopLink JDBC (JSE)" 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t2 vAlign=bottom align=left>Property</TH>
<TH id=r1c2-t2 vAlign=bottom align=left>Usage</TH>
<TH id=r1c3-t2 vAlign=bottom align=left>Default</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t2 align=left headers=r1c1-t2><A 
id=toplink.jdbc.bind-parameters_persistence.xml 
name=toplink.jdbc.bind-parameters_persistence.xml></A>
<P><CODE>toplink.jdbc.bind-parameters</CODE></P></TD>
<TD align=left headers="r2c1-t2 r1c2-t2">
<P>Control whether or not the query uses parameter binding.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/optimiz010.htm#i1124456">"Parameterized 
SQL (Binding) and Prepared Statement Caching"</A>.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - bind all parameters.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not bind parameters.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.bind-parameters" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_BIND_PARAMETERS, "true");
</PRE></TD>
<TD align=left headers="r2c1-t2 r1c3-t2">
<P><CODE>true</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t2 align=left headers=r1c1-t2><A id=toplink.jdbc.driver 
name=toplink.jdbc.driver></A>
<P><CODE>toplink.jdbc.driver</CODE></P></TD>
<TD align=left headers="r3c1-t2 r1c2-t2">
<P>The class name of the JDBC driver you want to use, fully qualified by its 
package name. This class must be on your application classpath.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.driver" value="oracle.jdbc.driver.OracleDriver"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_DRIVER, "oracle.jdbc.driver.OracleDriver");
</PRE></TD>
<TD align=left headers="r3c1-t2 r1c3-t2"><BR></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t2 align=left headers=r1c1-t2><A id=toplink.jdbc.password 
name=toplink.jdbc.password></A>
<P><CODE>toplink.jdbc.password</CODE></P></TD>
<TD align=left headers="r4c1-t2 r1c2-t2">
<P>The password for your JDBC user.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.password" value="tiger"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_PASSWORD, "tiger");
</PRE></TD>
<TD align=left headers="r4c1-t2 r1c3-t2"><BR></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t2 align=left headers=r1c1-t2><A 
id=toplink.jdbc.read-connections.max name=toplink.jdbc.read-connections.max></A>
<P><CODE>toplink.jdbc.read-connections.max</CODE></P></TD>
<TD align=left headers="r5c1-t2 r1c2-t2">
<P>The maximum number of connections allowed in the JDBC read connection 
pool.</P>
<P><SPAN class=bold>Valid values</SPAN>: <CODE>0</CODE> to 
<CODE>Integer.MAX_VALUE</CODE> (depending on your JDBC driver) as a 
<CODE>String</CODE>.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.read-connections.max" value="3"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_READ_CONNECTIONS_MAX, "3");
</PRE></TD>
<TD align=left headers="r5c1-t2 r1c3-t2">
<P>2</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r6c1-t2 align=left headers=r1c1-t2><A 
id=toplink.jdbc.read-connections.min name=toplink.jdbc.read-connections.min></A>
<P><CODE>toplink.jdbc.read-connections.min</CODE></P></TD>
<TD align=left headers="r6c1-t2 r1c2-t2">
<P>The minimum number of connections allowed in the JDBC read connection 
pool.</P>
<P><SPAN class=bold>Valid values</SPAN>: <CODE>0</CODE> to 
<CODE>Integer.MAX_VALUE</CODE> (depending on your JDBC driver) as a 
<CODE>String</CODE>.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.read-connections.min" value="1"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_READ_CONNECTIONS_MIN, "1");
</PRE></TD>
<TD align=left headers="r6c1-t2 r1c3-t2">
<P>2</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r7c1-t2 align=left headers=r1c1-t2><A 
id=toplink.jdbc.read-connections.shared 
name=toplink.jdbc.read-connections.shared></A>
<P><CODE>toplink.jdbc.read-connections.shared</CODE></P></TD>
<TD align=left headers="r7c1-t2 r1c2-t2">
<P>Specify whether or not to allow concurrent use of shared read 
connections.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - allow concurrent use of shared read connections.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not allow the concurrent use of shared read 
connections; concurrent readers are each allocated their own read 
connection.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.read-connections.shared" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_READ_CONNECTIONS_SHARED, "true");
</PRE></TD>
<TD align=left headers="r7c1-t2 r1c3-t2">
<P><CODE>false</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r8c1-t2 align=left headers=r1c1-t2><A id=toplink.jdbc.url 
name=toplink.jdbc.url></A>
<P><CODE>toplink.jdbc.url</CODE></P></TD>
<TD align=left headers="r8c1-t2 r1c2-t2">
<P>The JDBC connection URL required by your JDBC driver.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.url" value="jdbc:oracle:thin:@MYHOST:1521:MYSID"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_URL, "jdbc:oracle:thin:@MYHOST:1521:MYSID");
</PRE></TD>
<TD align=left headers="r8c1-t2 r1c3-t2"><BR></TD></TR>
<TR vAlign=top align=left>
<TD id=r9c1-t2 align=left headers=r1c1-t2><A id=toplink.jdbc.user 
name=toplink.jdbc.user></A>
<P><CODE>toplink.jdbc.user</CODE></P></TD>
<TD align=left headers="r9c1-t2 r1c2-t2">
<P>The user name for your JDBC user.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.url" value="scott"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_USER, "scott");
</PRE></TD>
<TD align=left headers="r9c1-t2 r1c3-t2"><BR></TD></TR>
<TR vAlign=top align=left>
<TD id=r10c1-t2 align=left headers=r1c1-t2><A 
id=toplink.jdbc.write-connections.max 
name=toplink.jdbc.write-connections.max></A>
<P><CODE>toplink.jdbc.write-connections.max</CODE></P></TD>
<TD align=left headers="r10c1-t2 r1c2-t2">
<P>The maximum number of connections allowed in the JDBC write connection 
pool.</P>
<P><SPAN class=bold>Valid values</SPAN>: <CODE>0</CODE> to 
<CODE>Integer.MAX_VALUE</CODE> (depending on your JDBC driver) as a 
<CODE>String</CODE>.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.write-connections.max" value="5"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_WRITE_CONNECTIONS_MAX, "5");
</PRE></TD>
<TD align=left headers="r10c1-t2 r1c3-t2">
<P>10</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r11c1-t2 align=left headers=r1c1-t2><A 
id=toplink.jdbc.write-connections.min 
name=toplink.jdbc.write-connections.min></A>
<P><CODE>toplink.jdbc.write-connections.min</CODE></P></TD>
<TD align=left headers="r11c1-t2 r1c2-t2">
<P>The maximum number of connections allowed in the JDBC write connection 
pool.</P>
<P><SPAN class=bold>Valid values</SPAN>: <CODE>0</CODE> to 
<CODE>Integer.MAX_VALUE</CODE> (depending on your JDBC driver) as a 
<CODE>String</CODE>.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.jdbc.write-connections.min" value="2"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.JDBC_WRITE_CONNECTIONS_MIN, "2");
</PRE></TD>
<TD align=left headers="r11c1-t2 r1c3-t2">
<P>5</P></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalwidemax" --></DIV><!-- class="sect2" --><A 
id=TopLinkCaching name=TopLinkCaching></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>TopLink JPA Extensions for Caching</H3>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFFDEG">Table 1-2</A> lists the TopLink JPA extensions that you 
can define in a <CODE>persistence.xml</CODE> file to configure the TopLink 
cache.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/cachun.htm#CHEJAEBH">"Understanding 
the TopLink Cache"</A>.</P>
<DIV class=tblruleformalwidemax><A id=sthref3 name=sthref3></A><A id=CJAFFDEG 
name=CJAFFDEG></A>
<P class=titleintable>Table 1-2 TopLink JPA Extensions for Caching</P>
<TABLE class=RuleFormalWideMax dir=ltr 
title="TopLink JPA Extensions for Caching" cellSpacing=0 cellPadding=3 rules=all 
width="100%" 
summary="This table lists TopLink JPA persistence.xml extensions for the TopLink cache." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t3 vAlign=bottom align=left>Property</TH>
<TH id=r1c2-t3 vAlign=bottom align=left>Usage</TH>
<TH id=r1c3-t3 vAlign=bottom align=left>Default</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t3 align=left headers=r1c1-t3><A id=toplink.cache.type.default 
name=toplink.cache.type.default></A>
<P><CODE>toplink.cache.type.default</CODE></P></TD>
<TD align=left headers="r2c1-t3 r1c2-t3">
<P>The default type of session cache.</P>
<P>A session cache is a shared cache that services clients attached to a given 
session. When you read objects from or write objects to the data source using a 
client session, TopLink saves a copy of the objects in the parent server 
session's cache and makes them accessible to child client sessions.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.config.CacheType</CODE></P>
<UL>
<LI type=disc><A id=CacheType.Full name=CacheType.Full></A>
<P><CODE>Full</CODE> - This option provides full caching and guaranteed 
identity: objects are never flushed from memory unless they are deleted.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/cachun002.htm#CHEHGEEB">Full 
Identity Map</A></P>
<LI type=disc><A id=CacheType.HardWeak name=CacheType.HardWeak></A>
<P><CODE>HardWeak</CODE> - This option is similar to <CODE>Weak</CODE> except 
that it maintains a most frequently used subcache that uses hard references.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/cachun002.htm#CHEJDCBH">Hard 
Cache Weak Identity Maps</A></P>
<LI type=disc><A id=CacheType.NONE name=CacheType.NONE></A>
<P><CODE>NONE</CODE> - This option does not preserve object identity and does 
not cache objects. Oracle does not recommend using this option.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/cachun002.htm#CHEEBFCI">No 
Identity Map</A>.</P>
<LI type=disc><A id=CacheType.SoftWeak name=CacheType.SoftWeak></A>
<P><CODE>SoftWeak</CODE> - This option is similar to <CODE>Weak</CODE> except 
that it maintains a most frequently used subcache that uses soft references. 
Oracle recommends using this identity map in most circumstances as a means to 
control memory used by the cache.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/cachun002.htm#CHEJDCBH">Soft 
Cache Weak Identity Maps</A>.</P>
<LI type=disc><A id=CacheType.Weak name=CacheType.Weak></A>
<P><CODE>Weak</CODE> - This option is similar to <CODE>Full</CODE>, except that 
objects are referenced using weak references. This option uses less memory than 
<CODE>Full</CODE>, but does not provide a durable caching strategy across 
client/server transactions. Oracle recommends using this identity map for 
transactions that, once started, stay on the server side.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/cachun002.htm#CHEGIBAC">Weak 
Identity Map</A>.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.cache.type.default" value="Full"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.CacheType;
import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.CACHE_TYPE_DEFAULT, CacheType.Full);
</PRE></TD>
<TD align=left headers="r2c1-t3 r1c3-t3">
<P><CODE>SoftWeak</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t3 align=left headers=r1c1-t3><A id=toplink.cache.size.default 
name=toplink.cache.size.default></A>
<P><CODE>toplink.cache.size.default</CODE></P></TD>
<TD align=left headers="r3c1-t3 r1c2-t3">
<P>The default maximum number of objects allowed in a TopLink cache.</P>
<P><SPAN class=bold>Valid values</SPAN>: <CODE>0</CODE> to 
<CODE>Integer.MAX_VALUE</CODE> as a <CODE>String</CODE>.</P>
<P><SPAN class=bold>Example</SPAN>:</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.cache.size.default" value="5000"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.CACHE_SIZE_DEFAULT, 1000);
</PRE></TD>
<TD align=left headers="r3c1-t3 r1c3-t3">
<P>1000</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t3 align=left headers=r1c1-t3><A id=toplink.cache.shared.default 
name=toplink.cache.shared.default></A>
<P><CODE>toplink.cache.shared.default</CODE></P></TD>
<TD align=left headers="r4c1-t3 r1c2-t3">
<P>The default for whether or not the TopLink session cache is shared by 
multiple client sessions.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - The session cache services all clients attached to the 
session. When you read objects from or write objects to the data source using a 
client session, TopLink saves a copy of the objects in the parent server 
session's cache and makes them accessible to all other processes in the 
session.</P>
<LI type=disc>
<P><CODE>false</CODE> - The session cache services a single, isolated client 
exclusively. The isolated client can reference objects in a shared session cache 
but no client can reference objects in the isolated client's exclusive 
cache.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>:</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.cache.shared.default" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.CACHE_SHARED_DEFAULT, "true");
</PRE></TD>
<TD align=left headers="r4c1-t3 r1c3-t3">
<P><CODE>true</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t3 align=left headers=r1c1-t3><A id=toplink.cache.type.ENTITY 
name=toplink.cache.type.ENTITY></A>
<P><CODE>toplink.cache.type.&lt;ENTITY&gt;</CODE></P></TD>
<TD align=left headers="r5c1-t3 r1c2-t3">
<P>The type of session cache for the JPA entity named 
<CODE>&lt;ENTITY&gt;</CODE>.</P>
<P>For more information on entity names, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#Entity"><CODE>@Entity</CODE></A>.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.config.CacheType</CODE></P>
<UL>
<LI type=disc>
<P><CODE>Full</CODE> - see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#CacheType.Full"><CODE>toplink.cache.type.default</CODE></A>.</P>
<LI type=disc>
<P><CODE>HardWeak</CODE> - see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#CacheType.HardWeak"><CODE>toplink.cache.type.default</CODE></A>.</P>
<LI type=disc>
<P><CODE>NONE</CODE> - see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#CacheType.NONE"><CODE>toplink.cache.type.default</CODE></A>.</P>
<LI type=disc>
<P><CODE>SoftWeak</CODE> - see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#CacheType.SoftWeak"><CODE>toplink.cache.type.default</CODE></A>.</P>
<LI type=disc>
<P><CODE>Weak</CODE> - see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#CacheType.Weak"><CODE>toplink.cache.type.default</CODE></A>.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.cache.type.Order" value="Full"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.CacheType
import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.CACHE_TYPE+".Order", CacheType.Full);
</PRE></TD>
<TD align=left headers="r5c1-t3 r1c3-t3">
<P><CODE>SoftWeak</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r6c1-t3 align=left headers=r1c1-t3><A id=toplink.cache.size.ENTITY 
name=toplink.cache.size.ENTITY></A>
<P><CODE>toplink.cache.size.&lt;ENTITY&gt;</CODE></P></TD>
<TD align=left headers="r6c1-t3 r1c2-t3">
<P>The maximum number of JPA entities of the type denoted by JPA entity name 
<CODE>&lt;ENTITY&gt;</CODE> allowed in a TopLink cache.</P>
<P>For more information on entity names, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#Entity"><CODE>@Entity</CODE></A>.</P>
<P><SPAN class=bold>Valid values</SPAN>: <CODE>0</CODE> to 
<CODE>Integer.MAX_VALUE</CODE> as a <CODE>String</CODE>.</P>
<P><SPAN class=bold>Example</SPAN>:</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.cache.size.Order" value="5000"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.CACHE_SIZE+".Order", 1000);
</PRE></TD>
<TD align=left headers="r6c1-t3 r1c3-t3">
<P>1000</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r7c1-t3 align=left headers=r1c1-t3><A id=toplink.cache.shared.ENTITY 
name=toplink.cache.shared.ENTITY></A>
<P><CODE>toplink.cache.shared.&lt;ENTITY&gt;</CODE></P></TD>
<TD align=left headers="r7c1-t3 r1c2-t3">
<P>Whether or not the TopLink session cache is shared by multiple client 
sessions for JPA entities of the type denoted by JPA entity name 
<CODE>&lt;ENTITY&gt;</CODE>.</P>
<P>For more information on entity names, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#Entity"><CODE>@Entity</CODE></A>.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - The session cache services all clients attached to the 
session. When you read objects from or write objects to the data source using a 
client session, TopLink saves a copy of the objects in the parent server 
session's cache and makes them accessible to all other processes in the 
session.</P>
<LI type=disc>
<P><CODE>false</CODE> - The session cache services a single, isolated client 
exclusively. The isolated client can reference objects in a shared session cache 
but no client can reference objects in the isolated client's exclusive 
cache.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>:</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.cache.shared.Order" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(ToplinkProperties.CACHE_SHARED+".Order", "true");
</PRE></TD>
<TD align=left headers="r7c1-t3 r1c3-t3">
<P><CODE>true</CODE></P></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalwidemax" --></DIV><!-- class="sect2" --><A 
id=TopLinkLogging name=TopLinkLogging></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>TopLink JPA Extensions for Logging</H3>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAHJIJH">Table 1-3</A> lists the TopLink JPA extensions that you 
can define in a <CODE>persistence.xml</CODE> file to configure TopLink 
logging.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/sesun002.htm#i1122078">"Logging"</A>.</P>
<DIV class=tblruleformalwidemax><A id=sthref4 name=sthref4></A><A id=CJAHJIJH 
name=CJAHJIJH></A>
<P class=titleintable>Table 1-3 TopLink JPA Extensions for Logging</P>
<TABLE class=RuleFormalWideMax dir=ltr 
title="TopLink JPA Extensions for Logging" cellSpacing=0 cellPadding=3 rules=all 
width="100%" 
summary="This table lists TopLink JPA persistence.xml extensions for TopLink logging." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t4 vAlign=bottom align=left>Property</TH>
<TH id=r1c2-t4 vAlign=bottom align=left>Usage</TH>
<TH id=r1c3-t4 vAlign=bottom align=left>Default</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t4 align=left headers=r1c1-t4><A id=toplink.logging.logger 
name=toplink.logging.logger></A>
<P><CODE>toplink.logging.logger</CODE></P></TD>
<TD align=left headers="r2c1-t4 r1c2-t4">
<P>Select the type of logger to use:</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>DefaultLogger</CODE> - the TopLink Essentials native logger 
<CODE>oracle.toplink.essentials.logging.DefaultSessionLog</CODE>.</P>
<LI type=disc>
<P><CODE>JavaLogger</CODE> - the <CODE>java.util.logging</CODE> logger 
<CODE>oracle.toplink.essentials.logging.JavaLog</CODE>.</P>
<LI type=disc>
<P>Fully qualified class name of a custom logger. The custom logger must 
implement the <CODE>oracle.toplink.essentials.logging.SessionLog</CODE> 
interface.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.logging.logger" value="JavaLogger"/&gt;
&lt;property name="toplink.logging.logger" value="acme.loggers.MyCustomLogger" /&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
import oracle.toplink.essentials.config.LoggerType;
propertiesMap.put(TopLinkProperties.LOGGING_LOGGER, LoggerType.JavaLogger);
propertiesMap.put(TopLinkProperties.LOGGING_LOGGER, "acme.loggers.MyCustomLogger");
</PRE></TD>
<TD align=left headers="r2c1-t4 r1c3-t4">
<P><CODE>DefaultLogger</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t4 align=left headers=r1c1-t4><A id=toplink.logging.level 
name=toplink.logging.level></A>
<P><CODE>toplink.logging.level</CODE></P></TD>
<TD align=left headers="r3c1-t4 r1c2-t4">
<P>Control the amount and detail of log output by configuring the log level (in 
ascending order of information):</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>java.util.logging.Level</CODE></P>
<UL>
<LI type=disc>
<P><CODE>OFF</CODE> - disable logging</P>
<LI type=disc>
<P><CODE>SEVERE</CODE> - Logs exceptions indicating TopLink cannot continue, as 
well as any exceptions generated during login. This includes a stack trace.</P>
<LI type=disc>
<P><CODE>WARNING</CODE> - Logs exceptions that do not force TopLink to stop, 
including all exceptions not logged with severe level. This does not include a 
stack trace.</P>
<LI type=disc>
<P><CODE>INFO</CODE> - Logs the login/logout per sever session, including the 
user name. After acquiring the session, detailed information is logged.</P>
<LI type=disc>
<P><CODE>CONFIG</CODE> - Logs only login, JDBC connection, and database 
information.</P>
<LI type=disc>
<P><CODE>FINE</CODE> - Logs SQL.</P>
<LI type=disc>
<P><CODE>FINER</CODE> - Similar to warning. Includes stack trace.</P>
<LI type=disc>
<P><CODE>FINEST</CODE> - Includes additional low level 
information.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.logging.level" value="WARNING"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import java.util.logging.Level;
import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.LOGGING_LEVEL, Level.INFO);
</PRE></TD>
<TD align=left headers="r3c1-t4 r1c3-t4">
<P><CODE>INFO</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t4 align=left headers=r1c1-t4><A id=toplink.logging.level.CATEGORY 
name=toplink.logging.level.CATEGORY></A>
<P><CODE>toplink.logging.level.&lt;CATEGORY&gt;</CODE></P></TD>
<TD align=left headers="r4c1-t4 r1c2-t4">
<P>Control the log level for a specific log category.</P>Valid 
<CODE>&lt;CATEGORY&gt;</CODE> values are defined in 
<CODE>oracle.toplink.essentials.logging.SessionLog</CODE>:
<P></P>
<UL>
<LI><CODE>SQL</CODE> - SQL logs 
<LI><CODE>TRANSACTION</CODE> - transaction related logs 
<LI><CODE>EVENT</CODE> - event related logs 
<LI><CODE>CONNECTION</CODE> - <CODE>Session</CODE> related logs 
<LI><CODE>QUERY</CODE> - <CODE>DatabaseQuery</CODE> related logs 
<LI><CODE>CACHE</CODE> - shared cache logs 
<LI><CODE>SEQUENCING</CODE> - sequencing generator logs 
<LI><CODE>EJB</CODE> - EJB logs 
<LI><CODE>DMS</CODE> - Oracle Dynamic Monitoring System related logs 
<LI><CODE>EJB_OR_METADATA</CODE> - metadata processing logs 
<LI><CODE>WEAVER</CODE> - class weaver logs 
<LI><CODE>PROPERTIES</CODE> - deployment-time properties handler logs </LI></UL>
<P>Valid values are defined in <CODE>java.util.logging.Level</CODE>.</P>
<P>If there is no category-specific level, the level set with <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.level"><CODE>toplink.logging.level</CODE></A> (default: 
<CODE>INFO</CODE>) is used.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.logging.level.sql" value="WARNING"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import java.util.logging.Level;
import oracle.toplink.essentials.config.TopLinkProperties;
import oracle.toplink.essentials.logging.SessionLog;
propertiesMap.put(TopLinkProperties.LOGGING_LEVEL+"."+SessionLog.SQL, Level.WARNING);
</PRE></TD>
<TD align=left headers="r4c1-t4 r1c3-t4"><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.level"><CODE>toplink.logging.level</CODE></A></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t4 align=left headers=r1c1-t4><A id=toplink.logging.timestamp 
name=toplink.logging.timestamp></A>
<P><CODE>toplink.logging.timestamp</CODE></P></TD>
<TD align=left headers="r4c1-t4 r1c2-t4">
<P>Control whether the timestamp is logged in each log entry.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - log a timestamp.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not log a timestamp.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.logging.timestamp" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.LOGGING_TIMESTAMP, "true");
</PRE></TD>
<TD align=left headers="r4c1-t4 r1c3-t4">
<P><CODE>true</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t4 align=left headers=r1c1-t4><A id=toplink.logging.thread 
name=toplink.logging.thread></A>
<P><CODE>toplink.logging.thread</CODE></P></TD>
<TD align=left headers="r5c1-t4 r1c2-t4">
<P>Control whether a thread identifier is logged in each log entry.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - log a thread identifier.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not log a thread identifier.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.logging.thread" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.LOGGING_THREAD, "true");
</PRE></TD>
<TD align=left headers="r5c1-t4 r1c3-t4">
<P><CODE>true</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r6c1-t4 align=left headers=r1c1-t4><A id=toplink.logging.session 
name=toplink.logging.session></A>
<P><CODE>toplink.logging.session</CODE></P></TD>
<TD align=left headers="r6c1-t4 r1c2-t4">
<P>Control whether a TopLink session identifier is logged in each log entry.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - log a TopLink session identifier.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not log a TopLink session identifier.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.logging.session" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.LOGGING_SESSION, "true");
</PRE></TD>
<TD align=left headers="r6c1-t4 r1c3-t4">
<P><CODE>true</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r7c1-t4 align=left headers=r1c1-t4><A id=toplink.logging.exceptions 
name=toplink.logging.exceptions></A>
<P><CODE>toplink.logging.exceptions</CODE></P></TD>
<TD align=left headers="r7c1-t4 r1c2-t4">
<P>Control whether the exceptions thrown from within the TopLink code are logged 
prior to returning the exception to the calling application. Ensures that all 
exceptions are logged and not masked by the application code.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - log all exceptions.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not log exceptions.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.logging.exceptions" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.LOGGING_EXCEPTIONS, "true");
</PRE></TD>
<TD align=left headers="r7c1-t4 r1c3-t4">
<P><CODE>false</CODE></P></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalwidemax" --></DIV><!-- class="sect2" --><A 
id=TopLinkDBSessionAppServer name=TopLinkDBSessionAppServer></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>TopLink JPA Extensions for Database, Session, and Application 
Server</H3>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAEBIJC">Table 1-4</A> lists the TopLink JPA extensions that you 
can define in a <CODE>persistence.xml</CODE> file to configure TopLink 
extensions for database, session, and application server.</P>
<DIV class=tblruleformalwidemax><A id=sthref5 name=sthref5></A><A id=CJAEBIJC 
name=CJAEBIJC></A>
<P class=titleintable>Table 1-4 TopLink JPA Extensions for Database, Session, 
and Application Server</P>
<TABLE class=RuleFormalWideMax dir=ltr 
title="TopLink JPA Extensions for Database, Session, and Application Server" 
cellSpacing=0 cellPadding=3 rules=all width="100%" 
summary="This table lists TopLink JPA persistence.xml extensions for TopLink database, session, and pplication server." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t5 vAlign=bottom align=left>Property</TH>
<TH id=r1c2-t5 vAlign=bottom align=left>Usage</TH>
<TH id=r1c3-t5 vAlign=bottom align=left>Default</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t5 align=left headers=r1c1-t5><A id=toplink.target-database 
name=toplink.target-database></A>
<P><CODE>toplink.target-database</CODE></P></TD>
<TD align=left headers="r2c1-t5 r1c2-t5">
<P>Specify the type of database that your JPA application uses. The 
<CODE>TargetDatabase</CODE> enum contains an entry for many of the more common 
database types supported.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.config.TargetDatabase</CODE></P>
<UL>
<LI type=disc>
<P><CODE>Attunity</CODE> - configure the persistence provider to use an Attunity 
database.</P>
<LI type=disc>
<P><CODE>Auto</CODE> - TopLink accesses the database and uses the metadata that 
JDBC provides to determine the target database. Applicable to JDBC drives that 
support this metadata.</P>
<LI type=disc>
<P><CODE>Cloudscape</CODE> - configure the persistence provider to use a 
Cloudscape database.</P>
<LI type=disc>
<P><CODE>Database</CODE> - configure the persistence provider to use a generic 
choice if your target database is not listed here and your JDBC driver does not 
support the use of metadata that the <CODE>Auto</CODE> option requires.</P>
<LI type=disc>
<P><CODE>DB2</CODE> - configure the persistence provider to use a DB2 
database.</P>
<LI type=disc>
<P><CODE>DB2Mainframe</CODE> - configure the persistence provider to use a 
DB2Mainframe database.</P>
<LI type=disc>
<P><CODE>DBase</CODE> - configure the persistence provider to use a DBase 
database.</P>
<LI type=disc>
<P><CODE>Derby</CODE> - configure the persistence provider to use a Derby 
database.</P>
<LI type=disc>
<P><CODE>HSQL</CODE> - configure the persistence provider to use an HSQL 
database.</P>
<LI type=disc>
<P><CODE>Informix</CODE> - configure the persistence provider to use an Informix 
database.</P>
<LI type=disc>
<P><CODE>JavaDB</CODE> - configure the persistence provider to use a JavaDB 
database.</P>
<LI type=disc>
<P><CODE>MySQL4</CODE> - configure the persistence provider to use a MySQL4 
database.</P>
<LI type=disc>
<P><CODE>Oracle</CODE> - configure the persistence provider to use an Oracle 
database.</P>
<LI type=disc>
<P><CODE>PointBase</CODE> - configure the persistence provider to use a 
PointBase database.</P>
<LI type=disc>
<P><CODE>PostgreSQL</CODE> - configure the persistence provider to use a 
PostgreSQL database.</P>
<LI type=disc>
<P><CODE>SQLAnyWhere</CODE> - configure the persistence provider to use an 
SQLAnyWhere database.</P>
<LI type=disc>
<P><CODE>SQLServer</CODE> - configure the persistence provider to use an 
SQLServer database.</P>
<LI type=disc>
<P><CODE>Sybase</CODE> - configure the persistence provider to use a Sybase 
database.</P>
<LI type=disc>
<P><CODE>TimesTen</CODE> - configure the persistence provider to use a TimesTen 
database.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.target-database" value="Oracle"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TargetDatabase;
import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.TARGET_DATABASE, TargetDatabase.Oracle);
</PRE></TD>
<TD align=left headers="r2c1-t5 r1c3-t5">
<P><CODE>Auto</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t5 align=left headers=r1c1-t5><A id=toplink.session-name 
name=toplink.session-name></A>
<P><CODE>toplink.session-name</CODE></P></TD>
<TD align=left headers="r3c1-t5 r1c2-t5">
<P>Specify the name by which the TopLink session is stored in the static session 
manager. Use this option if you need to access the TopLink shared session 
outside of the context of the Java Persistence API.</P>
<P><SPAN class=bold>Valid values</SPAN>: a valid TopLink session name that is 
unique in a server deployment.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.session-name" value="MySession"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.SESSION_NAME, "MySession");
</PRE></TD>
<TD align=left headers="r3c1-t5 r1c3-t5">
<P>TopLink generated unique name.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t5 align=left headers=r1c1-t5><A id=toplink.target-server 
name=toplink.target-server></A>
<P><CODE>toplink.target-server</CODE></P></TD>
<TD align=left headers="r4c1-t5 r1c2-t5">
<P>Specify the type of application server that your JPA application uses:</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.config.TargetServer</CODE></P>
<UL>
<LI type=disc>
<P><CODE>None</CODE> - configure the persistence provider to use no application 
server.</P>
<LI type=disc>
<P><CODE>OC4J_10_1_3</CODE> - configure the persistence provider to use OC4J 
10.1.3.0.</P>
<LI type=disc>
<P><CODE>SunAS9</CODE> - configure the persistence provider to use Sun 
Application Server version 9.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.target-server" value="OC4J_10_1_3"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TargetServer;
import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.TARGET_SERVER, TargetServer.OC4J_10_1_3);
</PRE></TD>
<TD align=left headers="r4c1-t5 r1c3-t5">
<P><CODE>None</CODE></P></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalwidemax" --></DIV><!-- class="sect2" --><A 
id=TopLinkCustomizationValidation name=TopLinkCustomizationValidation></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>TopLink JPA Extensions for Customization</H3>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJADHEEB">Table 1-5</A> lists the TopLink JPA extensions that you 
can define in a <CODE>persistence.xml</CODE> file to configure TopLink 
customization and validation.</P>
<DIV class=tblruleformalwidemax><A id=sthref6 name=sthref6></A><A id=CJADHEEB 
name=CJADHEEB></A>
<P class=titleintable>Table 1-5 TopLink JPA Extensions for Customization and 
Validation</P>
<TABLE class=RuleFormalWideMax dir=ltr 
title="TopLink JPA Extensions for Customization and Validation" cellSpacing=0 
cellPadding=3 rules=all width="100%" 
summary="This table lists TopLink JPA persistence.xml extensions for TopLink customization and validation." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t6 vAlign=bottom align=left>Property</TH>
<TH id=r1c2-t6 vAlign=bottom align=left>Usage</TH>
<TH id=r1c3-t6 vAlign=bottom align=left>Default</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t6 align=left headers=r1c1-t6><A id=toplink.orm.throw.exceptions 
name=toplink.orm.throw.exceptions></A>
<P><CODE>toplink.orm.throw.exceptions</CODE></P></TD>
<TD align=left headers="r2c1-t6 r1c2-t6">
<P>Specify whether or not TopLink JPA should throw an exception or log a warning 
when it encounters a problem with any of the files listed in a 
<CODE>persistence.xml</CODE> file <CODE>&lt;mapping-file&gt;</CODE> element.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - throw exceptions.</P>
<LI type=disc>
<P><CODE>false</CODE> - log warning only.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="oracle.orm.throw.exceptions" value="false"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider;
propertiesMap.put(EntityManagerFactoryProvider.TOPLINK_ORM_THROW_EXCEPTIONS, "false");
</PRE></TD>
<TD align=left headers="r2c1-t6 r1c3-t6">
<P><CODE>true</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t6 align=left headers=r1c1-t6><A id=toplink.weaving 
name=toplink.weaving></A>
<P><CODE>toplink.weaving</CODE></P></TD>
<TD align=left headers="r3c1-t6 r1c2-t6">
<P>Control whether or not the weaving of the entity classes is performed. 
Weaving is required in order to use lazy fetching of <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#OneToOne"><CODE>@OneToOne</CODE></A> 
and <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#OneToMany"><CODE>@ManyToOne</CODE></A> 
relationships.</P>
<P><SPAN class=bold>Valid values</SPAN>:</P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - weave entity classes.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not weave entity classes.</P>
<LI type=disc>
<P><CODE>static</CODE> - weave entity classes statically.</P>
<P>Use this option if you plan to execute your application outside of a Java EE 
5 container in an environment that does not permit the use of 
<CODE>-javaagent:toplink-essentials-agent.jar</CODE> on the JVM command 
line.</P></LI></UL>
<P>For more information, including the option of using the TopLink JPA 
<CODE>weave</CODE> Ant task, see <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#LazyLoading">TopLink JPA Lazy 
Loading</A>.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.weaving" value="true"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.WEAVING, "true");
</PRE></TD>
<TD align=left headers="r3c1-t6 r1c3-t6">
<P><CODE>true</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t6 align=left headers=r1c1-t6><A id=toplink.session.customizer 
name=toplink.session.customizer></A>
<P><CODE>toplink.session.customizer</CODE></P></TD>
<TD align=left headers="r4c1-t6 r1c2-t6">
<P>Specify a TopLink session customizer class: a Java class that implements the 
<CODE>oracle.toplink.essentials.tools.sessionconfiguration.SessionCustomizer</CODE> 
interface and provides a default (zero-argument) constructor. Use this class's 
<CODE>customize</CODE> method, which takes an 
<CODE>oracle.toplink.essentials.sessions.Session</CODE>, to programmatically 
access advanced TopLink session API.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/sesun002.htm#sthref4379">"Session 
Customization"</A>.</P>
<P><SPAN class=bold>Valid values</SPAN>: class name of a 
<CODE>SessionCustomizer</CODE> class fully qualified by its package name.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.session.customizer" value="acme.sessions.MySessionCustomizer"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.SESSION_CUSTOMIZER, "acme.sessions.MySessionCustomizer");
</PRE></TD>
<TD align=left headers="r4c1-t6 r1c3-t6"><BR></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t6 align=left headers=r1c1-t6><A 
id=toplink.descriptor.customizer.ENTITY 
name=toplink.descriptor.customizer.ENTITY></A>
<P><CODE>toplink.descriptor.customizer.&lt;ENTITY&gt;</CODE></P></TD>
<TD align=left headers="r5c1-t6 r1c2-t6">
<P>Specify a TopLink descriptor customizer class: a Java class that implements 
the 
<CODE>oracle.toplink.essentials.tools.sessionconfiguration.DescriptorCustomizer</CODE> 
interface and provides a default (zero-argument) constructor. Use this class's 
<CODE>customize</CODE> method, which takes an 
<CODE>oracle.toplink.essentials.descriptors.ClassDescriptor</CODE>, to 
programmatically access advanced TopLink descriptor and mapping API for the 
descriptor associated with the JPA entity named <CODE>&lt;ENTITY&gt;</CODE>.</P>
<P>For more information on entity names, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#Entity"><CODE>@Entity</CODE></A>.</P>
<P>For more information on TopLink descriptors, see:</P>
<UL>
<LI type=disc>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/descun.htm#CHECEAAE">"Understanding 
Descriptors"</A></P>
<LI type=disc>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/descun002.htm#CHEIGIHG">"Descriptor 
Customization"</A></P></LI></UL>
<P><SPAN class=bold>Valid values</SPAN>: class name of a 
<CODE>DescriptorCustomizer</CODE> class fully qualified by its package name.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.descriptor.customizer.Order" value="acme.sessions.MyDescriptorCustomizer"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.TopLinkProperties;
propertiesMap.put(TopLinkProperties.DESCRIPTOR_CUSTOMIZER+".Order", "acme.sessions.MyDescriptorCustomizer");
</PRE></TD>
<TD align=left 
headers="r5c1-t6 r1c3-t6"><BR></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalwidemax" --></DIV><!-- class="sect2" --><A 
id=Java2DBSchemaGen name=Java2DBSchemaGen></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>TopLink JPA Extensions for Schema Generation</H3>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAJIIIA">Table 1-6</A> lists the TopLink JPA extensions that you 
can define in a <CODE>persistence.xml</CODE> file to configure schema 
generation.</P>
<DIV class=tblruleformalwidemax><A id=sthref7 name=sthref7></A><A id=CJAJIIIA 
name=CJAJIIIA></A>
<P class=titleintable>Table 1-6 TopLink JPA Extensions for Schema Generation</P>
<TABLE class=RuleFormalWideMax dir=ltr 
title="TopLink JPA Extensions for Schema Generation" cellSpacing=0 cellPadding=3 
rules=all width="100%" 
summary="This table lists TopLink JPA persistence.xml extensions for Java2DB schema generation." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t7 vAlign=bottom align=left>Property</TH>
<TH id=r1c2-t7 vAlign=bottom align=left>Usage</TH>
<TH id=r1c3-t7 vAlign=bottom align=left>Default</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t7 align=left headers=r1c1-t7><A id=toplink.ddl-generation 
name=toplink.ddl-generation></A>
<P><CODE>toplink.ddl-generation</CODE></P></TD>
<TD align=left headers="r2c1-t7 r1c2-t7">
<P>Specify what Data Descriptor Language (DDL) generation action you want for 
your JPA entities. To specify the DDL generation target, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation.output-mode"><CODE>toplink.ddl-generation.output-mode</CODE></A>.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider</CODE></P>
<UL>
<LI type=disc>
<P><CODE>none</CODE> - do not generate DDL; no schema is generated.</P>
<LI type=disc>
<P><CODE>create-tables</CODE> - create DDL for non-existent tables; leave 
existing tables unchanged (see also <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A>).</P>
<LI type=disc>
<P><CODE>drop-and-create-tables</CODE> - create DDL for all tables; drop all 
existing tables (see also <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A> 
and <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.drop-ddl-jdbc-file-name"><CODE>toplink.drop-ddl-jdbc-file-name</CODE></A>).</P></LI></UL>
<P>If you are using persistence outside the EJB container and would like to 
create the DDL files without creating tables, additionally define a Java system 
property <CODE>INTERACT_WITH_DB</CODE> and set its value to 
<CODE>false</CODE>.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.ddl-generation" value="create-tables"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider;
propertiesMap.put(EntityManagerFactoryProvider.DDL_GENERATION, EntityManagerFactoryProvider.CREATE_ONLY);
</PRE></TD>
<TD align=left headers="r2c1-t7 r1c3-t7">
<P><CODE>none</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t7 align=left headers=r1c1-t7><A id=toplink.application-location 
name=toplink.application-location></A>
<P><CODE>toplink.application-location</CODE></P></TD>
<TD align=left headers="r3c1-t7 r1c2-t7">
<P>Specify where TopLink should write generated DDL files (see <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A> 
and <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.drop-ddl-jdbc-file-name"><CODE>toplink.drop-ddl-jdbc-file-name</CODE></A>). 
Files are written if <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to anything other than <CODE>none</CODE>.</P>
<P><SPAN class=bold>Valid values</SPAN>: a file specification to a directory in 
which you have write access. The file specification may be relative to your 
current working directory or absolute. If it does not end in a file separator, 
TopLink will append one valid for your operating system.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.application-location" value="C:\ddl\"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider;
propertiesMap.put(EntityManagerFactoryProvider.APP_LOCATION, "C:\ddl\");
</PRE></TD>
<TD align=left headers="r3c1-t7 r1c3-t7">
<P><CODE>"."+File.separator</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t7 align=left headers=r1c1-t7><A 
id=toplink.create-ddl-jdbc-file-name name=toplink.create-ddl-jdbc-file-name></A>
<P><CODE>toplink.create-ddl-jdbc-file-name</CODE></P></TD>
<TD align=left headers="r4c1-t7 r1c2-t7">
<P>Specify the file name of the SQL file that TopLink generates containing SQL 
statements to create tables for JPA entities. This file is written to the 
location specified by <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A> 
when <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to <CODE>create-tables</CODE> or <CODE>drop-and-create-tables</CODE>.</P>
<P><SPAN class=bold>Valid values</SPAN>: a file name valid for your operating 
system. Optionally, you may prefix the file name with a file path as long as the 
concatenation of <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A> 
+ <CODE>toplink.create-ddl-jdbc-file-name</CODE> is a valid file specification 
for your operating system.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.create-ddl-jdbc-file-name" value="create.sql"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider;
propertiesMap.put(EntityManagerFactoryProvider.CREATE_JDBC_DDL_FILE, "create.sql");
</PRE></TD>
<TD align=left headers="r4c1-t7 r1c3-t7">
<P><CODE>createDDL.jdbc</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t7 align=left headers=r1c1-t7><A id=toplink.drop-ddl-jdbc-file-name 
name=toplink.drop-ddl-jdbc-file-name></A>
<P><CODE>toplink.drop-ddl-jdbc-file-name</CODE></P></TD>
<TD align=left headers="r5c1-t7 r1c2-t7">
<P>Specify the file name of the SQL file that TopLink generates containing the 
SQL statements to drop tables for JPA entities. This file is written to the 
location specified by <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A> 
when <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to <CODE>drop-and-create-tables</CODE></P>
<P><SPAN class=bold>Valid values</SPAN>: a file name valid for your operating 
system. Optionally, you may prefix the file name with a file path as long as the 
concatenation of <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A> 
+ <CODE>toplink.drop-ddl-jdbc-file-name</CODE> is a valid file specification for 
your operating system.</P>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.drop-ddl-jdbc-file-name" value="drop.sql"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider;
propertiesMap.put(EntityManagerFactoryProvider.DROP_JDBC_DDL_FILE, "drop.sql");
</PRE></TD>
<TD align=left headers="r5c1-t7 r1c3-t7">
<P><CODE>dropDDL.jdbc</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r6c1-t7 align=left headers=r1c1-t7><A 
id=toplink.ddl-generation.output-mode 
name=toplink.ddl-generation.output-mode></A>
<P><CODE>toplink.ddl-generation.output-mode</CODE></P></TD>
<TD align=left headers="r6c1-t7 r1c2-t7">
<P>Use this property to specify the DDL generation target.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider</CODE></P>
<UL>
<LI type=disc>
<P><CODE>both</CODE> - generate SQL files and execute them on the database.</P>
<P>If <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to <CODE>create-tables</CODE>, then <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A> 
is written to <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A> 
and executed on the database.</P>
<P>If <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to <CODE>drop-and-create-tables</CODE>, then both <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A> 
and <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.drop-ddl-jdbc-file-name"><CODE>toplink.drop-ddl-jdbc-file-name</CODE></A> 
are written to <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A> 
and both SQL files are executed on the database.</P>
<LI type=disc>
<P><CODE>database</CODE> - execute SQL on the database only (do not generate SQL 
files).</P>
<P>If <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to <CODE>create-tables</CODE>, then <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A> 
is executed on the database. It is not written to <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A>.</P>
<P>If <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to <CODE>drop-and-create-tables</CODE>, then both <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A> 
and <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.drop-ddl-jdbc-file-name"><CODE>toplink.drop-ddl-jdbc-file-name</CODE></A> 
are executed on the database. Neither is written to <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A>.</P>
<LI type=disc>
<P><CODE>sql-script</CODE> - generate SQL files only (do not execute them on the 
database).</P>
<P>If <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to <CODE>create-tables</CODE>, then <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A> 
is written to <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A>. 
It is not executed on the database.</P>
<P>If <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A> 
is set to <CODE>drop-and-create-tables</CODE>, then both <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A> 
and <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.drop-ddl-jdbc-file-name"><CODE>toplink.drop-ddl-jdbc-file-name</CODE></A> 
are written to <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A>. 
Neither is executed on the database.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: <CODE>persistence.xml</CODE> file</P><PRE class=oac_no_warn xml:space="preserve">&lt;property name="toplink.ddl-generation.output-mode" value="database"/&gt;
</PRE>
<P><SPAN class=bold>Example</SPAN>: property <CODE>Map</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider;
propertiesMap.put(EntityManagerFactoryProvider.DDL_GENERATION_MODE, EntityManagerFactoryProvider.DDL_DATABASE_GENERATION);
</PRE></TD>
<TD align=left headers="r6c1-t7 r1c3-t7">
<UL>
<LI>
<P>In Java EE mode (when <CODE>createContainerEntityManagerFactory</CODE> is 
called), default is: <CODE>sql-script</CODE></P><BR><BR>
<P><SPAN class=bold>NOTE</SPAN>: This setting may be overridden by containers 
with specific TopLink support. Please see your container documentation for 
details.</P><BR><BR>
<LI>
<P>In Java SE mode (when <CODE>createEntityManagerFactory</CODE> is called), 
default is: <CODE>both</CODE></P></LI></UL></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalwidemax" --></DIV><!-- class="sect2" --></DIV><!-- class="sect1" --><A 
id=CJAEBDJB name=CJAEBDJB></A>
<DIV class=sect1>
<H2 class=sect1>TopLink JPA Query Customization Extensions</H2>
<P>This section describes:</P>
<UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#QueryHints">TopLink JPA Query Hints</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#TopLinkQueryAPI">Using TopLink Query API in JPA 
Queries</A></P></LI></UL><A id=QueryHints name=QueryHints></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>TopLink JPA Query Hints</H3>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJADBHCE">Table 1-7</A> lists the TopLink JPA query hints that you 
can specify when you construct a JPA query as <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGAFIC">Example 
1-4</A> shows or when you specify a JPA query using the <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#QueryHint"><CODE>@QueryHint</CODE></A> 
annotation as <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJADBIHF">Example 1-5</A> shows.</P>
<P>When you set a hint, you can set the value using the public static final 
field in the appropriate configuration class in 
<CODE>oracle.toplink.essentials.config</CODE>, including:</P>
<UL>
<LI type=disc>
<P><CODE>PessimisticLock</CODE></P>
<LI type=disc>
<P><CODE>TopLinkQueryHints</CODE></P>
<LI type=disc>
<P><CODE>HintValues</CODE></P></LI></UL>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGAFIC">Example 1-4</A> and <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJADBIHF">Example 1-5</A> 
shows how to set the value of hint <CODE>toplink.jdbc.bind-parameters</CODE> 
using the <CODE>TopLinkQueryHints</CODE> configuration class to set the name of 
the hint and the <CODE>HintValues</CODE> configuration class to set the 
value.</P>
<DIV class=example><A id=CJAGAFIC name=CJAGAFIC></A>
<P class=titleinexample>Example 1-4 Specifying a TopLink JPA Query Hint</P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.HintValues;
import oracle.toplink.essentials.config.TopLinkQueryHints;

Customer customer = (Customer)entityMgr.createNamedQuery("findCustomerBySSN"). setParameter("SSN", "123-12-1234").setHint(TopLinkQueryHints.BIND_PARAMETERS, HintValues.PERSISTENCE_UNIT_DEFAULT).getSingleResult();

</PRE></DIV><!-- class="example" -->
<DIV class=example><A id=CJADBIHF name=CJADBIHF></A>
<P class=titleinexample>Example 1-5 Specifying a TopLink JPA Query Hint With 
@QueryHint</P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.HintValues;
import oracle.toplink.essentials.config.TopLinkQueryHints;

@Entity
@NamedQuery(
    name="findAllEmployees",
    query="SELECT * FROM EMPLOYEE WHERE MGR=1"
    hints={
        @QueryHint={name=TopLinkQueryHints.BIND_PARAMETERS, value=HintValues.PERSISTENCE_UNIT_DEFAULT}
    }
)
public class Employee implements Serializable {
    ...
}

</PRE></DIV><!-- class="example" -->
<DIV class=tblruleformalwidemax><A id=sthref8 name=sthref8></A><A id=CJADBHCE 
name=CJADBHCE></A>
<P class=titleintable>Table 1-7 TopLink JPA Query Hints</P>
<TABLE class=RuleFormalWideMax dir=ltr title="TopLink JPA Query Hints" 
cellSpacing=0 cellPadding=3 rules=all width="100%" 
summary="This table lists TopLink JPA persistence.xml extensions for TopLink JDBC (JSE)" 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t8 vAlign=bottom align=left>Hint</TH>
<TH id=r1c2-t8 vAlign=bottom align=left>Usage</TH>
<TH id=r1c3-t8 vAlign=bottom align=left>Default</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t8 align=left headers=r1c1-t8><A 
id=toplink.jdbc.bind-parameters_query.hint 
name=toplink.jdbc.bind-parameters_query.hint></A>
<P><CODE>toplink.jdbc.bind-parameters</CODE></P></TD>
<TD align=left headers="r2c1-t8 r1c2-t8">
<P>Control whether or not the query uses parameter binding.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/optimiz010.htm#i1124456">"Parameterized 
SQL (Binding) and Prepared Statement Caching"</A>.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.config.HintValues</CODE></P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - bind all parameters.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not bind all parameters.</P>
<LI type=disc>
<P><CODE>PersistenceUnitDefault</CODE> - use the parameter binding setting made 
in your TopLink session's database login.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/dblgcfg006.htm#BABIGEJG">"Configuring 
JDBC Options"</A>.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: JPA Query API</P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.HintValues;
import oracle.toplink.essentials.config.TopLinkQueryHints;
query.setHint(TopLinkQueryHints.BIND_PARAMETERS, HintValues.TRUE);
</PRE>
<P><SPAN class=bold>Example</SPAN>: <CODE>@QueryHint</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.HintValues;
import oracle.toplink.essentials.config.TargetDatabase;
@QueryHint(name=TopLinkQueryHints.BIND_PARAMETERS, value=HintValues.PERSISTENCE_UNIT_DEFAULT);
</PRE></TD>
<TD align=left headers="r2c1-t8 r1c3-t8">
<P><CODE>PersistenceUnitDefault</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t8 align=left headers=r1c1-t8><A id=toplink.pessimistic-lock 
name=toplink.pessimistic-lock></A>
<P><CODE>toplink.pessimistic-lock</CODE></P></TD>
<TD align=left headers="r3c1-t8 r1c2-t8">
<P>Control whether or not pessimistic locking is used.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.config.PessimisticLock</CODE></P>
<UL>
<LI type=disc>
<P><CODE>NoLock</CODE> - pessimistic locking is not used.</P>
<LI type=disc>
<P><CODE>Lock</CODE> - TopLink issues a <CODE>SELECT .... FOR UPDATE</CODE>.</P>
<LI type=disc>
<P><CODE>LockNoWait</CODE> - TopLink issues a <CODE>SELECT .... FOR UPDATE NO 
WAIT</CODE>.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: JPA Query API</P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.PessimisticLock;
import oracle.toplink.essentials.config.TopLinkQueryHints;
query.setHint(TopLinkQueryHints.PESSIMISTIC_LOCK, PessimisticLock.LockNoWait);
</PRE>
<P><SPAN class=bold>Example</SPAN>: <CODE>@QueryHint</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.PessimisticLock;
import oracle.toplink.essentials.config.TopLinkQueryHints;
@QueryHint(name=TopLinkQueryHints.PESSIMISTIC_LOCK, value=PessimisticLock.LockNoWait);
</PRE></TD>
<TD align=left headers="r3c1-t8 r1c3-t8">
<P><CODE>NoLock</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t8 align=left headers=r1c1-t8><A id=toplink.refresh 
name=toplink.refresh></A>
<P><CODE>toplink.refresh</CODE></P></TD>
<TD align=left headers="r4c1-t8 r1c2-t8">
<P>Control whether or not to update the TopLink session cache with objects that 
the query returns.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.config.HintValues</CODE></P>
<UL>
<LI type=disc>
<P><CODE>true</CODE> - refresh cache.</P>
<LI type=disc>
<P><CODE>false</CODE> - do not refresh cache.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: JPA Query API</P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.HintValues;
import oracle.toplink.essentials.config.TopLinkQueryHints;
query.setHint(TopLinkQueryHints.REFRESH, HintValues.TRUE);
</PRE>
<P><SPAN class=bold>Example</SPAN>: <CODE>@QueryHint</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.HintValues;
import oracle.toplink.essentials.config.TopLinkQueryHints;
@QueryHint(name=TopLinkQueryHints.REFRESH, value=HintValues.TRUE);
</PRE></TD>
<TD align=left headers="r4c1-t8 r1c3-t8">
<P><CODE>false</CODE></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t8 align=left headers=r1c1-t8><A id=toplink.refresh.cascade 
name=toplink.refresh.cascade></A>
<P><CODE>toplink.refresh.cascade</CODE></P></TD>
<TD align=left headers="r4c1-t8 r1c2-t8">
<P>Control whether or not to update the TopLink session cache with entities 
associated with the objects that the query returns. Applicable only when <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.refresh"><CODE>toplink.refresh</CODE></A> is set to 
<CODE>true</CODE>.</P>
<P><SPAN class=bold>Valid values</SPAN>: 
<CODE>oracle.toplink.essentials.config.CascadePolicy</CODE></P>
<UL>
<LI type=disc>
<P><CODE>NoCascading</CODE> - do not cascade at all.</P>
<LI type=disc>
<P><CODE>CascadePrivateParts</CODE> - cascade to private-owned associations 
where the associations are configured using a descriptor customizer class (see 
<A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.descriptor.customizer.ENTITY"><CODE>toplink.descriptor.customizer.&lt;ENTITY&gt;</CODE></A>) 
to call <CODE>oracle.toplink.essentials.mappings.ForeignReferenceMapping</CODE> 
method <CODE>privateOwnedRelationship</CODE> or 
<CODE>setIsPrivateOwned(true)</CODE>.</P>
<LI type=disc>
<P><CODE>CascadeAllParts</CODE> - cascade to all associations.</P>
<LI type=disc>
<P><CODE>CascadeByMapping</CODE> - cascade by mapping metadata.</P></LI></UL>
<P><SPAN class=bold>Example</SPAN>: JPA Query API</P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.CascadePolicy;
import oracle.toplink.essentials.config.TopLinkQueryHints;
query.setHint(TopLinkQueryHints.REFRESH_CASCADE, CascadePolicy.CascadePrivateParts);
</PRE>
<P><SPAN class=bold>Example</SPAN>: <CODE>@QueryHint</CODE></P><PRE class=oac_no_warn xml:space="preserve">import oracle.toplink.essentials.config.CascadePolicy;
import oracle.toplink.essentials.config.TopLinkQueryHints;
@QueryHint(name=TopLinkQueryHints.REFRESH_CASCADE, value=CascadePolicy.CascadePrivateParts);
</PRE></TD>
<TD align=left 
headers="r4c1-t8 r1c3-t8"><CODE>CascadeByMapping</CODE></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalwidemax" --></DIV><!-- class="sect2" --><A 
id=TopLinkQueryAPI name=TopLinkQueryAPI></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>Using TopLink Query API in JPA Queries</H3>
<P>TopLink JPA provides a TopLink implementation class for each JPA persistence 
interface. By casting to the TopLink implementation class, you have full access 
to TopLink functionality.</P>
<P>This section provides the following examples:</P>
<UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFGFEJ">Creating a JPA Query Using the TopLink Expressions 
Framework</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJACFIGB">Creating a JPA Query Using a TopLink 
DatabaseQuery</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABCFBJ">Creating a JPA Query Using a TopLink Call Object</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFCACJ">Using Named Parameters in a Native Query</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJADDHGG">Using Java Persistence Query Language Positional 
Parameters in a Native Query</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABHABE">Using JDBC-Style Positional Parameters in a Native 
Query</A></P></LI></UL>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/prt_qur.htm">"Understanding 
TopLink Query API"</A>.</P><A id=CJAFGFEJ name=CJAFGFEJ></A>
<DIV class=sect3><!-- infolevel="all" infotype="General" -->
<H4 class=sect3>Creating a JPA Query Using the TopLink Expressions 
Framework</H4>
<P>TopLink provides an expression framework with which you can express queries 
in a database-neutral fashion as an alternative to raw SQL.</P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFDHAG">Example 1-6</A> shows how to cast an entity manager to 
access a TopLink persistence provider <CODE>createQuery</CODE> method that takes 
a TopLink <CODE>Expression</CODE>.</P>
<DIV class=example><A id=CJAFDHAG name=CJAFDHAG></A>
<P class=titleinexample>Example 1-6 Creating a Query With the TopLink 
Expressions Framework</P><PRE class=oac_no_warn xml:space="preserve">((oracle.toplink.essentials.ejb.cmp3.EntityManager)entityManager.getDelegate()).createQuery(Expression expression, Class resultType);

</PRE></DIV><!-- class="example" -->
<P>TopLink expressions offer the following advantages over SQL when you access a 
database:</P>
<UL>
<LI type=disc>
<P>Expressions are easier to maintain because the database is abstracted.</P>
<LI type=disc>
<P>Changes to descriptors or database tables do not affect the querying 
structures in the application.</P>
<LI type=disc>
<P>Expressions enhance readability by standardizing the <CODE>Query</CODE> 
interface so that it looks similar to traditional Java calling conventions.</P>
<P>For example, the Java code required to get the street name from the 
<CODE>Address</CODE> object of the <CODE>Employee</CODE> class looks like 
this:</P><PRE class=oac_no_warn xml:space="preserve">emp.getAddress().getStreet().equals("Meadowlands");

</PRE>
<P>The expression to get the same information is similar:</P><PRE class=oac_no_warn xml:space="preserve">emp.get("address").get("street").equal("Meadowlands");

</PRE>
<LI type=disc>
<P>Expressions allow read queries to transparently query between two classes 
that share a relationship. If these classes are stored in multiple tables in the 
database, TopLink automatically generates the appropriate join statements to 
return information from both tables.</P>
<LI type=disc>
<P>Expressions simplify complex operations.</P>
<P>For example, the following Java code retrieves all employees that live on 
"Meadowlands" whose salary is greater than 10,000:</P><PRE class=oac_no_warn xml:space="preserve">ExpressionBuilder emp = new ExpressionBuilder();
Expression exp = emp.get("address").get("street").equal("Meadowlands");
Vector employees = session.readAllObjects(Employee.class,
exp.and(emp.get("salary").greaterThan(10000)));

</PRE>
<P>TopLink automatically generates the appropriate SQL from that code:</P><PRE class=oac_no_warn xml:space="preserve">SELECT t0.VERSION, t0.ADDR_ID, t0.F_NAME, t0.EMP_ID, t0.L_NAME, t0.MANAGER_ID, t0.END_DATE, t0.START_DATE, t0.GENDER, t0.START_TIME, t0.END_TIME,t0.SALARY FROM EMPLOYEE t0, ADDRESS t1 WHERE (((t1.STREET = 'Meadowlands')AND (t0.SALARY &gt; 10000)) AND (t1.ADDRESS_ID = t0.ADDR_ID))

</PRE></LI></UL>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/expres.htm">"Understanding 
the TopLink Expressions Framework"</A>.</P></DIV><!-- class="sect3" --><A 
id=CJACFIGB name=CJACFIGB></A>
<DIV class=sect3><!-- infolevel="all" infotype="General" -->
<H4 class=sect3>Creating a JPA Query Using a TopLink DatabaseQuery</H4>
<P>A TopLink <CODE>DatabaseQuery</CODE> is a query object that provides a rich 
API for handling a variety of database query requirements, including reading and 
writing at the object level and at the data level.</P>
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/qryun007.htm#CACFEDJD">"Understanding 
the TopLink <CODE>DatabaseQuery</CODE>"</A>.</P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAEGECE">Example 1-7</A> shows how to cast a JPA query from an 
entity manager to access a TopLink persistence provider 
<CODE>setDatabaseQuery</CODE> method that takes a TopLink 
<CODE>DatabaseQuery</CODE>.</P>
<DIV class=example><A id=CJAEGECE name=CJAEGECE></A>
<P class=titleinexample>Example 1-7 DatabaseQuery</P><PRE class=oac_no_warn xml:space="preserve">((oracle.toplink.essentials.ejb.cmp3.EJBQuery)query).setDatabaseQuery(DatabaseQuery query);

</PRE></DIV><!-- class="example" -->
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGEAAB">Example 1-8</A> shows how to cast a JPA query from an 
entity manager to access a TopLink persistence provider 
<CODE>setDatabaseQuery</CODE> method that takes a TopLink 
<CODE>DataReadQuery</CODE> initialized with a TopLink <CODE>SQLCall</CODE> 
object that specifies a <CODE>SELECT</CODE>. This query will return one or more 
objects.</P>
<DIV class=example><A id=CJAGEAAB name=CJAGEAAB></A>
<P class=titleinexample>Example 1-8 DatabaseQuery with Selecting Call</P><PRE class=oac_no_warn xml:space="preserve">((oracle.toplink.essentials.ejb.cmp3.EJBQuery)query).setDatabaseQuery(new DataReadQuery(new SQLCall("SELECT...")));

</PRE></DIV><!-- class="example" -->
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFCADG">Example 1-9</A> shows how to cast a JPA query from an 
entity manager to access a TopLink persistence provider 
<CODE>setDatabaseQuery</CODE> method that takes a TopLink 
<CODE>DataModifyQuery</CODE> initialized with a TopLink <CODE>SQLCall</CODE> 
object that specifies an <CODE>UPDATE</CODE>. This query will modify one or more 
objects.</P>
<DIV class=example><A id=CJAFCADG name=CJAFCADG></A>
<P class=titleinexample>Example 1-9 DatabaseQuery with Non-Selecting Call</P><PRE class=oac_no_warn xml:space="preserve">((oracle.toplink.essentials.ejb.cmp3.EJBQuery)query).setDatabaseQuery(new DataModifyQuery(new SQLCall("UPDATE...")));
</PRE></DIV><!-- class="example" --></DIV><!-- class="sect3" --><A id=CJABCFBJ 
name=CJABCFBJ></A>
<DIV class=sect3><!-- infolevel="all" infotype="General" -->
<H4 class=sect3>Creating a JPA Query Using a TopLink Call Object</H4>
<P>Using <CODE>DatabaseQuery</CODE> method <CODE>setCall</CODE>, you can define 
your own TopLink <CODE>Call</CODE> to accommodate a variety of data source 
options such as SQL stored procedures and stored functions, EJB QL queries, and 
EIS interactions.</P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABJHIH">Example 1-10</A> shows how to cast a JPA query from an 
entity manager to access a TopLink persistence provider 
<CODE>getDatabaseQuery</CODE> method to set a new <CODE>SQLCall</CODE>.</P>
<DIV class=example><A id=CJABJHIH name=CJABJHIH></A>
<P class=titleinexample>Example 1-10 Call</P><PRE class=oac_no_warn xml:space="preserve">((oracle.toplink.essentials.ejb.cmp3.EJBQuery)query).getDatabaseQuery().setCall(new SQLCall("..."));

</PRE></DIV><!-- class="example" -->
<P>For more information, see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/qryun009.htm#CACJHDCJ">"Understanding 
TopLink <CODE>Call</CODE> Queries"</A>.</P></DIV><!-- class="sect3" --><A 
id=CJAFCACJ name=CJAFCACJ></A>
<DIV class=sect3><!-- infolevel="all" infotype="General" -->
<H4 class=sect3>Using Named Parameters in a Native Query</H4>
<P>Using TopLink Essentials, you can specify a named parameter in a native query 
using the TopLink <CODE>#</CODE> convention (see <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFCADE">Example 
1-11</A>).</P>
<P>Support for the TopLink <CODE>#</CODE> convention is helpful if you are 
already familiar with TopLink queries or if you are migrating TopLink queries to 
a JPA application.</P>
<DIV class=example><A id=CJAFCADE name=CJAFCADE></A>
<P class=titleinexample>Example 1-11 Specifying a Named Parameter With #</P><PRE class=oac_no_warn xml:space="preserve">Query queryEmployees = entityManager.createNativeQuery(
    "SELECT OBJECT(emp) FROM Employee emp WHERE emp.firstName = #firstname"
);
queryEmployeeByFirstName.setParameter("firstName", "Joan");
Collection employees = queryEmployees.getResultList();
</PRE></DIV><!-- class="example" --></DIV><!-- class="sect3" --><A id=CJADDHGG 
name=CJADDHGG></A>
<DIV class=sect3><!-- infolevel="all" infotype="General" -->
<H4 class=sect3>Using Java Persistence Query Language Positional Parameters in a 
Native Query</H4>
<P>Using TopLink Essentials, you can specify positional parameters in a native 
query using the Java Persistence Query Language positional parameter convention 
<CODE>?n</CODE> to specify a parameter by number.</P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAIFGEH">Example 1-12</A> shows how to specify positional 
parameters using the <CODE>?n</CODE> convention. In this example, the query 
string will be <CODE>SELECT * FROM EMPLOYEE WHERE F_NAME LIKE "D%" AND L_NAME 
LIKE "C%"</CODE>.</P>
<DIV class=example><A id=CJAIFGEH name=CJAIFGEH></A>
<P class=titleinexample>Example 1-12 Specifying Positional Parameters Using 
?</P><PRE class=oac_no_warn xml:space="preserve">Query queryEmployees = entityManager.createNativeQuery(
    "SELECT * FROM EMPLOYEE WHERE F_NAME LIKE ?1 AND L_NAME LIKE ?2", Employee.class
);
queryEmployees.setParameter(1, "D%");
queryEmployees.setParameter(2, "C%");
Collection employees = queryEmployees.getResultList();

</PRE></DIV><!-- class="example" -->
<P>You can easily re-use the same parameter in more than one place in the query 
as <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAJACFB">Example 1-13</A> shows. In this example, the query string 
will be <CODE>SELECT * FROM EMPLOYEE WHERE F_NAME LIKE "D%" AND L_NAME LIKE 
"D%"</CODE>.</P>
<DIV class=example><A id=CJAJACFB name=CJAJACFB></A>
<P class=titleinexample>Example 1-13 Specifying Positional Parameters Using 
?n</P><PRE class=oac_no_warn xml:space="preserve">Query queryEmployees = entityManager.createNativeQuery(
    "SELECT * FROM EMPLOYEE WHERE F_NAME LIKE ?1 AND L_NAME LIKE ?1", Employee.class
);
queryEmployees.setParameter(1, "D%");
Collection employees = queryEmployees.getResultList();

</PRE></DIV><!-- class="example" --></DIV><!-- class="sect3" --><A id=CJABHABE 
name=CJABHABE></A>
<DIV class=sect3><!-- infolevel="all" infotype="General" -->
<H4 class=sect3>Using JDBC-Style Positional Parameters in a Native Query</H4>
<P>Using TopLink Essentials, you can specify positional parameters in a native 
query using the JDBC-style positional parameter <CODE>?</CODE> convention.</P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAJJIGD">Example 1-14</A> shows how to specify positional 
parameters using the <CODE>?</CODE> convention. Each occurrence of 
<CODE>?</CODE> must be matched by a corresponding <CODE>setParameter</CODE> 
call. In this example, the query string will be <CODE>SELECT * FROM EMPLOYEE 
WHERE F_NAME LIKE "D%" AND L_NAME LIKE "C%"</CODE>.</P>
<DIV class=example><A id=CJAJJIGD name=CJAJJIGD></A>
<P class=titleinexample>Example 1-14 Specifying Positional Parameters With ?</P><PRE class=oac_no_warn xml:space="preserve">Query queryEmployees = entityManager.createNativeQuery(
    "SELECT * FROM EMPLOYEE WHERE F_NAME LIKE ? AND L_NAME LIKE ?", Employee.class
);
queryEmployees.setParameter(1, "D%");
queryEmployees.setParameter(2, "C%");
Collection employees = queryEmployees.getResultList();

</PRE></DIV><!-- class="example" -->
<P>If you want to re-use the same parameter in more than one place in the query, 
you must repeat the same parameter as <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJACJIAB">Example 1-15</A> 
shows. In this example, the query string will be <CODE>SELECT * FROM EMPLOYEE 
WHERE F_NAME LIKE "D%" AND L_NAME LIKE "D%"</CODE>.</P>
<DIV class=example><A id=CJACJIAB name=CJACJIAB></A>
<P class=titleinexample>Example 1-15 Re-Using Positional Parameters With ?</P><PRE class=oac_no_warn xml:space="preserve">Query queryEmployees = entityManager.createNativeQuery(
    "SELECT * FROM EMPLOYEE WHERE F_NAME LIKE ? AND L_NAME LIKE ?", Employee.class
);
queryEmployees.setParameter(1, "D%");
queryEmployees.setParameter(2, "D%");
Collection employees = queryEmployees.getResultList();

</PRE></DIV><!-- class="example" --></DIV><!-- class="sect3" --></DIV><!-- class="sect2" --></DIV><!-- class="sect1" --><A 
id=LazyLoading name=LazyLoading></A>
<DIV class=sect1><!-- infolevel="all" infotype="General" -->
<H2 class=sect1>TopLink JPA Lazy Loading</H2>
<P>JPA specifies that lazy loading is a hint to the persistence provider that 
data should be fetched lazily when it is first accessed, if possible. 
Implementors can choose how or if they actually load relationships or attributes 
lazily.</P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAJCGDA">Table 1-8</A> lists TopLink JPA support for lazy loading 
by mapping type.</P>
<DIV class=tblruleformalmax><A id=sthref9 name=sthref9></A><A id=CJAJCGDA 
name=CJAJCGDA></A>
<P class=titleintable>Table 1-8 TopLink JPA Support for Lazy Loading by Mapping 
Type</P>
<TABLE class=RuleFormalMax dir=ltr 
title="TopLink JPA Support for Lazy Loading by Mapping Type" cellSpacing=0 
cellPadding=3 rules=all width="100%" 
summary="This table lists TopLink JPA mapping support for lazy loading by mapping type for Java EE (in container) and Java SE (outside of container) applications." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t9 vAlign=bottom align=left>Mapping</TH>
<TH id=r1c2-t9 vAlign=bottom align=left>Java EE (inside container)<A id=sthref10 
onclick='footdisplay(1,"Fully supported in any container that implements the appropriate container contracts in the EJB 3.0 specification. For example: GlassFish V1, SunAS 9, OracleAS 10.1.3.1, and Spring 2.0.")' 
href="toplink-jpa-extensions.html#sthref10" name=sthref10><SUP class=tablefootnote>Foot&nbsp;1&nbsp;</SUP></A></TH>
<TH id=r1c3-t9 vAlign=bottom align=left>Java SE (outside 
container)</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t9 align=left headers=r1c1-t9>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#ManyToMany"><CODE>@ManyToMany</CODE></A></P></TD>
<TD align=left headers="r2c1-t9 r1c2-t9">
<P>TopLink JPA performs lazy loading when the <CODE>fetch</CODE> attribute is 
set to <CODE>FetchType.LAZY</CODE> (the default).</P></TD>
<TD align=left headers="r2c1-t9 r1c3-t9">
<P>TopLink JPA performs lazy loading when the <CODE>fetch</CODE> attribute is 
set to <CODE>FetchType.LAZY</CODE> (the default).</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t9 align=left headers=r1c1-t9>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#OneToMany"><CODE>@OneToMany</CODE></A></P></TD>
<TD align=left headers="r3c1-t9 r1c2-t9">
<P>TopLink JPA performs lazy loading when the <CODE>fetch</CODE> attribute is 
set to <CODE>FetchType.LAZY</CODE> (the default).</P></TD>
<TD align=left headers="r3c1-t9 r1c3-t9">
<P>TopLink JPA performs lazy loading when the <CODE>fetch</CODE> attribute is 
set to <CODE>FetchType.LAZY</CODE> (the default).</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t9 align=left headers=r1c1-t9>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#OneToOne"><CODE>@OneToOne</CODE></A></P></TD>
<TD align=left headers="r4c1-t9 r1c2-t9">
<P>TopLink JPA performs lazy loading when the <CODE>fetch</CODE> attribute is 
set to <CODE>FetchType.LAZY</CODE>.</P></TD>
<TD align=left headers="r4c1-t9 r1c3-t9">
<P>By default, TopLink JPA ignores the <CODE>fetch</CODE> attribute and default 
<CODE>FetchType.EAGER</CODE> applies.</P>
<P>To configure TopLink JPA to perform lazy loading when the <CODE>fetch</CODE> 
attribute set to <CODE>FetchType.LAZY</CODE>, configure one of:</P>
<UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#DynamicWeaving">Dynamic Weaving</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#StaticWeaving">Static Weaving Using the StaticWeave Class on the 
Command Line</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGHHFH">Static Weaving Using the weave Ant 
Task</A></P></LI></UL></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t9 align=left headers=r1c1-t9>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#ManyToOne"><CODE>@ManyToOne</CODE></A></P></TD>
<TD align=left headers="r5c1-t9 r1c2-t9">
<P>TopLink JPA performs lazy loading when the <CODE>fetch</CODE> attribute is 
set to <CODE>FetchType.LAZY</CODE>.</P></TD>
<TD align=left headers="r5c1-t9 r1c3-t9">
<P>By default, TopLink JPA ignores the <CODE>fetch</CODE> attribute and default 
<CODE>FetchType.EAGER</CODE> applies.</P>
<P>To configure TopLink JPA to perform lazy loading when the <CODE>fetch</CODE> 
attribute set to <CODE>FetchType.LAZY</CODE>, configure one of:</P>
<UL>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#DynamicWeaving">Dynamic Weaving</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#StaticWeaving">Static Weaving Using the StaticWeave Class on the 
Command Line</A></P>
<LI type=disc>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGHHFH">Static Weaving Using the weave Ant 
Task</A></P></LI></UL></TD></TR>
<TR vAlign=top align=left>
<TD id=r6c1-t9 align=left headers=r1c1-t9>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#Basic"><CODE>@Basic</CODE></A></P></TD>
<TD align=left headers="r6c1-t9 r1c2-t9">
<P>TopLink JPA ignores the <CODE>fetch</CODE> attribute. Default 
<CODE>FetchType.EAGER</CODE> always applies.</P></TD>
<TD align=left headers="r6c1-t9 r1c3-t9">
<P>TopLink JPA ignores the <CODE>fetch</CODE> attribute. Default 
<CODE>FetchType.EAGER</CODE> always 
applies.</P></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalmax" -->
<P class=tablefootnote><SUP class=tablefootnote>Footnote&nbsp;1&nbsp;</SUP>Fully supported 
in any container that implements the appropriate container contracts in the EJB 
3.0 specification. For example: GlassFish V1, SunAS 9, OracleAS 10.1.3.1, and 
Spring 2.0.</P><A id=DynamicWeaving name=DynamicWeaving></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>Dynamic Weaving</H3>
<P>When using a <CODE><A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#OneToOne">@OneToOne</A></CODE> 
or <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#ManyToOne"><CODE>@ManyToOne</CODE></A> 
mapping in a Java SE environment (outside of a container) that permits the use 
of <CODE>-javaagent</CODE> on the JVM command line, to configure TopLink JPA to 
perform lazy loading when the annotation attribute <CODE>fetch</CODE> is set to 
<CODE>FetchType.LAZY</CODE>, you can use the 
<CODE>toplink-essentials-agent.jar</CODE>.</P>
<P>Use this option to weave applicable class files one at a time, as they are 
loaded at runtime, when the number of classes is few or the time taken to weave 
the classes is short. If the number of class files is large or the time required 
to weave the classes is long, consider using static weaving (see <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#StaticWeaving">Static Weaving Using the StaticWeave Class on the Command 
Line</A> or <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGHHFH">Static Weaving Using the weave Ant 
Task</A>).</P>
<P>To use the <CODE>toplink-essentials-agent.jar</CODE>:</P>
<OL type=1>
<LI>
<P>Configure your persistence unit with a <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.weaving"><CODE>toplink.weaving</CODE></A> extension set to 
<CODE>true</CODE>.</P>
<LI>
<P>Modify your application JVM command line to include:</P><PRE class=oac_no_warn xml:space="preserve">-javaagent:toplink-essentials-agent.jar

</PRE>
<LI>
<P>Ensure that the <CODE>toplink-essentials-agent.jar</CODE> is in your 
application classpath.</P></LI></OL></DIV><!-- class="sect2" --><A 
id=StaticWeaving name=StaticWeaving></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>Static Weaving Using the StaticWeave Class on the Command 
Line</H3>
<P>When using a <CODE><A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#OneToOne">@OneToOne</A></CODE> 
or <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#ManyToOne"><CODE>@ManyToOne</CODE></A> 
mapping in a Java SE environment (outside of a container) that does not permit 
the use of <CODE>-javaagent</CODE> on the JVM command line, to configure TopLink 
JPA to perform lazy loading when annotation attribute <CODE>fetch</CODE> is set 
to <CODE>FetchType.LAZY</CODE>, you can use the <CODE>StaticWeave</CODE> class 
on the command line.</P>
<P>Use this option to weave all applicable class files at buildtime so that you 
can deliver pre-woven class files. By doing so, you can improve application 
performance by eliminating the runtime weaving step required by dynamic weaving 
(see <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#DynamicWeaving">Dynamic Weaving</A>).</P>
<P>Alternatively, you can do this using Ant (see <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGHHFH">Static 
Weaving Using the weave Ant Task</A>).</P>
<P>To use the <CODE>StaticWeave</CODE> class:</P>
<OL type=1>
<LI>
<P>Ensure that the <CODE>toplink-essentials.jar</CODE> file is in your system 
classpath.</P>
<LI>
<P>Execute the <CODE>StaticWeave</CODE> class on the command line as 
follows:</P><PRE class=oac_no_warn xml:space="preserve">java oracle.toplink.weaving.StaticWeave [arguments] &lt;source&gt; &lt;target&gt;

</PRE>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAEGCGC">Example 1-16</A> shows how to use the 
<CODE>StaticWeave</CODE> class on Windows. <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAEIGGH">Table 1-9</A> 
lists the arguments of this class.</P>
<DIV class=example><A id=CJAEGCGC name=CJAEGCGC></A>
<P class=titleinexample>Example 1-16 Executing StaticWeave on the Command 
Line</P><PRE class=oac_no_warn xml:space="preserve">java oracle.toplink.weaving.StaticWeave  -persistenceinfo c:\foo-containing-persistencexml.jar -classpath c:\classpath1;c:\classpath2 c:\foo-source.jar c:\foo-target.jar
</PRE></DIV><!-- class="example" -->
<DIV class=tblruleformalmax><A id=sthref11 name=sthref11></A><A id=CJAEIGGH 
name=CJAEIGGH></A>
<P class=titleintable>Table 1-9 TopLink <CODE>StaticWeave</CODE> Class Command 
Line Arguments</P>
<TABLE class=RuleFormalMax dir=ltr 
title="TopLink StaticWeave Class Command Line Arguments" cellSpacing=0 
cellPadding=3 rules=all width="100%" 
summary="This table lists the arguments of the TopLink JPA StaticWeave class." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t10 vAlign=bottom align=left>Argument</TH>
<TH id=r1c2-t10 vAlign=bottom align=left>Description</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t10 align=left headers=r1c1-t10><A id=CJAEFHEI name=CJAEFHEI></A>
<P><CODE>-persistenceinfo</CODE></P></TD>
<TD align=left headers="r2c1-t10 r1c2-t10">
<P>Optional.</P>
<P>Specifies the location of the <CODE>persistence.xml</CODE> file if it is not 
in the same location as the source (see <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAIHEBF"><CODE>-classpath</CODE></A>).</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t10 align=left headers=r1c1-t10><A id=CJAIHEBF name=CJAIHEBF></A>
<P><CODE>-classpath</CODE></P></TD>
<TD align=left headers="r3c1-t10 r1c2-t10">
<P>Mandatory.</P>
<P>Specifies the location of the Java source files to weave: either a directory 
or a JAR file. For Windows, use delimiter <CODE>;</CODE> and for Unix, use 
delimiter <CODE>:</CODE>.</P>
<P>If the <CODE>persistence.xml</CODE> file is not in this location, you must 
specify the location of the <CODE>persistence.xml</CODE> using the <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAEFHEI"><CODE>-persistenceinfo</CODE></A> attribute.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t10 align=left headers=r1c1-t10>
<P><CODE>-log</CODE></P></TD>
<TD align=left headers="r4c1-t10 r1c2-t10">
<P>Optional.</P>
<P>Specifies a logging file.</P>
<P>Default: see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/sesun002.htm#i1122078">Logging</A></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t10 align=left headers=r1c1-t10>
<P><CODE>-loglevel</CODE></P></TD>
<TD align=left headers="r5c1-t10 r1c2-t10">
<P>Optional.</P>
<P>Specifies the amount and detail of log output. Valid 
<CODE>java.util.logging.Level</CODE> values are:</P>
<UL>
<LI type=disc>
<P><CODE>OFF</CODE> - disable logging (Default)</P>
<LI type=disc>
<P><CODE>SEVERE</CODE> - Logs exceptions indicating TopLink cannot continue, as 
well as any exceptions generated during login. This includes a stack trace.</P>
<LI type=disc>
<P><CODE>WARNING</CODE> - Logs exceptions that do not force TopLink to stop, 
including all exceptions not logged with severe level. This does not include a 
stack trace.</P>
<LI type=disc>
<P><CODE>INFO</CODE> - Logs the login/logout per sever session, including the 
user name. After acquiring the session, detailed information is logged.</P>
<LI type=disc>
<P><CODE>CONFIG</CODE> - Logs only login, JDBC connection, and database 
information.</P>
<LI type=disc>
<P><CODE>FINE</CODE> - Logs SQL.</P>
<LI type=disc>
<P><CODE>FINER</CODE> - Similar to warning. Includes stack trace.</P>
<LI type=disc>
<P><CODE>FINEST</CODE> - Includes additional low level 
information.</P></LI></UL></TD></TR>
<TR vAlign=top align=left>
<TD id=r6c1-t10 align=left headers=r1c1-t10>
<P><CODE>&lt;source&gt;</CODE></P></TD>
<TD align=left headers="r6c1-t10 r1c2-t10">
<P>Mandatory.</P>
<P>Specifies the location of the Java source files to weave: either a directory 
or a JAR file.</P>
<P>If the <CODE>persistence.xml</CODE> file is not in this location, you must 
specify the location of the <CODE>persistence.xml</CODE> using the 
<CODE>persistenceinfo</CODE> attribute.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r7c1-t10 align=left headers=r1c1-t10>
<P><CODE>&lt;target&gt;</CODE></P></TD>
<TD align=left headers="r7c1-t10 r1c2-t10">
<P>Mandatory.</P>
<P>Specifies the output location: either a directory or a JAR 
file.</P></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalmax" -->
<DIV align=center>
<DIV class=inftblnote><BR>
<TABLE class="Note oac_no_warn" dir=ltr 
title="This is a layout table to format a note" cellSpacing=0 cellPadding=3 
rules=groups width="80%" summary="This is a layout table to format a note" 
border=1 frame=hsides>
<TBODY>
<TR>
<TD align=left>
<P class=notep1>Note:</P>If <CODE>&lt;source&gt;</CODE> and 
<CODE>&lt;target&gt;</CODE> point to the same location and if the 
<CODE>&lt;source&gt;</CODE> is a directory (not a JAR file), TopLink JPA will 
weave in place. If <CODE>&lt;source&gt;</CODE> and <CODE>&lt;target&gt;</CODE> 
point to different locations or if the <CODE>source</CODE> is a JAR file (as <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAEGCGC">Example 1-16</A> shows), TopLink JPA cannot weave in 
place.</TD></TR></TBODY></TABLE><BR></DIV><!-- class="inftblnote" --></DIV></LI></OL></DIV><!-- class="sect2" --><A 
id=CJAGHHFH name=CJAGHHFH></A>
<DIV class=sect2><!-- infolevel="all" infotype="General" -->
<H3 class=sect2>Static Weaving Using the weave Ant Task</H3>
<P>When using a <CODE><A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#OneToOne">@OneToOne</A></CODE> 
or <A 
href="http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#ManyToOne"><CODE>@ManyToOne</CODE></A> 
mapping in a Java SE environment (outside of a container) that does not permit 
the use of <CODE>-javaagent</CODE> on the JVM command line, to configure TopLink 
JPA to perform lazy loading when annotation attribute <CODE>fetch</CODE> is set 
to <CODE>FetchType.LAZY</CODE>, you can use the TopLink JPA <CODE>weave</CODE> 
Ant task.</P>
<P>Use this option to weave all applicable class files at buildtime so that you 
can deliver pre-woven class files. By doing so, you can improve application 
performance by eliminating the runtime weaving step required by dynamic weaving 
(see <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#DynamicWeaving">Dynamic Weaving</A>).</P>
<P>To use the TopLink JPA <CODE>weave</CODE> Ant task:</P>
<OL type=1>
<LI>
<P>Configure the <CODE>weave</CODE> Ant task in your build script as <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABDJCB">Example 1-17</A> shows. <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAFDEHH">Table 1-10</A> 
lists the attributes of this task.</P>
<DIV class=example><A id=CJABDJCB name=CJABDJCB></A>
<P class=titleinexample>Example 1-17 TopLink weave Ant Task</P><PRE class=oac_no_warn xml:space="preserve">&lt;target name="define.task" description="New task definition for toplink static weaving"/&gt;
    &lt;taskdef name="weave" classname="oracle.toplink.essentials.weaving.StaticWeaveAntTask"/&gt;
&lt;/target&gt;
&lt;target name="weaving" description="perform weaving" depends="define.task"&gt;
    &lt;weave  source="c:\foo.jar"
            target="c:\wovenfoo.jar"
            persistenceinfo="c:\foo-containing-persistenceinfo.jar"&gt;
        &lt;classpath&gt;
            &lt;pathelement path="c:\foo-dependent.jar"/&gt;
        &lt;/classpath&gt;
    &lt;/weave&gt;
&lt;/target&gt;

</PRE></DIV><!-- class="example" -->
<DIV class=tblruleformalmax><A id=sthref12 name=sthref12></A><A id=CJAFDEHH 
name=CJAFDEHH></A>
<P class=titleintable>Table 1-10 TopLink <CODE>weave</CODE> Ant Task 
Attributes</P>
<TABLE class=RuleFormalMax dir=ltr title="TopLink weave Ant Task Attributes" 
cellSpacing=0 cellPadding=3 rules=all width="100%" 
summary="This table lists the attributes of the TopLink JPA weave Ant task." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t12 vAlign=bottom align=left>Attribute</TH>
<TH id=r1c2-t12 vAlign=bottom align=left>Description</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t12 align=left headers=r1c1-t12>
<P><CODE>source</CODE></P></TD>
<TD align=left headers="r2c1-t12 r1c2-t12">
<P>Mandatory.</P>
<P>Specifies the location of the Java source files to weave: either a directory 
or a JAR file.</P>
<P>If the <CODE>persistence.xml</CODE> file is not in this location, you must 
specify the location of the <CODE>persistence.xml</CODE> using the 
<CODE>persistenceinfo</CODE> attribute.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t12 align=left headers=r1c1-t12>
<P><CODE>target</CODE></P></TD>
<TD align=left headers="r3c1-t12 r1c2-t12">
<P>Mandatory.</P>
<P>Specifies the output location: either a directory or a JAR 
file.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t12 align=left headers=r1c1-t12>
<P><CODE>persistenceinfo</CODE></P></TD>
<TD align=left headers="r4c1-t12 r1c2-t12">
<P>Optional.</P>
<P>Specifies the location of the <CODE>persistence.xml</CODE> file if it is not 
in the same location as the source.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t12 align=left headers=r1c1-t12>
<P><CODE>log</CODE></P></TD>
<TD align=left headers="r5c1-t12 r1c2-t12">
<P>Optional.</P>
<P>Specifies a logging file.</P>
<P>Default: see <A 
href="http://www.oracle.com/technology/products/ias/toplink/doc/1013/main/_html/sesun002.htm#i1122078">Logging</A></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r6c1-t12 align=left headers=r1c1-t12>
<P><CODE>loglevel</CODE></P></TD>
<TD align=left headers="r6c1-t12 r1c2-t12">
<P>Optional.</P>
<P>Specifies the amount and detail of log output. Valid 
<CODE>java.util.logging.Level</CODE> values are:</P>
<UL>
<LI type=disc>
<P><CODE>OFF</CODE> - disable logging (Default)</P>
<LI type=disc>
<P><CODE>SEVERE</CODE> - Logs exceptions indicating TopLink cannot continue, as 
well as any exceptions generated during login. This includes a stack trace.</P>
<LI type=disc>
<P><CODE>WARNING</CODE> - Logs exceptions that do not force TopLink to stop, 
including all exceptions not logged with severe level. This does not include a 
stack trace.</P>
<LI type=disc>
<P><CODE>INFO</CODE> - Logs the login/logout per sever session, including the 
user name. After acquiring the session, detailed information is logged.</P>
<LI type=disc>
<P><CODE>CONFIG</CODE> - Logs only login, JDBC connection, and database 
information.</P>
<LI type=disc>
<P><CODE>FINE</CODE> - Logs SQL.</P>
<LI type=disc>
<P><CODE>FINER</CODE> - Similar to warning. Includes stack trace.</P>
<LI type=disc>
<P><CODE>FINEST</CODE> - Includes additional low level 
information.</P></LI></UL></TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformalmax" -->
<DIV align=center>
<DIV class=inftblnote><BR>
<TABLE class="Note oac_no_warn" dir=ltr 
title="This is a layout table to format a note" cellSpacing=0 cellPadding=3 
rules=groups width="80%" summary="This is a layout table to format a note" 
border=1 frame=hsides>
<TBODY>
<TR>
<TD align=left>
<P class=notep1>Note:</P>If <CODE>source</CODE> and <CODE>target</CODE> point to 
the same location and if the <CODE>source</CODE> is a directory (not a JAR 
file), TopLink JPA will weave in place. If <CODE>source</CODE> and 
<CODE>target</CODE> point to different locations or if the <CODE>source</CODE> 
is a JAR file (as <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABDJCB">Example 1-17</A> shows), TopLink JPA 
cannot weave in place.</TD></TR></TBODY></TABLE><BR></DIV><!-- class="inftblnote" --></DIV>
<LI>
<P>Configure the <CODE>weave</CODE> task with an appropriate 
<CODE>&lt;classpath&gt;</CODE> element, as <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABDJCB">Example 1-17</A> 
shows, so that TopLink JPA can load all required source classes.</P>
<LI>
<P>Execute the Ant task using the command line that <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABGHGH">Example 
1-18</A> shows.</P>
<P>In this example, the <CODE>weave</CODE> Ant task is in the 
<CODE>build.xml</CODE> file.</P>
<DIV class=example><A id=CJABGHGH name=CJABGHGH></A>
<P class=titleinexample>Example 1-18 TopLink JPA weave Ant Task Command Line</P><PRE class=oac_no_warn xml:space="preserve">ant -lib C:\toplink-essentials.jar -f build.xml weave

</PRE></DIV><!-- class="example" -->
<DIV align=center>
<DIV class=inftblnote><BR>
<TABLE class="Note oac_no_warn" dir=ltr 
title="This is a layout table to format a note" cellSpacing=0 cellPadding=3 
rules=groups width="80%" summary="This is a layout table to format a note" 
border=1 frame=hsides>
<TBODY>
<TR>
<TD align=left>
<P class=notep1>Note:</P>You must specify the 
<CODE>toplink-essentials.jar</CODE> file (the JAR that contains the TopLink JPA 
<CODE>weave</CODE> Ant task) using the Ant command line <CODE>-lib</CODE> option 
instead of using the <CODE>taskdef</CODE> attribute 
<CODE>classpath</CODE>.</TD></TR></TBODY></TABLE><BR></DIV><!-- class="inftblnote" --></DIV></LI></OL></DIV><!-- class="sect2" --></DIV><!-- class="sect1" --><A 
id=IndexOfExtensions name=IndexOfExtensions></A>
<DIV class=sect1><!-- infolevel="all" infotype="General" -->
<H2 class=sect1>Index of Extensions</H2>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.application-location"><CODE>toplink.application-location</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.cache.shared.ENTITY"><CODE>toplink.cache.shared.&lt;ENTITY&gt;</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.cache.shared.default"><CODE>toplink.cache.shared.default</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.cache.size.ENTITY"><CODE>toplink.cache.size.&lt;ENTITY&gt;</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.cache.size.default"><CODE>toplink.cache.size.default</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.cache.type.ENTITY"><CODE>toplink.cache.type.&lt;ENTITY&gt;</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.cache.type.default"><CODE>toplink.cache.type.default</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.create-ddl-jdbc-file-name"><CODE>toplink.create-ddl-jdbc-file-name</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.ddl-generation"><CODE>toplink.ddl-generation</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.ddl-generation.output-mode"><CODE>toplink.ddl-generation.output-mode</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.descriptor.customizer.ENTITY"><CODE>toplink.descriptor.customizer.&lt;ENTITY&gt;</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.drop-ddl-jdbc-file-name"><CODE>toplink.drop-ddl-jdbc-file-name</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.bind-parameters_persistence.xml"><CODE>toplink.jdbc.bind-parameters</CODE></A> 
(<CODE>persistence.xml</CODE>)</P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.bind-parameters_query.hint"><CODE>toplink.jdbc.bind-parameters</CODE></A> 
(query hint)</P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.driver"><CODE>toplink.jdbc.driver</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.password"><CODE>toplink.jdbc.password</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.read-connections.max"><CODE>toplink.jdbc.read-connections.max</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.read-connections.min"><CODE>toplink.jdbc.read-connections.min</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.read-connections.shared"><CODE>toplink.jdbc.read-connections.shared</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.url"><CODE>toplink.jdbc.url</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.user"><CODE>toplink.jdbc.user</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.write-connections.max"><CODE>toplink.jdbc.write-connections.max</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.jdbc.write-connections.min"><CODE>toplink.jdbc.write-connections.min</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.exceptions"><CODE>toplink.logging.exceptions</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.logger"><CODE>toplink.logging.logger</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.level"><CODE>toplink.logging.level</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.level.CATEGORY"><CODE>toplink.logging.level.&lt;CATEGORY&gt;</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.session"><CODE>toplink.logging.session</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.thread"><CODE>toplink.logging.thread</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.timestamp"><CODE>toplink.logging.timestamp</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.orm.throw.exceptions"><CODE>toplink.orm.throw.exceptions</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.pessimistic-lock"><CODE>toplink.pessimistic-lock</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.refresh"><CODE>toplink.refresh</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.refresh.cascade"><CODE>toplink.refresh.cascade</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.session.customizer"><CODE>toplink.session.customizer</CODE></A></P>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.session-name"><CODE>toplink.session-name</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.target-database"><CODE>toplink.target-database</CODE></A></P>
<P><A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.target-server"><CODE>toplink.target-server</CODE></A></P></DIV><!-- class="sect1" --><A 
id=CJABICBE name=CJABICBE></A>
<DIV class=sect1><!-- infolevel="all" infotype="General" -->
<H2 class=sect1>History</H2>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJABJHIF">Table 1-11</A> lists the important changes introduced in 
key GlassFish builds.</P>
<DIV class=tblruleformal><A id=sthref13 name=sthref13></A><A id=CJABJHIF 
name=CJABJHIF></A>
<P class=titleintable>Table 1-11 TopLink JPA Extensions Reference History</P>
<TABLE class=RuleFormal dir=ltr title="TopLink JPA Extensions Reference History" 
cellSpacing=0 cellPadding=3 rules=all width="100%" 
summary="This table lists the important changes introduced in key GlassFish builds." 
border=1 frame=border>
<THEAD>
<TR vAlign=top align=left>
<TH id=r1c1-t15 vAlign=bottom align=left>Date</TH>
<TH id=r1c2-t15 vAlign=bottom align=left>GlassFish Build</TH>
<TH id=r1c3-t15 vAlign=bottom align=left>Change</TH></TR></THEAD>
<TBODY>
<TR vAlign=top align=left>
<TD id=r2c1-t15 align=left headers=r1c1-t15>
<P>10/04/06</P></TD>
<TD align=left headers="r2c1-t15 r1c2-t15">
<P>Version 2, Build 20</P></TD>
<TD align=left headers="r2c1-t15 r1c3-t15">
<P>The default for <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.orm.throw.exceptions"><CODE>toplink.orm.throw.exceptions</CODE></A> 
is now <CODE>true</CODE> - throw exceptions.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r3c1-t15 align=left headers=r1c1-t15>
<P>10/04/06</P></TD>
<TD align=left headers="r3c1-t15 r1c2-t15">
<P>All versions</P></TD>
<TD align=left headers="r3c1-t15 r1c3-t15">
<P>Added section <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#LazyLoading">TopLink JPA Lazy 
Loading</A></P></TD></TR>
<TR vAlign=top align=left>
<TD id=r4c1-t15 align=left headers=r1c1-t15>
<P>12/8/06</P></TD>
<TD align=left headers="r4c1-t15 r1c2-t15">
<P>Version 2, Build 27</P></TD>
<TD align=left headers="r4c1-t15 r1c3-t15">
<P>Added sections <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#StaticWeaving">Static Weaving Using the StaticWeave 
Class on the Command Line</A> and <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#CJAGHHFH">Static Weaving Using the 
weave Ant Task</A>.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t15 align=left headers=r1c1-t15>
<P>03/04/06</P></TD>
<TD align=left headers="r5c1-t15 r1c2-t15">
<P>All versions</P></TD>
<TD align=left headers="r5c1-t15 r1c3-t15">
<P>Corrected defaults for <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.ddl-generation.output-mode"><CODE>toplink.ddl-generation.output-mode</CODE></A>.</P></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t15 align=left headers=r1c1-t15>07/09/07</TD>
<TD align=left headers="r5c1-t15 r1c2-t15">Version 2, Build 54</TD>
<TD align=left headers="r5c1-t15 r1c3-t15">Added the following new extensions: 
<A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.logging.level.CATEGORY"><CODE>toplink.logging.level.&lt;CATEGORY&gt;</CODE></A> 
and <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.refresh.cascade"><CODE>toplink.refresh.cascade</CODE></A></TD></TR>
<TR vAlign=top align=left>
<TD id=r5c1-t15 align=left headers=r1c1-t15>07/25/07</TD>
<TD align=left headers="r5c1-t15 r1c2-t15">All versions</TD>
<TD align=left headers="r5c1-t15 r1c3-t15">Added note to <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/essentials/toplink-jpa-extensions.html#toplink.ddl-generation.output-mode"><CODE>toplink.ddl-generation.output-mode</CODE></A> 
about container overrides. </TD></TR></TBODY></TABLE><BR></DIV><!-- class="tblruleformal" --></DIV><!-- class="sect1" --></DIV><!-- class="ind" --><!-- Start Footer -->
<DIV class=footer>
<DIV align=center>
<DIV class=header>
<DIV align=center>
<P><A href="http://www.oracle.com/technology/products/ias/toplink/JPA/index.html">TopLink JPA:</A> <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/resources-index.html">- 
Resources</A> - <A href="http://www.oracle.com/technology/products/ias/toplink/JPA/tutorials-index.html">Tutorials</A> - <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/how-to-index.html">How To's</A> - <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/examples-index.html">Examples</A> - <A 
href="http://www.oracle.com/technology/products/ias/toplink/JPA/download.html">Downloads</A></P></DIV></DIV>
<DIV class=ind>
<H1 class=chapter><SPAN class=secnum></SPAN></H1></DIV></DIV></DIV><!-- class="footer" --><!--EndFragment--></BODY>
</HTML>