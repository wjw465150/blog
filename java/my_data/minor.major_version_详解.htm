<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>minor.major version 详解</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: 宋体, Arial, Helvetica, sans-serif;
	font-size: 10pt;
}
</style>

</head>

<body>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); TEXT-ALIGN: left; FONT: 14px/26px Arial; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">从 
JDK 1.1 到 JDK 1.7 编译器编译出的 class 的默认 minor.major version，如下表所示：</P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); TEXT-ALIGN: left; FONT: 14px/26px Arial; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></P>
<TABLE 
style="WIDTH: 700px; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); TEXT-ALIGN: left; FONT: 14px/26px Arial; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" 
borderColor=#000000 align=center border=1>
  
  <TR>
    <TD width="20%"><STRONG>JDK 编译器版本</STRONG></TD>
    <TD width="30%"><STRONG>target 参数</STRONG></TD>
    <TD width="25%"><STRONG>十六进制 minor.major</STRONG></TD>
    <TD width="25%"><STRONG>十进制 minor.major</STRONG></TD></TR>
  <TR>
    <TD>jdk1.1.8</TD>
    <TD>不能带 target 参数</TD>
    <TD>00 03&nbsp; &nbsp;00 2D</TD>
    <TD>45.3</TD></TR>
  <TR>
    <TD>jdk1.2.2</TD>
    <TD>不带(默认为 -target 1.1)</TD>
    <TD>00 03&nbsp; &nbsp;00 2D</TD>
    <TD>45.3</TD></TR>
  <TR>
    <TD>jdk1.2.2</TD>
    <TD>-target 1.2</TD>
    <TD>00 00&nbsp;&nbsp; 00 2E</TD>
    <TD>46.0</TD></TR>
  <TR>
    <TD>jdk1.3.1_19</TD>
    <TD>不带(默认为 -target 1.1)</TD>
    <TD>00 03&nbsp; &nbsp;00 2D</TD>
    <TD>45.3</TD></TR>
  <TR>
    <TD>jdk1.3.1_19</TD>
    <TD>-target 1.3</TD>
    <TD>00 00&nbsp;&nbsp; 00 2F</TD>
    <TD>47.0</TD></TR>
  <TR>
    <TD>j2sdk1.4.2_10</TD>
    <TD>不带(默认为 -target 1.2)</TD>
    <TD>00 00&nbsp;&nbsp; 00 2E</TD>
    <TD>46.0</TD></TR>
  <TR>
    <TD>j2sdk1.4.2_10</TD>
    <TD>-target 1.4</TD>
    <TD>00 00&nbsp;&nbsp; 00 30</TD>
    <TD>48.0</TD></TR>
  <TR>
    <TD>jdk1.5.0_11</TD>
    <TD>不带(默认为 -target 1.5)</TD>
    <TD>00 00&nbsp;&nbsp; 00 31</TD>
    <TD>49.0</TD></TR>
  <TR>
    <TD>jdk1.5.0_11</TD>
    <TD>-target 1.4 -source 1.4</TD>
    <TD>00 00&nbsp;&nbsp; 00 30</TD>
    <TD>48.0</TD></TR>
  <TR>
    <TD>jdk1.6.0_01</TD>
    <TD>不带(默认为 -target 1.6)</TD>
    <TD>00 00&nbsp;&nbsp; 00 32</TD>
    <TD>50.0</TD></TR>
  <TR>
    <TD>jdk1.6.0_01</TD>
    <TD>-target 1.5</TD>
    <TD>00 00&nbsp;&nbsp; 00 31</TD>
    <TD>49.0</TD></TR>
  <TR>
    <TD>jdk1.6.0_01</TD>
    <TD>-target 1.4 -source 1.4</TD>
    <TD>00 00&nbsp;&nbsp; 00 30</TD>
    <TD>48.0</TD></TR>
  <TR>
    <TD>jdk1.7.0</TD>
    <TD>不带(默认为 -target 1.6)</TD>
    <TD>00 00&nbsp;&nbsp; 00 32</TD>
    <TD>50.0</TD></TR>
  <TR>
    <TD>jdk1.7.0</TD>
    <TD>-target 1.7</TD>
    <TD>00 00&nbsp;&nbsp; 00 33</TD>
    <TD>51.0</TD></TR>
  <TR>
    <TD>jdk1.7.0</TD>
    <TD>-target 1.4 -source 1.4</TD>
    <TD>00 00&nbsp;&nbsp; 00 30</TD>
    <TD>48.0</TD></TR>
  <TR>
    <TD>jdk1.8.0</TD>
    <TD>-target 1.8</TD>
    <TD>00 00&nbsp;&nbsp; 00 33</TD>
    <TD>52.0</TD></TR>
  <TR>
    <TD>Apache Harmony 5.0M3</TD>
    <TD>不带(默认为 -target 1.2)</TD>
    <TD>00 00&nbsp;&nbsp; 00 2E</TD>
    <TD>46.0</TD></TR>
  <TR>
    <TD>Apache Harmony 5.0M3</TD>
    <TD>-target 1.4</TD>
    <TD>00 00&nbsp;&nbsp; 00 30</TD>
    <TD>48.0</TD></TR></TABLE>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); TEXT-ALIGN: left; FONT: 14px/26px Arial; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); TEXT-ALIGN: left; FONT: 14px/26px Arial; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">&nbsp;</P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); TEXT-ALIGN: left; FONT: 14px/26px Arial; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">1) 
-target 1.1 时 有次版本号，target 为 1.2 及以后都只用主版本号了，次版本号为 0<BR>2) 从 1.1 到 1.4 
语言差异比较小，所以 1.2 到 1.4 默认的 target 都不是自身相对应版本<BR>3) 1.5 语法变动很大，所以直接默认 target 就是 
1.5。也因为如此用 1.5 的 JDK 要生成目标为 1.4 的代码，光有 -target 1.4 不够，必须同时带上 -source 
1.4，指定源码的兼容性，1.6/1.7 JDk 生成目标为 1.4 的代码也如此。<BR>4) 1.6 编译器显得较为激进，默认参数就为 -target 
1.6。因为&nbsp;1.6 和 1.5 的语法无差异，所以用 -target 1.5 时无需跟着 -source 1.5。<BR>5) 注意 1.7 
编译的默认 target 为 1.6<BR>6) 其他第三方的 JDK 生成的 Class 文件格式版本号同对应 Sun 版本 JDK<BR>7) 
最后一点最重要的，<SPAN>某个版本的 JVM 能接受 class 文件的最大主版本号不能超过对应 JDK 带相应 target 参数编译出来的 class 
文件的版本号</SPAN>。<BR><BR>上面那句话有点长，一口气读过去不是很好理解，举个例子：1.4 的 JVM 能接受最大的 class 
文件的主版本号不能超过用 1.4 JDK 带参数 -target 1.4 时编译出的 class 文件的主版本号，也就是 48。<BR><BR>因为 1.5 
JDK 编译时默认 target 为 1.5，出来的字节码 major.minor version 是 49.0，所以 1.4 的 JVM 
是无法接受的，只有抛出错误。<BR><BR>那么又<SPAN>为什么从 1.1 到 1.2、从 1.2 到 1.3 或者从 1.3 到 1.4 的 JDK 
升级不会发生 Unsupported major.minor version 的错误呢，那是因为 1.2/1.3/1.4 
都保持了很好的二进制兼容性</SPAN>，看看 1.2/1.3/1.4 的默认 target 分别为 1.1/1.1/1.2 就知道了，也就是默认情况下1.4 
JDK 编译出的 class 文件在 JVM 1.2 下都能加载执行，何况于 JVM 1.3 呢？（当然要去除使用了新版本扩充的 API 
的因素）</P></body>
</html>
