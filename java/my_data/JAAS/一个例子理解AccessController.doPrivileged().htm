<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>一个例子理解AccessController.doPrivileged()</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: 宋体, Arial, Helvetica, sans-serif;
	font-size: 10pt;
}
</style>

</head>

<body>
<P 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">示例中需要在eclipse中创建2个project：ServiceCentre和TestService<BR 
style="BOX-SIZING: border-box"><BR style="BOX-SIZING: border-box">java.policy<BR 
style="BOX-SIZING: border-box"></P>
<DIV 
style="BOX-SIZING: border-box; BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WIDTH: 1265px; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-BREAK: break-all; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><IMG 
onclick="this.style.display='none'; Codehighlighter1_98_230_Open_Text.style.display='none'; Codehighlighter1_98_230_Closed_Image.style.display='inline'; Codehighlighter1_98_230_Closed_Text.style.display='inline';" 
id=Codehighlighter1_98_230_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockStart.gif"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">grant&nbsp;codeBase&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">file:/D:/Workspaces/ExchangeConnect_V2_Trunk_Maven_workspace/ServiceCentre/bin/*</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
id=Codehighlighter1_98_230_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;permission&nbsp;java.io.FilePermission&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">c:/TestService-1.0.jar</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">,&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">read</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;permission&nbsp;java.lang.RuntimePermission&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">createClassLoader</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockEnd.gif">}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_280_340_Open_Text.style.display='none'; Codehighlighter1_280_340_Closed_Image.style.display='inline'; Codehighlighter1_280_340_Closed_Text.style.display='inline';" 
id=Codehighlighter1_280_340_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockStart.gif">grant&nbsp;codeBase&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">file:/c:/TestService-1.0.jar</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
id=Codehighlighter1_280_340_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;permission&nbsp;java.io.FilePermission&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">C:/text.txt</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">,&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">read</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockEnd.gif">}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">;</SPAN></DIV>
<P 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box"><BR style="BOX-SIZING: border-box"><BR 
style="BOX-SIZING: border-box">Project - ServiceCentre</P>
<DIV 
style="BOX-SIZING: border-box; BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WIDTH: 1265px; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-BREAK: break-all; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><IMG 
style="BOX-SIZING: border-box" alt="" align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">package</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;test;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">import</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;java.lang.reflect.Method;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">import</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;java.net.URL;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">import</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;java.net.URLClassLoader;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_102_129_Open_Text.style.display='none'; Codehighlighter1_102_129_Closed_Image.style.display='inline'; Codehighlighter1_102_129_Closed_Text.style.display='inline';" 
id=Codehighlighter1_102_129_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockStart.gif"></SPAN><SPAN 
id=Codehighlighter1_102_129_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">/**</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;*&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(128,128,128)">@author</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">&nbsp;Donf&nbsp;Yang<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockEnd.gif">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">*/</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_162_680_Open_Text.style.display='none'; Codehighlighter1_162_680_Closed_Image.style.display='inline'; Codehighlighter1_162_680_Closed_Text.style.display='inline';" 
id=Codehighlighter1_162_680_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockStart.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">class</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;ServiceCentreMain&nbsp;</SPAN><SPAN 
id=Codehighlighter1_162_680_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_192_537_Open_Text.style.display='none'; Codehighlighter1_192_537_Closed_Image.style.display='inline'; Codehighlighter1_192_537_Closed_Text.style.display='inline';" 
id=Codehighlighter1_192_537_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">void</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;loadService()&nbsp;</SPAN><SPAN 
id=Codehighlighter1_192_537_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL[]&nbsp;urls;<BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_214_484_Open_Text.style.display='none'; Codehighlighter1_214_484_Closed_Image.style.display='inline'; Codehighlighter1_214_484_Closed_Text.style.display='inline';" 
id=Codehighlighter1_214_484_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">try</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
id=Codehighlighter1_214_484_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_236_277_Open_Text.style.display='none'; Codehighlighter1_236_277_Closed_Image.style.display='inline'; Codehighlighter1_236_277_Closed_Text.style.display='inline';" 
id=Codehighlighter1_236_277_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;urls&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;URL[]&nbsp;</SPAN><SPAN 
id=Codehighlighter1_236_277_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;URL(</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">file:c:/TestService-1.0.jar</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">)&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URLClassLoader&nbsp;ll&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;URLClassLoader(urls);<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">final</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;Class&nbsp;a&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;ll.loadClass(</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">test.TestService</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">);<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;o&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;a.newInstance();<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method&nbsp;m&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;a.getMethod(</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">doService</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">,&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">null</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">);<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.invoke(o,&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">null</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">);<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_506_534_Open_Text.style.display='none'; Codehighlighter1_506_534_Closed_Image.style.display='inline'; Codehighlighter1_506_534_Closed_Text.style.display='inline';" 
id=Codehighlighter1_506_534_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">catch</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;(Exception&nbsp;e)&nbsp;</SPAN><SPAN 
id=Codehighlighter1_506_534_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_541_564_Open_Text.style.display='none'; Codehighlighter1_541_564_Closed_Image.style.display='inline'; Codehighlighter1_541_564_Closed_Text.style.display='inline';" 
id=Codehighlighter1_541_564_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
id=Codehighlighter1_541_564_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">/**</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(128,128,128)">@param</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">&nbsp;args<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">*/</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_606_677_Open_Text.style.display='none'; Codehighlighter1_606_677_Closed_Image.style.display='inline'; Codehighlighter1_606_677_Closed_Text.style.display='inline';" 
id=Codehighlighter1_606_677_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">static</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">void</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;main(String[]&nbsp;args)&nbsp;</SPAN><SPAN 
id=Codehighlighter1_606_677_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServiceCentreMain&nbsp;s&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;ServiceCentreMain();<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.loadService();<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockEnd.gif">}</SPAN></SPAN></DIV>
<P 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box">&nbsp;</P><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Project 
- TestService</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">将TestService打包，放到C盘</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<DIV 
style="BOX-SIZING: border-box; BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WIDTH: 1265px; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-BREAK: break-all; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><IMG 
style="BOX-SIZING: border-box" alt="" align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">package</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;test;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">import</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;java.io.FilePermission;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">import</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;java.security.AccessController;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">import</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;java.security.Permission;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_119_150_Open_Text.style.display='none'; Codehighlighter1_119_150_Closed_Image.style.display='inline'; Codehighlighter1_119_150_Closed_Text.style.display='inline';" 
id=Codehighlighter1_119_150_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockStart.gif"></SPAN><SPAN 
id=Codehighlighter1_119_150_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">/**</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;*&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(128,128,128)">@author</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">&nbsp;Donf&nbsp;Yang<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;*&nbsp;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockEnd.gif">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">*/</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_177_431_Open_Text.style.display='none'; Codehighlighter1_177_431_Closed_Image.style.display='inline'; Codehighlighter1_177_431_Closed_Text.style.display='inline';" 
id=Codehighlighter1_177_431_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockStart.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">class</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;TestService&nbsp;</SPAN><SPAN 
id=Codehighlighter1_177_431_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_205_233_Open_Text.style.display='none'; Codehighlighter1_205_233_Closed_Image.style.display='inline'; Codehighlighter1_205_233_Closed_Text.style.display='inline';" 
id=Codehighlighter1_205_233_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">void</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;doService()&nbsp;</SPAN><SPAN 
id=Codehighlighter1_205_233_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doFileOperation();<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_268_428_Open_Text.style.display='none'; Codehighlighter1_268_428_Closed_Image.style.display='inline'; Codehighlighter1_268_428_Closed_Text.style.display='inline';" 
id=Codehighlighter1_268_428_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">private</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">void</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;doFileOperation()&nbsp;</SPAN><SPAN 
id=Codehighlighter1_268_428_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Permission&nbsp;perm&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;FilePermission(</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">C:/text.txt</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">,&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">read</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">);<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AccessController.checkPermission(perm);<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">TestService&nbsp;has&nbsp;permission</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">);<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockEnd.gif">}</SPAN></SPAN></DIV><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">运行这个例子的时候，会出现权限错误，把doService()修改一下，就可以顺利通过</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<DIV 
style="BOX-SIZING: border-box; BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WIDTH: 1265px; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-BREAK: break-all; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><IMG 
onclick="this.style.display='none'; Codehighlighter1_24_186_Open_Text.style.display='none'; Codehighlighter1_24_186_Closed_Image.style.display='inline'; Codehighlighter1_24_186_Closed_Text.style.display='inline';" 
id=Codehighlighter1_24_186_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockStart.gif"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">void</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;doService()&nbsp;</SPAN><SPAN 
id=Codehighlighter1_24_186_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">//</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)">&nbsp;doFileOperation();</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,128,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif"></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_107_181_Open_Text.style.display='none'; Codehighlighter1_107_181_Closed_Image.style.display='inline'; Codehighlighter1_107_181_Closed_Text.style.display='inline';" 
id=Codehighlighter1_107_181_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AccessController.doPrivileged(</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;PrivilegedAction()&nbsp;</SPAN><SPAN 
id=Codehighlighter1_107_181_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG 
onclick="this.style.display='none'; Codehighlighter1_132_177_Open_Text.style.display='none'; Codehighlighter1_132_177_Closed_Image.style.display='inline'; Codehighlighter1_132_177_Closed_Text.style.display='inline';" 
id=Codehighlighter1_132_177_Open_Image style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;Object&nbsp;run()&nbsp;</SPAN><SPAN 
id=Codehighlighter1_132_177_Open_Text style="BOX-SIZING: border-box"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">{<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doFileOperation();<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">return</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">null</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">;<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)"><BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">);<BR 
style="BOX-SIZING: border-box"><IMG style="BOX-SIZING: border-box" alt="" 
align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/ExpandedBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</SPAN></SPAN></DIV><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">在这个例子中AccessControlContext的stack顺序为</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">2. 
&nbsp;file:/D:/Workspaces/ExchangeConnect_V2_Trunk_Maven_workspace/ServiceCentre/bin/*</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">1&nbsp;. 
file:/c:/TestService-1.0.jar</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">2没有权限，1有权限，使用doPrivileged后，不检查2</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">看一下java.security.AccessController的JavaDoc:</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<DIV 
style="BOX-SIZING: border-box; BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WIDTH: 1265px; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-BREAK: break-all; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><IMG 
style="BOX-SIZING: border-box" alt="" align=top 
src="http://www.blogjava.net/Images/OutliningIndicators/None.gif"><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">A&nbsp;caller&nbsp;can&nbsp;be&nbsp;marked&nbsp;as&nbsp;being&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">privileged</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;(see&nbsp;doPrivileged&nbsp;and&nbsp;below).&nbsp;When&nbsp;making&nbsp;access&nbsp;control&nbsp;decisions,&nbsp;the&nbsp;checkPermission&nbsp;method&nbsp;stops&nbsp;checking&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">if</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;it&nbsp;reaches&nbsp;a&nbsp;caller&nbsp;that&nbsp;was&nbsp;marked&nbsp;as&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">privileged</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;via&nbsp;a&nbsp;doPrivileged&nbsp;call&nbsp;without&nbsp;a&nbsp;context&nbsp;argument&nbsp;(see&nbsp;below&nbsp;</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,255)">for</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">&nbsp;information&nbsp;about&nbsp;a&nbsp;context&nbsp;argument).&nbsp;If&nbsp;that&nbsp;caller</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">'</SPAN><SPAN 
style="BOX-SIZING: border-box; COLOR: rgb(0,0,0)">s&nbsp;domain&nbsp;has&nbsp;the&nbsp;specified&nbsp;permission,&nbsp;no&nbsp;further&nbsp;checking&nbsp;is&nbsp;done&nbsp;and&nbsp;checkPermission&nbsp;returns&nbsp;quietly,&nbsp;indicating&nbsp;that&nbsp;the&nbsp;requested&nbsp;access&nbsp;is&nbsp;allowed.&nbsp;If&nbsp;that&nbsp;domain&nbsp;does&nbsp;not&nbsp;have&nbsp;the&nbsp;specified&nbsp;permission,&nbsp;an&nbsp;exception&nbsp;is&nbsp;thrown,&nbsp;as&nbsp;usual.&nbsp;</SPAN></DIV>
<P><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">其中提到的no 
further checking is done的意思是指stack中的checking</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">加入一个TestService2，文件操作在1，stack为(1,2,3为checking顺序)</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">3&nbsp;. 
file:/D:/Workspaces/ExchangeConnect_V2_Trunk_Maven_workspace/ServiceCentre/bin/*</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">2&nbsp;. 
file:/c:/TestService-1.0.jar</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">1.&nbsp; 
file:/c:/TestService2-1.0.jar</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">&nbsp;checking顺序为&nbsp; 
1-&gt;2-&gt;3</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">如果doPrivileged是在2中调用，那么1,2需要具有权限，3不再进行检查</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">如果doPrivileged是在1中调用，那么1需要具有权限，2,3不再进行检查</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">总结：</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">1.&nbsp; 
这里容易理解错误的地方是checking顺序，例如一个调用链 
MethodA-&gt;MethodB-&gt;MethodC（这里的3个方法需要在3个不同的ProtectionDomain中），doPrivileged在MethodB中，很容易理解成检查A,B而不检查C，实际上stack中检查顺序为C-&gt;B-&gt;A，也就是检查C,B而不检查A</SPAN><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">2. 
ServiceCentre不需要太多权限，而Service就需要使用doPrivileged来避免受到ServiceCentre的权限限制（如果service有足够的权限），Equinox中有很多这样的例子（Equinox扮演Service的角色）。</SPAN></P>
<P><SPAN 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/20px verdana, Arial, helvetica, sans-seriff; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"> 
</SPAN>&nbsp;</P></body>
</html>