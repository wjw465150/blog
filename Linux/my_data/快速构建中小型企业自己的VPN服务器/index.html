<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<script src="index_files/ga.js" async="" type="text/javascript"></script><script id="allmobilize" charset="utf-8" src="index_files/allmobilize.min.js"></script><style type="text/css"></style><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" media="handheld" href="http://cyr520.blog.51cto.com/#">

<meta http-equiv="Content-Type" content="text/html; charset=gbk">
<title>快速构建中小型企业自己的VPN服务器</title>
<meta name="description" content="&#160;&#160;VPN服务是所有互联网企业中不可或缺的一个服务，它的存在大大方便了我们的办公效率。服务器出故障了，工程师们再也不用火急火燎的打车来公司处理问题了，可以在家拨号连到公司，轻松愉快的就把问题处..">
<meta name="keywords" content="vpn服务器,pptpd">
<meta http-equiv="Cache-Control" content="private">
<base href="">
<script src="index_files/def.js"></script>
<script language="javascript" src="index_files/message.js" type="text/javascript"></script>
<script language="javascript" src="index_files/user_comment.js" type="text/javascript"></script>
<script language="javascript" src="index_files/base2.js" type="text/javascript"></script>
<script language="javascript" src="index_files/dialog_utf8.js" type="text/javascript"></script>
<link href="index_files/38.css" rel="stylesheet" type="text/css">
<link rel="alternate" href="http://cyr520.blog.51cto.com/rss.php?uid=714067" type="application/rss+xml" title="RSS 2.0">
<link rel="edituri" type="application/rsd+xml" title="rsd" href="http://cyr520.blog.51cto.com/xmlrpc.php?rsd=1">
<link href="index_files/header_master_top.css" rel="stylesheet" type="text/css">
<link href="index_files/base.css" rel="stylesheet" type="text/css">
<style type="text/css"><!--
/* Effective stylesheet produced by snapshot save */
.mainNav li a { display: inline-block; }
--></style>
<script><!--
/* Script removed by snapshot save */
--></script>
<style type="text/css"><!--
/* Effective stylesheet produced by snapshot save */
--></style>
<link type="text/css" rel="stylesheet" href="index_files/bdsstyle.css"><style id="list"><!--
/* Effective stylesheet produced by snapshot save */
.showContent ol, .showContent ul { margin: 0px; }
.showContent ol, .showContent ul { margin: 0px; }
--></style><link href="" type="text/css" rel="stylesheet" id="syntaxhighlighter_css"><script src="index_files/logger.js"></script></head>

<body><iframe src="index_files/generated-content.html" style="DISPLAY: none" frameborder="0"></iframe><div style="DISPLAY: block" id="bdshare_s"><iframe src="index_files/generated-content-1.html" id="bdsIfr" style="POSITION: absolute; Z-INDEX: 9999; DISPLAY: none" frameborder="0"></iframe><div style="DISPLAY: none" id="bdshare_l"><div id="bdshare_l_c"><h6>分享到</h6><ul><li><a href="http://cyr520.blog.51cto.com/#" class="bds_mshare mshare">一键分享</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_qzone qqkj">QQ空间</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_tsina xlwb">新浪微博</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_bdysc bdysc">百度云收藏</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_renren rrw">人人网</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_tqq txwb">腾讯微博</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_bdxc bdxc">百度相册</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_kaixin001 kxw">开心网</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_tqf txpy">腾讯朋友</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_tieba bdtb">百度贴吧</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_douban db">豆瓣网</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_tsohu shwb">搜狐微博</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_bdhome bdhome">百度新首页</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_sqq sqq">QQ好友</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_thx thx">和讯微博</a></li><li><a href="http://cyr520.blog.51cto.com/#" class="bds_more">更多...</a></li></ul><p><a href="http://cyr520.blog.51cto.com/#" class="goWebsite">百度分享</a></p></div></div></div>

<div id="home_top">
<div class="top_nav" style="WIDTH: 990px">
<div class="left" style="WIDTH: 440px; MARGIN-TOP: 10px"><a href="http://blog.51cto.com/" target="_blank"><IMG style="MARGIN-TOP: -4px" src="index_files/head_blog_sibebar_logo.gif" align=absMiddle ></a><a target="_blank" href="http://www.51cto.com/">51CTO首页</a><IMG style="MARGIN-TOP: -4px" src="index_files/top_bg_xian.gif" width=16 align=absMiddle height=25 ><a href="http://blog.51cto.com/" target="_blank">51CTO博客</a><IMG style="MARGIN-TOP: -4px" src="index_files/top_bg_xian.gif" width=16 align=absMiddle height=25 ><a href="http://home.51cto.com/?reback=http%253A%252F%252Fcyr520.blog.51cto.com%252F714067%252F1161788%252F">我的博客</a><IMG style="MARGIN-TOP: -4px" src="index_files/top_bg_xian.gif" width=16 align=absMiddle height=25 >

<a target="_blank" href="http://blog.51cto.com/search.php">搜索</a>
<A id=showMessagerDim style="TEXT-DECORATION: underline; COLOR: rgb(255,0,0)" href  ="javascript:void(0);">每日博报</A>
</div>

<div class="right" style="WIDTH: 550px">
<div class="more"><IMG src="index_files/top_shequ.gif" width=27 align=absMiddle height=16>社区：<a target="_blank" href="http://edu.51cto.com/">学院</a><a target="_blank" href="http://bbs.51cto.com/">论坛</a><a target="_blank" href="http://blog.51cto.com/">博客</a><a target="_blank" href="http://down.51cto.com/">下载</a><A onmouseover="" onmouseout="" href="javascript:void(0);">更多<IMG style="PADDING-LEFT: 4px" src="index_files/nav_ico1.gif" align=absMiddle></A>            </div>            <span id="login_status"><div class="login" style="TEXT-ALIGN: right; PADDING-TOP: 8px"><a href="http://home.51cto.com/index.php?s=/Home/index" style="BACKGROUND: none transparent scroll repeat 0% 0%"><IMG id=dia title=今天领无忧币了吗？ style="MARGIN-TOP: -3px" src="index_files/dia.gif" width=20 align=absMiddle ></a><a href="http://home.51cto.com/?reback=http%253A%252F%252Fcyr520.blog.51cto.com%252F714067%252F1161788%252F" target="_self">登录</a><a href="http://ucenter.51cto.com/reg_01.php?reback=http%253A%252F%252Fcyr520.blog.51cto.com%252F714067%252F1161788%252F" target="_self">注册</a></div></span>                </div>    </div></div>



<div class="subMenu3" id="s3" onmouseover="" onmouseout="">
<ul>
<li><a href="http://home.51cto.com/" target="_blank">家园</a>
<li><a href="http://edu.51cto.com/" target="_blank">学院</a>
<li><a href="http://blog.51cto.com/" target="_blank">博客</a>
<li><a href="http://bbs.51cto.com/" target="_blank">论坛</a>
<li><a href="http://down.51cto.com/" target="_blank">下载</a>

<li><a href="http://selftest.51cto.com/" target="_blank">自测</a>
<li><a href="http://doctor.51cto.com/" target="_blank">门诊</a>
<li><a href="http://blog.51cto.com/newsletter/" target="_blank">周刊</a>
<li><a href="http://book.51cto.com/" target="_blank">读书</a>
<li><a href="http://g.51cto.com/" target="_blank">技术圈</a></li>
</ul>
</div><!--简导航end-->



<div class="headerBox">
<div class="header">
<div class="header_l">
<div class="logo_blogname">


<div class="blogLogo">
<a href="http://blog.51cto.com/blogcommend" target="_blank"><IMG src="index_files/blogLogo01.png" width=161 height=70></a>
</div>


<div class="blogName">
<a href="http://cyr520.blog.51cto.com/"><h1>小崔的成长之路</h1></a>
</div>
</div><!--logo_blogname end-->
<div class="blogLink">

<a href="http://cyr520.blog.51cto.com/">http://cyr520.blog.51cto.com</a> <input id="txtUser" size="32" value="http://cyr520.blog.51cto.com" type="hidden">   <A onclick="" href="javascript:void(0);">【复制】</A> <a href="http://cyr520.blog.51cto.com/rss.php?uid=714067" target="_blank"></a><a href="http://cyr520.blog.51cto.com/rss.php?uid=714067" target="_blank">【订阅】</a>

</div>



</div><!--header_l end-->
<div class="header_r">
<div class="blogInfo"><span><a href="http://cyr520.blog.51cto.com/714067/o" title="察看cyr520所有原创文章">原创</a>:94</span><span><a href="http://cyr520.blog.51cto.com/714067/t" title="察看cyr520所有翻译文章">翻译</a>:0</span><span><a href="http://cyr520.blog.51cto.com/714067/c" title="察看cyr520所有转载文章">转载</a>:25</span></div>
<div class="blogNav"><a href="http://cyr520.blog.51cto.com/">博 客</a>|<a href="http://home.51cto.com/apps/photo/index.php?s=/Index/photos/uid/714067">图库</a>|<a href="http://cyr520.blog.51cto.com/addblog.php">写博文</a>|<a href="http://51ctoblog.blog.51cto.com/all/26414/4" target="_blank">帮 助</a></div>
</div>
</div><!--header end-->
</div><!--headerBox end-->
<div class="mainNav">
<span class="mainNavT"></span>
<ul>
<li><a href="http://cyr520.blog.51cto.com/">首页</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-9">Linux系统</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-18">企业应用</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-12">web服务</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-10">数据库</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-13">监控</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-8">shell</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-20">python</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-16">虚拟化</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-14">高可用</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-19">网络</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-11">实用软件</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-1">windows相关</a>|<li><a href="http://cyr520.blog.51cto.com/714067/d-7">题外话</a></li>
</ul>
<span class="mainNavB"></span>
</div><!--mainNav end-->

<script type="text/javascript" src="index_files/jquery-1.7.1.min.js"></script>

<LINK rel=stylesheet type=text/css href="index_files/fck_editorarea.css">
<script type="text/javascript" charset="gbk" src="index_files/shCores.js"></script>
<LINK rel=stylesheet type=text/css href="index_files/shCoreDefault.css">
<script type="text/javascript" charset="gbk" src="index_files/uparse.js"></script>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>



<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>

<STYLE type=text/css><!--

/* Effective stylesheet produced by snapshot save */

.m_sharelinks { line-height: 36px; text-align: left; padding-left: 20px; background: url("index_files/ico_lb.gif") no-repeat scroll left center transparent; float: left; width: 600px; height: 36px; }

.m_sharelinks a { margin-left: 10px; }

.m_sharebtn { height: 50px; width: 726px; margin: 0px auto; }

.weibo_51cto { background: url("index_files/ico_mweibo.gif") no-repeat scroll center center transparent; display: block; width: 33px; height: 33px; float: left; margin: 3px 3px 0px 0px; cursor: pointer; }

.shareMored { line-height: 36px; float: right; text-align: right; width: 100px; height: 36px; }

.showContent { margin: 20px 15px 8px; }

.userImage img { text-align: center; border: 0px none; padding: 0px; }

.photo_links { line-height: 30px; padding-top: 5px; font-size: 13px; width: 170px; margin: 0px auto; }

.vlist { margin: 10px; height: 65px; }

.vlist img { float: left; margin-right: 10px; }

.vlist dl { text-align: left; }

.vlist dl dt { height: 40px; line-height: 20px; overflow: hidden; padding-top: 5px; }

.vlist dl dt, .vlist dl dt a { color: rgb(38, 38, 38); }

.vlist dl dd, .vlist dl dd a { color: rgb(119, 119, 119); }

--></STYLE>
<script language="JavaScript" type="text/javascript" src="index_files/group.js"></script>
<div id="add_sys_type_div" style="BORDER-TOP: #58b0dd 1px solid; BORDER-RIGHT: #58b0dd 1px solid; WIDTH: 600px; BORDER-BOTTOM: #58b0dd 1px solid; POSITION: absolute; LEFT: 30%; BORDER-LEFT: #58b0dd 1px solid; Z-INDEX: 255; DISPLAY: none; TOP: 300px; BACKGROUND-COLOR: #fff"></div>
<div id="add_sys_type_divs" style="BORDER-TOP: #58b0dd 1px solid; BORDER-RIGHT: #58b0dd 1px solid; WIDTH: 550px; BORDER-BOTTOM: #58b0dd 1px solid; POSITION: absolute; LEFT: 30%; BORDER-LEFT: #58b0dd 1px solid; Z-INDEX: 255; DISPLAY: none; TOP: 300px; BACKGROUND-COLOR: #fff"></div><!--3245-->

<div class="blogMain">
<div class="blogLeft">


<div class="box moduleUser">
<div class="title">
<h2><strong>cyr520</strong> 的BLOG  </h2>
</div>
<div class="modCon">

<div class="userImage" style="BORDER-TOP: #d4d4d4 1px solid; BORDER-RIGHT: #d4d4d4 1px solid; WIDTH: 130px; BORDER-BOTTOM: #d4d4d4 1px solid; TEXT-ALIGN: center; MARGIN: 10px auto 5px; BORDER-LEFT: #d4d4d4 1px solid">
	<table cellpadding="0" cellspacing="0" width="100%">
		<tbody><tr>
			<td height="130" align="center" valign="middle"><script src="index_files/userface.php.js"></script><IMG id=userface src="urn:download-error:http://ucenter.51cto.com/avatar.php?uid=714067&amp;size=middle"></td>
		</tr>
	</tbody></table>
</div>
<div class="photo_links">
</div>









<div class="crumbs">
<a href="http://home.51cto.com/index.php?s=/space/714067#message" class="writeMessage" target="_blank">写留言</a><a href="http://g.51cto.com/addgroup.php?uid=" class="inCircle" target="_blank">邀请进圈子</a><a href="http://home.51cto.com/index.php?s=/Notify/write/uid/714067" class="message" target="_blank">发消息</a> <a href="http://cyr520.blog.51cto.com/" onclick="" class="joinLinks">加友情链接</a><a href="http://home.51cto.com/index.php?s=/space/714067" class="joinFriends" target="_blank">进家园 加好友</a>
</div>

<div style="HEIGHT: 64px; WIDTH: 239px; DISPLAY: none">


<div style="FLOAT: left"><p style="PADDING-BOTTOM: 0px; PADDING-TOP: 15px; PADDING-LEFT: 28px; LINE-HEIGHT: 20px; PADDING-RIGHT: 0px">2012年度IT博客大赛<br><a target="_blank" href="http://blog.51cto.com/contest2012/#top10000" style="TEXT-DECORATION: underline; COLOR: #f00">十大杰出IT博客诞生</a></p></div>
<div style="FLOAT: right"><a target="_blank" href="http://blog.51cto.com/contest2012/714067"><IMG style="MARGIN: 23px 20px 0px 0px" src="index_files/blog_match_endlook.jpg" width=57 height=27 ></a></div>



<div class="clear"></div>
</div>


</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="infoList box">
<div class="title">
<h2>博客统计信息</h2>
</div>
<div class="modCon">
<p>
<span class="infoListHead"><a href="http://blog.51cto.com/blogcommend" target="_blank" class="operlink"><b>51CTO推荐博客</b></a> <br></span>
用户名：cyr520<br>
文章数：130<br>
评论数：229<br>
访问量：135572<br>
<a href="http://home.51cto.com/index.php?s=/Account/credit" target="_blank">无忧币</a>：1604<br>
<a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank">博客积分</a>：2250<br>
<a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank">博客等级</a>：6<br>
注册日期：2009-03-28<br>
<script src="index_files/blogno1countdown.php.js"></script> 
</p>
</div>
<span class="modBot"></span>
</div>


<div class="infoList box">
	<div class="title">
		<h2 class="fl">热门专题</h2>
		<a target="_blank" class="fr" href="http://blog.51cto.com/zt">更多&gt;&gt;</a>
	</div>
	<div class="modCon">

	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/564" target="_blank"><IMG src="urn:download-error:http://s3.51cto.com/wyfs02/M02/11/87/wKiom1LTrfvApavTAAAwggXk86s393.jpg" width=63 height=63></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/564" target="_blank" title="OpenStack系统安装配置详解">OpenStack系统安装配置详解</a>
		<dd>阅读量：2768</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/565" target="_blank"><IMG src="urn:download-error:http://s3.51cto.com/wyfs02/M02/11/8E/wKiom1LU6GeiuJWiAAAouIdeaHQ357.jpg" width=63 height=63></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/565" target="_blank" title="项目成长记">项目成长记</a>
		<dd>阅读量：2790</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/568" target="_blank"><IMG src="urn:download-error:http://s3.51cto.com/wyfs02/M02/11/CF/wKiom1LfLKSB7tU1AAAvpPfcDp8470.jpg" width=63 height=63></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/568" target="_blank" title="Python 学习笔记">Python 学习笔记</a>
		<dd>阅读量：1885</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/569" target="_blank"><IMG src="urn:download-error:http://s3.51cto.com/wyfs02/M00/11/DE/wKioL1LhzTjTaE3wAAAyC2WROnA005.jpg" width=63 height=63></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/569" target="_blank" title="桌面虚拟化的详细介绍">桌面虚拟化的详细介绍</a>
		<dd>阅读量：6515</dd>
		</dl>
		</div>
		
		
	</div>
	<span class="modBot"></span>
</div>


<div class="hotArt box">
<div class="title">
<h2>热门文章</h2>
</div>
<div class="modCon">
<ul>
<li><a href="http://cyr520.blog.51cto.com/714067/746905">搭建自己的NTP时间服务器</a>
<li><a href="http://cyr520.blog.51cto.com/714067/190616">启动服务及创建和维护数..</a>
<li><a href="http://cyr520.blog.51cto.com/714067/168243">制作ERD Commander工具盘</a>
<li><a href="http://cyr520.blog.51cto.com/714067/184197">SQL Server 2005的安装，..</a>
<li><a href="http://cyr520.blog.51cto.com/714067/167040">制作无人值守安装光盘</a>
<li><a href="http://cyr520.blog.51cto.com/714067/192595">学习安装ISA2008</a>
<li><a href="http://cyr520.blog.51cto.com/714067/1064619">快速构建cacti监控系统</a>
<li><a href="http://cyr520.blog.51cto.com/714067/1111110">快速搭建FTP服务器</a></li>

</ul>
</div>
<span class="modBot"></span>
</div>
<div class="search box">
<div class="title"><h2>搜索BLOG文章</h2></div>
<div class="modCon">
<form method="post" action="http://cyr520.blog.51cto.com/search.php?" tabindex="99">
<input name="step" value="2" type="hidden">
<input name="authorid" value="714067" type="hidden">
<input name="sch_area" value="S" type="hidden">
<input name="keyword" class="searchInput" >
<input value="搜 索" class="searchBtn" type="submit">
</form>
</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="myHome box">
<div class="title"><h2 class="fl">我的技术圈(<a href="http://cyr520.blog.51cto.com/mygroup.php" target="_blank"><b>26</b></a>)</h2>
<a href="http://home.51cto.com/apps/group/index.php?s=/Index/index/" class="fr" target="_blank">更多&gt;&gt;</a></div>
<div class="modCon">
<ul>

<li><a href="http://g.51cto.com/netengineer" target="_blank">网络工程师联盟</a>&nbsp;&nbsp;

<IMG alt=有新成员加入 src="index_files/3.gif">

<li><a href="http://g.51cto.com/andywen" target="_blank">美女黑客技术联盟</a>&nbsp;&nbsp;

<IMG alt=讨论区有圈友发言 src="index_files/2.gif">

<li><a href="http://g.51cto.com/linux" target="_blank">linux-北京圈</a>&nbsp;&nbsp;

<IMG alt=有新成员加入 src="index_files/3.gif">

<li><a href="http://g.51cto.com/job" target="_blank">IT职场交流</a>&nbsp;&nbsp;

<IMG alt=有新成员加入 src="index_files/3.gif">

<li><a href="http://g.51cto.com/hgs888" target="_blank">局域网技术专栏</a>&nbsp;&nbsp; 
  

<li><a href="http://g.51cto.com/linuxengineers" target="_blank">Linux运维工程师</a>&nbsp;&nbsp;


</li>

</ul>
</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="box recentGuests">
<div class="title">
<h2>最近访客</h2>
</div>
<div class="modCon">
<ul>

<li><a href="http://lidiantian.blog.51cto.com/"><IMG src="index_files/avatar.php.gif"></a>
<p><a href="http://lidiantian.blog.51cto.com/">ldtrain</a></p>

</li><li><a href="http://shitao123.blog.51cto.com/"><IMG src="urn:download-error:http://ucenter.51cto.com/avatar.php?uid=3873637&amp;size=middle"></a>
<p><a href="http://shitao123.blog.51cto.com/">sht19..</a></p>

</li><li><a href="http://jwh5566.blog.51cto.com/"><IMG src="urn:download-error:http://ucenter.51cto.com/avatar.php?uid=7394620&amp;size=middle"></a>
<p><a href="http://jwh5566.blog.51cto.com/">蒋文华</a></p>

</li><li><a href="http://7490787.blog.51cto.com/"><IMG src="index_files/avatar.php-1.gif"></a>
<p><a href="http://7490787.blog.51cto.com/">ivan_..</a></p>

</li><li><a href="http://tommy1015.blog.51cto.com/"><IMG src="urn:download-error:http://ucenter.51cto.com/avatar.php?uid=3284239&amp;size=middle"></a>
<p><a href="http://tommy1015.blog.51cto.com/">Tonl</a></p>

</li><li><a href="http://6278931.blog.51cto.com/"><IMG src="index_files/avatar.php-2.gif"></a>
<p><a href="http://6278931.blog.51cto.com/">oceanszf</a></p>

</li><li><a href="http://xiximeili.blog.51cto.com/"><IMG src="index_files/avatar.php-3.gif"></a>
<p><a href="http://xiximeili.blog.51cto.com/">西西梅丽</a></p>

</li><li><a href="http://8065082.blog.51cto.com/"><IMG src="index_files/avatar.php-4.gif"></a>
<p><a href="http://8065082.blog.51cto.com/">犀首</a></p>

</li><li><a href="http://shunzi.blog.51cto.com/"><IMG src="urn:download-error:http://ucenter.51cto.com/avatar.php?uid=8289655&amp;size=middle"></a>
<p><a href="http://shunzi.blog.51cto.com/">Linux..</a></p>

</li><li><a href="http://1466057.blog.51cto.com/"><IMG src="index_files/avatar.php-5.gif"></a>
<p><a href="http://1466057.blog.51cto.com/">skyhyp</a></p>

</li><li><a href="http://cy2020.blog.51cto.com/"><IMG src="urn:download-error:http://ucenter.51cto.com/avatar.php?uid=2515287&amp;size=middle"></a>
<p><a href="http://cy2020.blog.51cto.com/">LT202..</a></p>

</li><li><a href="http://guojianwei.blog.51cto.com/"><IMG src="index_files/avatar.php-6.gif"></a>
<p><a href="http://guojianwei.blog.51cto.com/">gjwan..</a></p>

</li></ul>
<span class="clear"></span>
</div>
<span class="modBot"></span>
</div>


<div class="newComments box">
<div class="title">
<h2>最新评论 

</h2>



</div>
<div class="modCon">
<ul>

<li><a href="http://storysky.blog.51cto.com/" class="operlink" target="_blank"><b>storysky</b></a>：<a href="http://cyr520.blog.51cto.com/714067/1209485" target="_blank">先收藏，可能会用到这个东东</a>

<li><a href="http://cyr520.blog.51cto.com/" class="operlink" target="_blank"><b>cyr520</b></a>：<a href="http://cyr520.blog.51cto.com/714067/1265181" target="_blank">请查看  scribe服务端日志</a>

<li><a href="http://chodo.blog.51cto.com/" class="operlink" target="_blank"><b>chodo</b></a>：<a href="http://cyr520.blog.51cto.com/714067/1265181" target="_blank">按照你这个配置好以后，日志目录是..</a>

<li><a href="http://cyr520.blog.51cto.com/" class="operlink" target="_blank"><b>cyr520</b></a>：<a href="http://cyr520.blog.51cto.com/714067/1209485" target="_blank">回复 zhangke1983: 首先请确认客..</a>

<li><a href="http://128755.blog.51cto.com/" class="operlink" target="_blank"><b>zhangke1983</b></a>：<a href="http://cyr520.blog.51cto.com/714067/1209485" target="_blank">你好，我想加你QQ好友和您交流，可..</a></li>


</ul>
</div>
<span class="modBot"></span>
</div>


<div class="hotBlogArt box">
<div class="title">
  <h2 class="fl">51CTO推荐博文</h2>
  <a href="http://blog.51cto.com/artcommend" class="fr">更多&gt;&gt;</a></div>
<div class="modCon">
<ul>
<li><a href="http://7071976.blog.51cto.com/7061976/1356902" title="firefox网页慢加载图片慢或加载不出来" target="_blank">firefox网页慢加载图片慢或加载不..</a>
<li><a href="http://dog250.blog.51cto.com/2466061/1357013" title="为何TCP/IP协议栈设计成沙漏型的" target="_blank">为何TCP/IP协议栈设计成沙漏型的</a>
<li><a href="http://virtualbox.blog.51cto.com/531002/1357223" title="vCloud Automation Center (vCAC) 6.0 （二）" target="_blank">vCloud Automation Center (vCAC)..</a>
<li><a href="http://hiid365.blog.51cto.com/3142060/1357279" title="不同型号 交换机批量备份脚本 expect" target="_blank">不同型号 交换机批量备份脚本 expect</a>
<li><a href="http://flashrazer.blog.51cto.com/874229/1357286" title="Juniper总结（一）——路由器体系结构" target="_blank">Juniper总结（一）——路由器体系..</a>
<li><a href="http://luyx30.blog.51cto.com/1029851/1357346" title="RRDtool监控绘图调研(优化版)" target="_blank">RRDtool监控绘图调研(优化版)</a>
<li><a href="http://cwtea.blog.51cto.com/4500217/1357349" title="Openstack-make-centos-image" target="_blank">Openstack-make-centos-image</a>
<li><a href="http://tntdba.blog.51cto.com/1199791/1357259" title="实时用户操作审计系统" target="_blank">实时用户操作审计系统</a>
<li><a href="http://chenguang.blog.51cto.com/350944/1355029" title="2013款Mac Pro“神秘”主机详解" target="_blank">2013款Mac Pro“神秘”主机详解</a>
<li><a href="http://yijiu.blog.51cto.com/433846/1356254" title="iptables详解" target="_blank">iptables详解</a>
<li><a href="http://zuoyuezong.blog.51cto.com/6444039/1357054" title="rsync的配置使用" target="_blank">rsync的配置使用</a></li>

</ul>
</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="friendLink box">
<div class="title">
  <h2>友情链接</h2>
</div>
<div class="modCon">
<ul>

<li><a href="http://jjmyes.blog.51cto.com/" title="" target="_blank">大苗子的笔记</a>

<li><a href="http://slaytanic.blog.51cto.com/" title="实践检验真理" target="_blank">实践检验真理</a>

<li><a href="http://mabofeng.blog.51cto.com/" title="'让" target="_blank" 云?无处不在??>让"云"..</a>

<li><a href="http://linkinsds.blog.51cto.com/" title="阿东之家" target="_blank">阿东之家</a>

<li><a href="http://wangwei007.blog.51cto.com/" title="王伟" target="_blank">王伟</a>

<li><a href="http://winda.blog.51cto.com/" title="王达博客" target="_blank">王达博客</a>

<li><a href="http://peaceweb.blog.51cto.com/" title="改变从现在开始" target="_blank">改变从现在开始</a>

<li><a href="http://gjman.blog.51cto.com/" title="51cto博客管家 小曼" target="_blank">51cto博客管家 小曼</a>

<li><a href="http://lizi0322.blog.51cto.com/" title="博客小管家 莉子" target="_blank">博客小管家 莉子</a>

<li><a href="http://lanxiaomi.blog.51cto.com/" title="懒小米" target="_blank">懒小米</a>

<li><a href="http://immss.blog.51cto.com/" title="猫咪杀手" target="_blank">猫咪杀手</a>

<li><a href="http://ylw6006.blog.51cto.com/" title="斩月" target="_blank">斩月</a>

<li><a href="http://zhaoyun.blog.51cto.com/" title="技术交流" target="_blank">技术交流</a>

<li><a href="http://zhengweiit.blog.51cto.com/" title="MVP - Torrent的博客" target="_blank">MVP - Torrent的博客</a>

<li><a href="http://chenpengpeng.blog.51cto.com/" title="网络之路" target="_blank">网络之路</a>

<li><a href="http://sdbaby.blog.51cto.com/" title="SDbaby" target="_blank">SDbaby</a>

<li><a href="http://huangkun.blog.51cto.com/" title="黄琨" target="_blank">黄琨</a>

<li><a href="http://blog.linuxeye.com/" title="" target="_blank">运维笔记</a>

<li><a href="http://holy2010.blog.51cto.com/" title="Holy" target="_blank">Holy</a>

<li><a href="http://linger.blog.51cto.com/" title="linger" target="_blank">linger</a>

<li><a href="http://fangfang0717.blog.51cto.com/" title="Fighting" target="_blank">Fighting</a>

<li><a href="http://carywu.blog.51cto.com/" title="carywu" target="_blank">carywu</a>

<li><a href="http://elain.blog.51cto.com/" title="elain的技术博客" target="_blank">elain的技术博客</a>

<li><a href="http://storysky.blog.51cto.com/" title="story的天空" target="_blank">story的天空</a>

<li><a href="http://tech110.blog.51cto.com/" title="宗军" target="_blank">宗军</a>

<li><a href="http://www.9ai9.net/" title="" target="_blank">linux技术博客</a>

<li><a href="http://wjpinrain.blog.51cto.com/" title="Just do it !" target="_blank">Just do it !</a>

<li><a href="http://jiayf.blog.51cto.com/" title="贾芸斐" target="_blank">贾芸斐</a>

<li><a href="http://abuve.blog.51cto.com/" title="阿布的博客-IT狐狸河" target="_blank">阿布的博客-IT狐狸河</a>

<li><a href="http://baidutech.blog.51cto.com/" title="百度技术博客" target="_blank">百度技术博客</a>

<li><a href="http://www.linuxmysql.com/" title="" target="_blank">http://www.linuxm..</a>

<li><a href="http://ppp1013.blog.51cto.com/" title="网络飞行部落" target="_blank">网络飞行部落</a>

<li><a href="http://www.wenzizone.cn/" title="" target="_blank">刘晗昭的博客</a>

<li><a href="http://yanyangtian.blog.51cto.com/" title="燕洋天" target="_blank">燕洋天</a>

<li><a href="http://kerry.blog.51cto.com/" title="聆听未来" target="_blank">聆听未来</a>

<li><a href="http://netkiller.github.com/" title="" target="_blank">陈景峰的博客</a>

<li><a href="http://mayulin.blog.51cto.com/" title="梦~从这里起航" target="_blank">梦~从这里起航</a>

<li><a href="http://www.pagefault.info/" title="" target="_blank">http://www.pagefa..</a>

<li><a href="http://coralzd.blog.51cto.com/" title="晓辉" target="_blank">晓辉</a>

<li><a href="http://www.mysqlops.com/" title="" target="_blank">运维自动化</a>

<li><a href="http://yifangyou.blog.51cto.com/" title="一方有" target="_blank">一方有</a>

<li><a href="http://redking.blog.51cto.com/" title="王乾De技术Blog[爱生活，爱学习]" target="_blank">王乾De技术Blog[爱..</a>

<li><a href="http://wiliiwin.blog.51cto.com/" title="linux学习者" target="_blank">linux学习者</a>

<li><a href="http://hi.baidu.com/edeed/home" title="" target="_blank">骨骨学习笔记</a>

<li><a href="http://www.mysqlops.com/" title="" target="_blank">mysqlops.com</a>

<li><a href="http://www.linuxboy.net/" title="" target="_blank">linuxboy.com</a>

<li><a href="http://yahoon.blog.51cto.com/" title="yahoon的小屋" target="_blank">yahoon的小屋</a>

<li><a href="http://lilinqing.blog.51cto.com/" title="老林的技术笔记" target="_blank">老林的技术笔记</a>

<li><a href="http://oldboy.blog.51cto.com/" title="老男孩的linux博客" target="_blank">老男孩的linux博客</a>

<li><a href="http://dngood.blog.51cto.com/" title="dongnan" target="_blank">dongnan</a></li>

</ul>
</div><!--modCon end-->
<span class="modBot"></span>
</div>
<P>&nbsp;</P>
<P>&nbsp;</P>



</div><!--left end-->

<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script type="text/javascript" src="index_files/favorbox.js"></script>
<div class="blogRight">

	
	<div class="relatedArt box">
	<A href="javascript:void(0);" target=_blank><img src=""></A> <!-- <a href="http://blog.51cto.com/contest2013/714067"  target="_blank"><img src="" /></a> -->
</div>


	<div class="artShow box">
   	  <div class="share" id="share">

    <div class="shareItem">
		<div class="m_sharelinks"><a target="_blank" href="http://bbs.51cto.com/thread-1093286-1.html" style="COLOR: blue">【大家来找茬】51CTO万年不变的首页 终！于！改！版！了！</a><a target="_blank" href="http://cnrdn.com/gd3D" style="COLOR: red">·听大侠讲那些年一起犯过的网络配置错误</a><a target="_blank" href="" style="COLOR: blue"></a></div>
		<p class="shareMored"><a href="http://cyr520.blog.51cto.com/all/714067">博主的更多文章&gt;&gt;</a></p>
	</div>
      </div>
       <div class="modCon">
   	  <div class="showBox" style="MARGIN: 0px 0px 10px">
      <div class="line_hd_r"></div>
      <div class="art_tj">

      <a href="http://blog.51cto.com/artcommend" target="_blank"><IMG src="index_files/tj.png"></a>

      </div>

 
    		<div class="showHead">
    		  <div class="showTitleBOx" style="TEXT-ALIGN: center">
              <div class="showTitle">

             <IMG src="index_files/artType01.jpg">


    		    快速构建中小型企业自己的VPN服务器
                </div>
  		    </div>
   		    <span class="artTime">2013-03-24 23:32:28</span></div><!--showHead end-->
    <div class="showTags">标签：<a href="http://blog.51cto.com/tag-vpn%E6%9C%8D%E5%8A%A1%E5%99%A8.html" target="_blank" class="operlink">vpn服务器</a> <a href="http://blog.51cto.com/tag-pptpd.html" target="_blank" class="operlink">pptpd</a>

	</div>

			<div class="CopyrightStatement lh22">
            原创作品，允许转载，转载时请务必以超链接形式标明文章 <a href="http://cyr520.blog.51cto.com/714067/1161788" target="_blank" style="TEXT-DECORATION: underline">原始出处</a> 、作者信息和本声明。否则将追究法律责任。<a href="http://cyr520.blog.51cto.com/714067/1161788">http://cyr520.blog.51cto.com/714067/1161788</a>
            </div><!--正文 begin-->
    		<div class="showContent">
    		  <p>&nbsp; &nbsp; VPN服务是所有互联网企业中不可或缺的一个服务，它的存在大大方便了我们的办公效率。服务器出故障了，工程师们再也不用火急火燎的打车来公司处理问题了，可以在家拨号连到公司，轻松愉快的就把问题处理好了。当然这里我所说的是非硬件设备故障，真要是物理故障还是得打车去公司的⊙﹏⊙b汗。</p>
<p>&nbsp; &nbsp; 目前VPN分为软件和硬件两种，有实力的大公司会选择硬件VPN，稳定且配置简单。小公司为节约成本可以选择用软件来搭建。</p>
<p>&nbsp; &nbsp; 今天我们以PPTPD为例，学习如何在linux下快速构建属于我们自己的VPN服务器。</p>
<pre><ol class="dp-sql"><li class="alt"><strong><span style="COLOR: rgb(255,0,0)"   >操作系统：centos&nbsp;5.8&nbsp;x86_64</span></strong><span><span>&nbsp;</span></span><li class="alt"><strong><span style="COLOR: rgb(255,0,0)"   >单网卡和双网卡均可。</span></strong><br>&nbsp;</li></ol></pre>
<p>安装前系统环境检查：</p>
<p>检查系统内核是否支持MPPE补丁, 显示ok说明系统支持MPPE补丁，如果不支持，需要先安装kernel-devel</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>modprobe&nbsp;ppp-compress-18&nbsp;&amp;&amp;&nbsp;echo&nbsp;ok&nbsp;</span></span></li></ol></pre>
<p>检查系统是否开启TUN/TAP支持</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>cat&nbsp;/dev/net/tun&nbsp;</span></span></li></ol></pre>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_1364139074alnJ.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139074akOT.png" height=133  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p>上述两条均通过，才能安装pptp。否则就需要考虑使用其它的VPN服务软件了。</p>
<p>检查ppp和iptables是否安装，没有的话则需要安装一下，pptpd依赖这些软件。</p>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_1364139074OOjj.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139074coem.png" height=133  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p>安装命令如下：</p>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_13641390741Av0.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139074fBbD.png" height=188  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p>安装pptpd：</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>rpm&nbsp;-ivh&nbsp;http://acelnmp.googlecode.com/files/pptpd-1.3.4-2.rhel5.x86_64.rpm&nbsp;</span></span></li></ol></pre>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_1364139074s7gY.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139124giqa.png" height=70  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p>配置pptp。首先我们要编辑/etc/pptpd.conf文件：</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>vim&nbsp;/etc/pptpd.conf&nbsp;</span></span><li><strong><span style="COLOR: rgb(255,0,0)"   >把下面字段前面的#去掉即可，这里设置默认网关和vpn客户端所可以获取到的ip地址范围：</span></strong><span>&nbsp;</span><li class="alt"><span>localip&nbsp;192.168.66.1&nbsp;</span><li><span>remoteip&nbsp;192.168.66.101-130&nbsp;</span></li></ol></pre>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_1364139124PfPc.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139124DHVS.png" height=136  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p>接下来再编辑/etc/ppp/options.pptpd：</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>vim&nbsp;/etc/ppp/options.pptpd&nbsp;</span></span><li><span style="COLOR: rgb(255,0,0)"   ><strong>去掉ms-dns前面的#，并修改成如下字段，这里主要设置需要用到的DNS服务器：</strong></span><span>&nbsp;</span><li class="alt"><span>ms-dns&nbsp;211.147.6.3&nbsp;</span><li><span>ms-dns&nbsp;202.106.0.20&nbsp;</span></li></ol></pre>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_13641391248Wdr.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139124K15N.png" height=135  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p>设置pptp VPN账号密码。我们需要编辑/etc/ppp/chap-secrets这个文件：</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>vim&nbsp;/etc/ppp/chap-secrets&nbsp;</span></span><li><span style="COLOR: rgb(255,0,0)"   >直接输入如下字段,星号代表允许任意IP连接VPN服务器：</span><span>&nbsp;</span><li class="alt"><span>testuser&nbsp;pptpd&nbsp;testpass&nbsp;*&nbsp;</span></li></ol></pre>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_1364139124uq3Q.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139144ycdg.png" height=96  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p>修改内核设置，使其支持转发。编辑/etc/sysctl.conf文件：</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>vim&nbsp;/etc/sysctl.conf&nbsp;</span></span><li><span style="COLOR: rgb(255,0,0)"   ><strong>将“net.ipv4.ip_forward”改为1：</strong></span><span>&nbsp;</span><li class="alt"><span>net.ipv4.ip_forward=1&nbsp;</span></li></ol></pre>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_1364139145IiIS.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139145HWVS.png" height=448  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p>保存退出，并执行下面的命令来生效它：</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>sysctl&nbsp;-p&nbsp;</span></span></li></ol></pre>
<p>添加iptables转发规则。</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>iptables&nbsp;-t&nbsp;nat&nbsp;-A&nbsp;POSTROUTING&nbsp;-o&nbsp;eth0&nbsp;-j&nbsp;MASQUERADE&nbsp;</span></span><li><span>iptables&nbsp;-I&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;<span class="comment">--dport&nbsp;47&nbsp;-j&nbsp;ACCEPT</span><span>&nbsp;</span></span><li class="alt"><span>iptables&nbsp;-I&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;<span class="comment">--dport&nbsp;1723&nbsp;-j&nbsp;ACCEPT</span><span>&nbsp;</span></span><li><span>iptables&nbsp;-I&nbsp;INPUT&nbsp;-p&nbsp;gre&nbsp;-j&nbsp;ACCEPT&nbsp;</span></li></ol></pre>
<p>保存刚刚的防火墙设置。</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>/etc/init.d/iptables&nbsp;save&nbsp;</span></span></li></ol></pre>
<p>设置开机自动运行服务。</p>
<pre><ol class="dp-sql"><li class="alt"><span><span>chkconfig&nbsp;pptpd&nbsp;</span><span class="keyword">on</span><span>&nbsp;</span></span><li><span>chkconfig&nbsp;iptables&nbsp;<span class="keyword">on</span><span>&nbsp;</span></span></li></ol></pre>
<p>关于PPTPD服务器的控制方法：</p>
<pre><ol class="dp-sql"><li class="alt"><span style="COLOR: rgb(255,0,0)"   ><strong>启动pptpd服务：&nbsp;</strong></span><li><span>/etc/init.d/pptpd&nbsp;start&nbsp;</span><li class="alt"><span style="COLOR: rgb(255,0,0)"   ><strong>停止pptpd服务：</strong></span><span>&nbsp;</span><li><span>/etc/init.d/pptpd&nbsp;stop&nbsp;</span><li class="alt"><span style="COLOR: rgb(255,0,0)"   ><strong>重启pptpd服务：&nbsp;</strong></span><li><span>/etc/init.d/pptpd&nbsp;restart&nbsp;</span><li class="alt"><span style="COLOR: rgb(255,0,0)"   ><strong>关闭服务并踢掉已经在线的vpn客户端：</strong></span><span>&nbsp;</span><li><span>/etc/init.d/pptpd&nbsp;restart-kill&nbsp;</span><li class="alt"><span style="COLOR: rgb(255,0,0)"   ><strong>查看pptpd当前运行状态：</strong></span><span>&nbsp;</span><li><span>/etc/init.d/pptpd&nbsp;status&nbsp;</span></li></ol></pre>
<p>客户端连接测试：</p>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_1364139146yq4g.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139146qNE7.png" height=196  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p><a target="'\" href="http://img1.51cto.com/attachment/201303/24/714067_1364139147hWzU.png" _blank\???><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" title=image onload="" onkeydown="" style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px"  border    =0 alt=image src="index_files/714067_1364139147KXfS.png" height=383  onchange="" onreset="" onselect="" onsubmit="" onunload=""></a></p>
<p><A href="index_files/234022766.png" target=_blank><IMG onmouseup="" onclick="" onkeypress="" onabort="" onmouseover="" ondblclick="" onresize="" onmousemove="" onkeyup="" onmousedown="" onfocus="" onmouseout="" onerror="" onblur="" onload="" onkeydown="" border=0 alt="" src="index_files/234022766.png"  onchange="" onreset="" onselect="" onsubmit="" onunload=""></A>&nbsp;</p>
<p>详细客户端VPN配置方法请百度相关文章。</p>
<p>好了，大家都试试吧，如果有问题欢迎和我一起讨论。</p><p>本文出自 “<a href="http://cyr520.blog.51cto.com/">小崔的成长之路</a>” 博客，请务必保留此出处<a href="http://cyr520.blog.51cto.com/714067/1161788">http://cyr520.blog.51cto.com/714067/1161788</a></p>
    		</div><!--正文 end-->
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<script type="text/javascript" charset="utf-8"><!--
/* Script removed by snapshot save */
--></script>		
<div class="m_sharebtn clear">
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
	  <tbody><tr>
		<td height="43" align="center" valign="middle" width="11%"><IMG alt=分享至 src="index_files/ssk.png"></td>
		<td align="left" valign="top" width="77%">
			<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare" data="{'wbuid':1706976420}">
				<a href="http://cyr520.blog.51cto.com/#" title="分享到新浪微博" class="bds_tsina"></a>
				<a href="http://cyr520.blog.51cto.com/#" title="分享到QQ空间" class="bds_qzone"></a>
				<a href="http://cyr520.blog.51cto.com/#" title="分享到腾讯微博" class="bds_tqq"></a>
				<a href="http://cyr520.blog.51cto.com/#" title="分享到百度搜藏" class="bds_baidu"></a>
				<a href="http://cyr520.blog.51cto.com/#" title="分享到人人网" class="bds_renren"></a>
				<a href="http://cyr520.blog.51cto.com/#" title="分享到QQ收藏" class="bds_qq"></a>
				<a href="http://cyr520.blog.51cto.com/#" title="分享到豆瓣网" class="bds_douban"></a>
				<a href="http://cyr520.blog.51cto.com/#" title="分享到百度空间" class="bds_hi"></a>
				<a href="http://cyr520.blog.51cto.com/#" class="bds_msn"></a>
				<em title="分享到51CTO微博" class="weibo_51cto" onmouseout="" onmouseover="" onclick=""></em>
				<span class="bds_more">更多</span>
				
				<a title="累计分享0次" href="http://cyr520.blog.51cto.com/#" class="shareCount">0</a>
			</div>
	<script src="index_files/bds_s_v2.js" type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=559183"></script>
	
	<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
<!-- Baidu Button END --></td>
		<td align="right" valign="middle" width="12%"><A title=一键收藏，随时查看，分享好友！ href="javascript:void(0);"><IMG border=0 alt=一键收藏，随时查看，分享好友！ src="index_files/favorite_add_small.gif"></A></td>
	  </tr>
	</tbody></table>

</div>			
    		<div class="showBottom"><!--<div class="reviews"><span class="fl" style="cursor:pointer;"><a onclick="openFavoulist();" id="favourer">bobojocelyn、daidai120174819、chin_disk</a>

            </span><div id="favourdiv" class="support01">3人</div>
              <span class="fl">了这篇文章</span></div>-->
              <table border="0" cellpadding="0" cellspacing="0" width="720">
  <tbody><tr>
    <td align="right"><IMG src="index_files/icon01.png" width=15 height=16> <span style="CURSOR: pointer" 
     ><a onclick="" id="favourer">bobojocelyn、daidai120174819、chin_disk</a></span></td>
    <td align="left" width="70"><div style="LINE-HEIGHT: 28px" id="favourdiv" class="support01">3人</div></td>
    <td align="left" width="60">了这篇文章</td>
  </tr>
</tbody></table>




            <div class="showType">类别：<a href="http://cyr520.blog.51cto.com/714067/d-18" class="operlink">企业应用</a>┆<a class="operlink" onclick="">技术圈</a>(<script src="index_files/joingroup.php.js"></script>0)┆阅读(<span id="readNum">1387</span>)┆评论(<span id="cmtNum">6</span>)


┆

	<a href="http://cyr520.blog.51cto.com/#" onclick="" class="operlink">

推送到技术圈</a>┆<a href="http://cyr520.blog.51cto.com/">返回首页</a></div>
            <div class="prevNext">

			上一篇 <a href="http://cyr520.blog.51cto.com/714067/1111110" class="operlink" title="快速搭建FTP服务器">快速搭建FTP服务器</a>


			下一篇 <a href="http://cyr520.blog.51cto.com/714067/1190908" class="operlink" title="为python命令行添加Tab键自动补全功能">为python命令行添加Tab键自动补全功能</a>


            </div>

            </div>

	  </div><!--showBottom end-->
      </div><!--modCon-->
    <span class="modBot"></span>
    </div><!--artShow end-->
    <span class="blank"></span>
	
	<div class="relatedArt box">
<A href="javascript:void(0);"><img src=""></A>
</div>
	


    <div class="relatedArt box">
    <div class="title" name="zhuanti" id="zhuanti"><h2>相关文章</h2></div>
    <div class="modCon">
<ul>

<li><a href="http://onfothdr.blog.51cto.com/1424029/960256" title="省钱之道--图解域域树域林根域的含义（转载于http://angerfire.blog.51cto.com/198455/144123）" target="_blank">省钱之道--图解域域树域林根域的含义（转载..</a></li>


<li><a href="http://136840.blog.51cto.com/126840/1135520" title="计算机是如何启动的？" target="_blank">计算机是如何启动的？</a></li>


<li><a href="http://whatandroid.blog.51cto.com/2172732/1007036" title="ListView如何去掉无所谓的阴影 " target="_blank">ListView如何去掉无所谓的阴影 </a></li>


<li><a href="http://823610799.blog.51cto.com/657019/731576" title="一个网管如何做到五年给公司节省700万" target="_blank">一个网管如何做到五年给公司节省700万</a></li>


<li><a href="http://1103042.blog.51cto.com/1093042/941679" title="网络工程师面试需掌握四类知识" target="_blank">网络工程师面试需掌握四类知识</a></li>


<li><a href="http://fukajg.blog.51cto.com/5432365/936572" title="四大招数应对笔记本连接设置 " target="_blank">四大招数应对笔记本连接设置 </a></li>


<li><a href="http://bingyang.blog.51cto.com/533655/977612" title="[转]一位前辈对IT工程师的职业前途的一点个人看法" target="_blank">[转]一位前辈对IT工程师的职业前途的一点个..</a></li>


<li><a href="http://405328545.blog.51cto.com/5236263/897841" title="通过RMAN备份恢复数据库到其他服务器" target="_blank">通过RMAN备份恢复数据库到其他服务器</a></li>


<li><a href="http://drate.blog.51cto.com/1274886/712487" title="CIO如何挑选ERP项目的试点单位" target="_blank">CIO如何挑选ERP项目的试点单位</a></li>



</ul>



<span class="blank6"></span>
</div><!--modCon end-->
<span class="modBot"></span>
</div><!--相关文章 end-->


<div class="artComm box">
    <div class="title"><a name="replay"></a><h2>文章评论</h2></div>
    <div class="modCon" id="artcomment">
		<div>  &nbsp;</div><a name="545138"></a><div class="itcomment" style="WORD-WRAP: break-word; TABLE-LAYOUT: fixed" id="itcommentid0"><div><div style="HEIGHT: 20px; WIDTH: 100%; BORDER-BOTTOM: #a0a0a0 1px solid"><label style="FLOAT: left">[1楼]&nbsp;&nbsp;&nbsp;&nbsp;<IMG src="index_files/reply.gif">&nbsp;&nbsp;<a target="_blank" href="http://martyd.blog.51cto.com/" class="operlink" ref="nofollow"><b>daidai120174819</b></a></label><label style="FLOAT: right">&nbsp;<a href="http://cyr520.blog.51cto.com/#" class="repost operlink" name="daidai120174819" user_ parentid="545138">回复</a></label></div></div><div align="right">2013-03-26 10:19:20</div><div class="commentcontent">在linux下通过软件来搭建vpn， 稳定不？测试结果有没有，嘿嘿！！！</div></div><br><a name="545310"></a><div class="itcomment" style="WORD-WRAP: break-word; TABLE-LAYOUT: fixed" id="itcommentid1"><div><div style="HEIGHT: 20px; WIDTH: 100%; BORDER-BOTTOM: #a0a0a0 1px solid"><label style="FLOAT: left">[2楼]<a href="http://cyr520.blog.51cto.com/">楼主</a>&nbsp;&nbsp;&nbsp;&nbsp;<IMG src="index_files/reply.gif">&nbsp;&nbsp;<a target="_blank" href="http://cyr520.blog.51cto.com/" class="operlink" ref="nofollow"><b>cyr520</b></a></label><label style="FLOAT: right">&nbsp;<a href="http://cyr520.blog.51cto.com/#" class="repost operlink" name="cyr520" user_ parentid="545310">回复</a></label></div></div><div align="right">2013-03-26 18:46:18</div><div class="commentcontent">回复 daidai120174819:<a href="http://cyr520.blog.51cto.com/#" class="anchor_page" title="加载中....." style="CURSOR: pointer" parentid="545138" tid="1161788">[1楼]</a><br><br>linux本身系统本身就比较稳定了，我这边用两台PC做的，一台为主，一台为辅。 快两年了，还没出过问题</div></div><br><a name="545421"></a><div class="itcomment" style="WORD-WRAP: break-word; TABLE-LAYOUT: fixed" id="itcommentid2"><div><div style="HEIGHT: 20px; WIDTH: 100%; BORDER-BOTTOM: #a0a0a0 1px solid"><label style="FLOAT: left">[3楼]&nbsp;&nbsp;&nbsp;&nbsp;<IMG src="index_files/reply.gif">&nbsp;&nbsp;<a target="_blank" href="http://5333941.blog.51cto.com/" class="operlink" ref="nofollow"><b>chin_disk</b></a></label><label style="FLOAT: right">&nbsp;<a href="http://cyr520.blog.51cto.com/#" class="repost operlink" name="chin_disk" user_ parentid="545421">回复</a></label></div></div><div align="right">2013-03-27 12:45:34</div><div class="commentcontent">网上很多是windows平台的，博主补充了linux的，学习了</div></div><br><a name="545430"></a><div class="itcomment" style="WORD-WRAP: break-word; TABLE-LAYOUT: fixed" id="itcommentid3"><div><div style="HEIGHT: 20px; WIDTH: 100%; BORDER-BOTTOM: #a0a0a0 1px solid"><label style="FLOAT: left">[4楼]<a href="http://cyr520.blog.51cto.com/">楼主</a>&nbsp;&nbsp;&nbsp;&nbsp;<IMG src="index_files/reply.gif">&nbsp;&nbsp;<a target="_blank" href="http://cyr520.blog.51cto.com/" class="operlink" ref="nofollow"><b>cyr520</b></a></label><label style="FLOAT: right">&nbsp;<a href="http://cyr520.blog.51cto.com/#" class="repost operlink" name="cyr520" user_ parentid="545430">回复</a></label></div></div><div align="right">2013-03-27 13:35:33</div><div class="commentcontent">回复 chin_disk:<a href="http://cyr520.blog.51cto.com/#" class="anchor_page" title="加载中....." style="CURSOR: pointer" parentid="545421" tid="1161788">[3楼]</a><br><br>O(∩_∩)O~</div></div><br><a name="559173"></a><div class="itcomment" style="WORD-WRAP: break-word; TABLE-LAYOUT: fixed" id="itcommentid4"><div><div style="HEIGHT: 20px; WIDTH: 100%; BORDER-BOTTOM: #a0a0a0 1px solid"><label style="FLOAT: left">[5楼]&nbsp;&nbsp;&nbsp;&nbsp;<IMG src="index_files/reply.gif">&nbsp;&nbsp;<a target="_blank" href="http://navyaijm.blog.51cto.com/" class="operlink" ref="nofollow"><b>navyaijm2012</b></a></label><label style="FLOAT: right">&nbsp;<a href="http://cyr520.blog.51cto.com/#" class="repost operlink" name="navyaijm2012" user_ parentid="559173">回复</a></label></div></div><div align="right">2013-06-10 09:55:42</div><div class="commentcontent">回复 cyr520:<a href="http://cyr520.blog.51cto.com/#" class="anchor_page" title="加载中....." style="CURSOR: pointer" parentid="545310" tid="1161788">[2楼]</a><br><br>亲，两台是主备吗？高可用吗？能说一下如何实现的吗？</div></div><br><a name="559481"></a><div class="itcomment" style="WORD-WRAP: break-word; TABLE-LAYOUT: fixed" id="itcommentid5"><div><div style="HEIGHT: 20px; WIDTH: 100%; BORDER-BOTTOM: #a0a0a0 1px solid"><label style="FLOAT: left">[6楼]<a href="http://cyr520.blog.51cto.com/">楼主</a>&nbsp;&nbsp;&nbsp;&nbsp;<IMG src="index_files/reply.gif">&nbsp;&nbsp;<a target="_blank" href="http://cyr520.blog.51cto.com/" class="operlink" ref="nofollow"><b>cyr520</b></a></label><label style="FLOAT: right">&nbsp;<a href="http://cyr520.blog.51cto.com/#" class="repost operlink" name="cyr520" user_ parentid="559481">回复</a></label></div></div><div align="right">2013-06-11 23:39:47</div><div class="commentcontent">回复 navyaijm2012:<a href="http://cyr520.blog.51cto.com/#" class="anchor_page" title="加载中....." style="CURSOR: pointer" parentid="559173" tid="1161788">[5楼]</a><br><br>你好，可以是主备这样的模式。</div></div><br><div>  &nbsp;</div>
    </div><!--modCon-->
        <span class="modBot"></span>
</div><!--commBox end-->
<a href="" id="com_top_top"></a>
<form action="http://cyr520.blog.51cto.com/comment.php?" method="post" name="form1" id="form1" onsubmit="">
<span class="blank1"></span>
<div class="box writeComm" style="MIN-HEIGHT: 30px">
<a name="comment"></a>
<input name="action" value="comment" type="hidden">
<input id="commenttid" name="tid" value="1161788" type="hidden">
<input name="com_count_ajax" id="com_count_ajax" value="1" type="hidden">

 <div class="title">
	<h2 class="fl">发表评论&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h2>
	<span class="fl"><a class="mred" target="_blank" href="http://bbs.51cto.com/thread-1093286-1.html">【大家来找茬】51CTO万年不变的首页 终！于！改！版！了！</a></span> 
<STYLE type=text/css><!--

/* Effective stylesheet produced by snapshot save */

a.mred:link { color: rgb(255, 0, 0); text-decoration: underline; }

a.mred:visited { color: rgb(255, 0, 0); }

a.mred:hover { color: rgb(255, 0, 0); }

a.mred:active { color: rgb(255, 0, 0); }

--></STYLE>
</div>
 <div class="modCon">

 <div class="commForm">
<dl>
<dt>昵&nbsp;&nbsp;称：</dt>
<dd>

<input id="commentusername" name="username" class="commInput fl" 
 ><span><a href="http://home.51cto.com/index.php?reback=http%253A%252F%252Fcyr520.blog.51cto.com%252F714067%252F1161788%252F" style="TEXT-DECORATION: underline" 
 >登录</a>&nbsp;&nbsp;<a href="http://ucenter.51cto.com/reg_01.php?reback=http://blog.51cto.com" target="_blank" style="TEXT-DECORATION: underline">快速注册</a></span>



</dd>
</dl>



<dl id="commentyanzheng">


<dt>验证码：</dt>
<dd><input class="code" id="commentauthnum" name="authnum" onclick="" >

  <img class="fl" id="secunum" onclick="" style="DISPLAY: none" height="29" width="78"><p class="fl"><span style="DISPLAY: none" 
  id="spanfont">点击图片可刷新验证码</span><span style="DISPLAY: inline" id="clickfont" 
 >请点击后输入验证码</span><span class="pl5"><a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank" style="TEXT-DECORATION: underline">博客过2级，无需填写验证码</a></span></p></dd>
</dl>
<dl>
<dt>内&nbsp;&nbsp;容：</dt>
<dd><TEXTAREA id=commentcontent class="writeCommCon f12" name=content></TEXTAREA>
</dd>
</dl>
</div>
<div class="writeCommBot">
  <input name="parentid" id="parentid" type="hidden" >
  <input class="commBtn fl" name="submit" id="commentsubmit" onclick="" type="button" >

 <p class="fl" style="DISPLAY: none"><input class="fl" name="favour" id="favour" checked value="1" type="checkbox"><span class="fl">同时赞一个</span></p>

</div>
<span class="blank"></span>

</div><!--modCon-->
<span class="modBot"></span>
</div>
</form>

<iframe src="index_files/generated-content-2.html" id="iframe1" name="iframe1" height="0" width="0"></iframe><!--发表评论 end-->
</div>
</div>
<script language="javascript"><!--
/* Script removed by snapshot save */
--></script>
<script src="index_files/jquery-1.7.1.min-1.js"></script>
<script src="index_files/jquery.cookie.js"></script>
<script src="index_files/jquery.messager.js"></script>
<LINK rel=stylesheet type=text/css href="index_files/blog_top.css">
<script src="index_files/blog_top_list.php.js" type="text/javascript" language="javascript"></script>

<STYLE><!--

/* Effective stylesheet produced by snapshot save */

.backToTop { display: none; width: 45px; height: 45px; position: fixed; right: 140px; bottom: 10px; cursor: pointer; opacity: 0.6; text-indent: -9999px; }

.tops { background: url("urn:not-loaded:http://cyr520.blog.51cto.com/images/tops.jpg") no-repeat scroll center center transparent; }

--></STYLE>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script><div style="DISPLAY: none" title="返回顶部" class="backToTop tops">返回顶部</div>






<div class="clear"></div><!-- <script>
jQuery(function(){
	var html= "<div id=\"sogou_se_tgbar\" style=\"text-align:center;margin:0px auto 2px auto;clear:both;background:url(http://home.51cto.com/public/images/notice/sogou_se_tgbar_bg_final1.gif) repeat-x;width:950px;color:#000;font-size:13px;height:36px;z-index:21474836471\"><div style=\"float:left;cursor:pointer;width:910px;text-align:center;border-left:solid #efbf00 1px;height:32px; line-height:32px;txt-align:center;\"><span style=\"\">	<a href=\"http://51ctoblog.blog.51cto.com/26414/1093282\">【新年祝福征集】51CTO社区年底嘉年华活动正在征集博主祝福语，祝福以红包的形式随机的赠送给访问51CTO的网友 点此送祝福>></a></span></div><div onclick=\"document.getElementById('sogou_se_tgbar').style.display = 'none';\" style=\"float:right;width:20px;cursor:pointer;height:28px;padding:4px 8px 0px 8px;border-right:solid #efbf00 1px\"><img style=\"border:none;margin:4px 0px 0px 0px;\" src=\"http://home.51cto.com/public/images/notice/sogou_se_tgbar_close_final1.gif\"></div></div>"
	jQuery('body').prepend(html);
})
</script> -->

<div id="footer">
  <div id="innerFooter">
	<center>
		<small>
			Copyright By 51CTO.COM 版权所有<br><br>
			<a href="http://blog.51cto.com/" target="_blank"><IMG src="index_files/copyright.jpg"></a>
	  </small>
	</center>
  </div>
</div>
<script src="index_files/index.php.js" charset="utf-8"></script>
<div style="DISPLAY: none">
<script src="index_files/count.js"></script><script src="index_files/count.php.js"></script>

<iframe src="index_files/pageview.php.html" frameborder="0" height="0" scrolling="no" width="0"></iframe>
</div>
<div style="DISPLAY: none"><script src="index_files/stat.php.js" language="JavaScript"></script><script src="index_files/core.php.js" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=4274540" target="_blank" title="站长统计"><IMG border=0 hspace=0 src="index_files/pic.gif" ></a><div>
<script src="index_files/poptop.js"></script>
<script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>


</div></div><div><embed id="ciba_grabword_plugin" type="application/ciba-grabword-plugin" height="0" hidden="true" width="0" src=""></div></body></html>