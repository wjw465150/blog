<HTML><HEAD>
<META HTTP-EQUIV=Content-Type CONTENT=text/html; charset=UTF-8>
<title>按照80端口连接数量对来源IP进行排序</title>
<style type="text/css">
<!--
.9t {font-size: 9pt; color: #000000; font-family: "宋体";}
-->
</style></HEAD>
<body bgcolor="#ffffff">
<table width="90%" border="0" align="center" ><tr><td>
<PRE class="9t">
netstat -nt | grep $1:80 | awk '{print $5}' | awk -F":" '{print $4}' | sort | uniq -c | sort -r -n

查看httpd进程数（即prefork模式下Apache能够处理的并发请求数）：
ps -ef | grep httpd | wc -l

查看Apache的并发请求数及其TCP连接状态：
netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'
 
</PRE>
</td></tr></table>
<P>&nbsp;</P>
<P>&nbsp;</P>

</body>
</HTML>
