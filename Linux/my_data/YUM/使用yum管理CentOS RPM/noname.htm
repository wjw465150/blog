<!-- saved from url=http://cache.baidu.com/c?m=9d78d513d99216f31eb0d5690d6797244640c72362d88a5339968449e07946040223f4bb507740438f9e367001d81801b5ed74326c5f66a09bbfca109fac935c7cc8616f2142d11a44c418d9c84720c0&p=8b2a951e9c8319ff57e9852853&user=baidu -->
<script>
window.onerror = new Function("return(false);")
</script><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>使用yum管理CentOS RPM</title>
<STYLE>
  body{margin:4px 0}
  #bd_sn_h{text-align:left;background-color:#ffffff;color:#000000}
  #bd_sn_h #p1{clear:both;font:14px Arial;margin:0 0 0 2px;padding:4px 0 0 0}
  #bd_sn_h a{color:#0000ff;text-decoration:underline}
  #bd_sn_h #p1 a{font-weight:bold}
  #baidu div{position:static}
  </STYLE>
</HEAD>

<BODY text=#000000 bgColor=#ffffff>

<DIV style="POSITION: relative">

<TABLE cellSpacing=0 cellPadding=10 width="100%" border=0>

<TBODY>

<TR>

<TD><!--StartFragment--><TABLE cellSpacing=1 cellPadding=4 width="100%" border=0>
<TBODY>
<TR>
<TD><FONT class=bigfont><B>使用yum管理<A name=baidusnap0></A><B 
style="COLOR: black; BACKGROUND-COLOR: #ffff66">CentOS</B> <A 
name=baidusnap1></A><B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">RPM</B></B></FONT></TD></TR>
<TR>
<TD><SPAN class=normalfont>2006-08-23 &nbsp;&nbsp; &nbsp;&nbsp; 
http://kb.discuz.com</SPAN></TD></TR>
<TR>
<TD><SPAN class=normalfont>打印自: <A 
href="http://www.gbunix.com/">Unix中文</A><BR>地址: <A 
href="http://www.gbunix.com/">http://www.gbunix.com/</A></SPAN></TD></TR>
<TR>
<TD>
<TABLE cellSpacing=1 cellPadding=4 width="100%" border=0>
<TBODY>
<TR>
<TD vAlign=top>
<DIV class=subhead><B>使用yum管理<B 
style="COLOR: black; BACKGROUND-COLOR: #ffff66">CentOS</B> <B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">RPM</B></B></DIV></TD></TR>
<TR>
<TD vAlign=top>
<DIV class=content>
<P><STRONG>yum是什么</STRONG></P>
<P>yum = Yellow dog Updater, Modified <BR>主要功能是更方便的添加/删除/更新<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">RPM</B>包. <BR>它能自动解决包的倚赖性问题. 
<BR>它能便于管理大量系统的更新问题 </P>
<P><STRONG>yum特点</STRONG></P>
<P>可以同时配置多个资源库(Repository) <BR>简洁的配置文件(/etc/yum.conf <BR>自动解决增加或删除<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包时遇到的倚赖性问题 <BR>使用方便 
<BR>保持与<B style="COLOR: black; BACKGROUND-COLOR: #a0ffff">RPM</B>数据库的一致性 </P>
<P><STRONG>yum安装</STRONG></P>
<P><B 
style="COLOR: black; BACKGROUND-COLOR: #ffff66">CentOS</B>自带(yum-*.noarch.<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>) <BR><BR></P>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B> -ivh yum-*.noarch.<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B></TD></TR></TBODY></TABLE><BR>在第一次启用yum之前首先需要导入系统的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">RPM</B>-GPG-KEY：<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B> --import 
/usr/share/doc/<B 
style="COLOR: black; BACKGROUND-COLOR: #ffff66">centos</B>-release-3(4)/<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">RPM</B>-GPG-KEY-<B 
style="COLOR: black; BACKGROUND-COLOR: #ffff66">CentOS</B>-3(4)</TD></TR></TBODY></TABLE>
<P><STRONG>yum指令</STRONG></P>
<P>注:当第一次使用yum或yum资源库有更新时,yum会自动下载所有所需的headers放置于/var/cache/yum目录下,所需时间可能较长. 
</P>
<P><STRONG><B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的更新</STRONG></P>
<P>检查可更新的<B style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包&nbsp; </P>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum 
check-update</TD></TR></TBODY></TABLE><BR>更新所有的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包 <BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum 
update</TD></TR></TBODY></TABLE><BR>更新指定的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包,如更新kernel和kernel source 
<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp; #yum update kernel kernel-source 
</TD></TR></TBODY></TABLE><BR>大规模的版本升级,与yum update不同的是,连旧的淘汰的包也升级<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum upgrade 
</TD></TR></TBODY></TABLE><BR><STRONG><B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的安装和删除</STRONG><BR><BR>安装<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包,如xmms-mp3 <BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum install 
xmms-mp3</TD></TR></TBODY></TABLE><BR>删除<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包,包括与该包有倚赖性的包<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum remove licq 
</TD></TR></TBODY></TABLE><BR>注:同时会提示删除licq-gnome,licq-qt,licq-text 
<BR><BR><STRONG>yum暂存(/var/cache/yum/)的相关参数</STRONG><BR><BR>清除暂存中<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包文件 <BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum clean 
packages</TD></TR></TBODY></TABLE><BR>清除暂存中<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>头文件<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum clearn 
headers</TD></TR></TBODY></TABLE><BR>清除暂存中旧的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>头文件<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum clean oldheaders 
</TD></TR></TBODY></TABLE><BR>清除暂存中旧的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>头文件和包文件<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum clearn 或#yum clearn 
all</TD></TR></TBODY></TABLE><BR>注:相当于yum clean packages + yum clean oldheaders 
<BR><BR><STRONG>包列表</STRONG><BR><BR>列出资源库中所有可以安装或更新的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包 <BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum 
list</TD></TR></TBODY></TABLE><BR>列出资源库中特定的可以安装或更新以及已经安装的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum list mozilla <BR>&nbsp;#yum list 
mozilla* </TD></TR></TBODY></TABLE><BR>注:可以在<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包名中使用匹配符,如列出所有以mozilla开头的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包 <BR><BR>列出资源库中所有可以更新的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包 <BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum list 
updates</TD></TR></TBODY></TABLE><BR>列出已经安装的所有的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包 <BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum list 
installed</TD></TR></TBODY></TABLE><BR>列出已经安装的但是不包含在资源库中的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包 <BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum list 
extras</TD></TR></TBODY></TABLE><BR>注:通过其它网站下载安装的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包 <BR><BR><STRONG><B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包信息显示(info参数同list)</STRONG><BR><BR>列出资源库中所有可以安装或更新的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的信息<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum info 
</TD></TR></TBODY></TABLE><BR>列出资源库中特定的可以安装或更新以及已经安装的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的信息<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum info mozilla <BR>&nbsp;#yum info 
mozilla* </TD></TR></TBODY></TABLE><BR>注:可以在<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包名中使用匹配符,如列出所有以mozilla开头的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的信息 
<BR><BR>列出资源库中所有可以更新的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的信息<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum info updates 
</TD></TR></TBODY></TABLE><BR>列出已经安装的所有的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的信息<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum info installed 
</TD></TR></TBODY></TABLE><BR>列出已经安装的但是不包含在资源库中的<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的信息 <BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum info extras 
</TD></TR></TBODY></TABLE>
<P>注:通过其它网站下载安装的<B style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包的信息 
</P>
<P><STRONG>搜索<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包</STRONG></P>
<P>搜索匹配特定字符的<B style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包</P>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum search 
mozilla</TD></TR></TBODY></TABLE><BR>注:在<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包名,包描述等中搜索 
<BR><BR>搜索有包含特定文件名的<B style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>包 
<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#yum provides realplay 
</TD></TR></TBODY></TABLE>
<P><STRONG>增加资源库</STRONG></P>
<P>例如:增加<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>.livna.org作为资源库 </P>
<P>安装Livna.org rpms GPG key</P>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B> --import <A 
href="http://rpm.livna.org/RPM-LIVNA-GPG-KEY">http://<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B>.livna.org/<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">RPM</B>-LIVNA-GPG-KEY</A> 
</TD></TR></TBODY></TABLE><BR>检查GPG Key<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;# <B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B> -qa gpg-pubkey* 
</TD></TR></TBODY></TABLE><BR>显示Key信息<BR><BR>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=2 width="90%" 
align=center borderColorLight=black border=1>
<TBODY>
<TR>
<TD style="FONT-SIZE: 9pt" bgColor=#e6e6e6>&nbsp;#<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B> -qi 
gpg-pubkey-a109b1ec-3f6e28d5</TD></TR></TBODY></TABLE><BR>(注:如果要删除Key,使用#<B 
style="COLOR: black; BACKGROUND-COLOR: #a0ffff">rpm</B> -e 
gpg-pubkey-a109b1ec-3f6e28d5) <BR></DIV></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><!--EndFragment--></TD>
</TR>
</TBODY>
</TABLE>
</DIV>
<P>&nbsp;</P>
<P>&nbsp;</P>
</BODY>

</HTML>