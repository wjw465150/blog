<!-- saved from url=http://blog.chinaunix.net/u2/71666/showart_1736015.html -->
<script>
window.onerror = new Function("return(false);")
</script><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML xmlns="http://www.w3.org/1999/xhtml" xmlns:html = 
"http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>yum的各种安装</title><LINK 
rel=stylesheet href="index.css"></LINK>
<SCRIPT language=javascript>
try{
top.document.title="yum的各种安装 - gamester88";
}catch(e){
}
</SCRIPT>
</HEAD>

<BODY style="BACKGROUND: #ffffff" leftMargin=0 topMargin=0 align="center" 
marginheight="0" marginwidth="0">

<CENTER>

<TABLE style="BORDER-COLLAPSE: collapse" border=0 cellSpacing=0 
borderColor=#111111 cellPadding=0 width="90%">

<TBODY><!--StartFragment-->
<TR>
<TD bgColor=#f5fdee align=center><FONT style="FONT-SIZE: 14pt" color=#295200><B>yum的各种安装</B></FONT> 
<TABLE style="BORDER-COLLAPSE: collapse" border=1 cellSpacing=1 
borderColor=#a5bd6b cellPadding=0 width="100%">
<TBODY>
<TR>
<TD align=center>
<TABLE style="WORD-WRAP: break-word; BORDER-COLLAPSE: collapse" border=0 
cellSpacing=0 cellPadding=0 width="100%">
<TBODY>
<TR>
<TD align=center>
<TABLE style="WORD-WRAP: break-word; BORDER-COLLAPSE: collapse" border=0 
cellSpacing=0 cellPadding=0 width="100%">
<TBODY>
<TR>
<TD>
<DIV style="MARGIN: 15px" id=art>
<DIV style="TEXT-ALIGN: center">
<DIV style="TEXT-ALIGN: left">
<DIV style="TEXT-ALIGN: center"><FONT size=5><SPAN 
style="FONT-WEIGHT: bold">yum的各种安装</SPAN></FONT><BR></DIV>1.光盘安装<BR>[root@localhost 
~]# mkdir /install<BR>[root@localhost ~]# mount /dev/cdrom 
/mnt<BR>[root@localhost ~]# cp -r /mnt /install<BR>[root@localhost ~]# vi 
/etc/yum.repos.d/local.repo<BR>写入如下内容：/install/Server为修改后的RPM包的路径<BR>[rhel5-local]<BR>name=Red 
Hat Enterprise Linux 5 Local 
Repository<BR>baseurl=file:///install/Server<BR>enabled=1<BR>gpgcheck=0<BR>[root@localhost 
Server]# yum install system-config-kickstart<BR>Loading "rhnplugin" 
plugin<BR>Loading "security" plugin<BR>This system is not registered with 
RHN.<BR>RHN support will be disabled.<BR>rhel5-local&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 100% 
|=========================| 1.3 kB&nbsp;&nbsp;&nbsp; 00:00&nbsp;&nbsp;&nbsp;&nbsp; <BR>primary.xml.gz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
100% |=========================| 709 kB&nbsp;&nbsp;&nbsp; 00:00&nbsp;&nbsp;&nbsp;&nbsp; <BR>rhel5-loca: 
################################################## 2223/2223<BR>Setting up 
Install Process<BR>Parsing package install arguments<BR>Resolving 
Dependencies<BR>--&gt; Running transaction check<BR>---&gt; Package 
system-config-kickstart.noarch 0:2.6.19.6-1.el5 set to be updated<BR>--&gt; 
Processing Dependency: pykickstart for package: 
system-config-kickstart<BR>--&gt; Running transaction check<BR>---&gt; Package 
pykickstart.noarch 0:0.43.1-1.el5 set to be updated<BR>--&gt; Finished 
Dependency Resolution<BR><BR>Dependencies 
Resolved<BR><BR>=============================================================================<BR>&nbsp;Package&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Arch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Repository&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Size 
<BR>=============================================================================<BR>Installing:<BR>&nbsp;system-config-kickstart&nbsp; 
noarch&nbsp;&nbsp;&nbsp;&nbsp; 2.6.19.6-1.el5&nbsp;&nbsp; rhel5-local&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 988 k<BR>Installing for 
dependencies:<BR>&nbsp;pykickstart&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noarch&nbsp;&nbsp;&nbsp;&nbsp; 0.43.1-1.el5&nbsp;&nbsp;&nbsp;&nbsp; 
rhel5-local&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 127 k<BR><BR>Transaction 
Summary<BR>=============================================================================<BR>Install&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
2 Package(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>Update&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 Package(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>Remove&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 
Package(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR><BR>Total download size: 1.1 M<BR>Is this ok [y/N]: 
y<BR>Downloading Packages:<BR>Running rpm_check_debug<BR>Running Transaction 
Test<BR>Finished Transaction Test<BR>Transaction Test Succeeded<BR>Running 
Transaction<BR>&nbsp; Installing: pykickstart&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
######################### [1/2] <BR>&nbsp; Installing: system-config-kickstart&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
######################### [2/2] <BR><BR>Installed: 
system-config-kickstart.noarch 0:2.6.19.6-1.el5<BR>Dependency Installed: 
pykickstart.noarch 0:0.43.1-1.el5<BR>Complete!<BR>2.网络安装<BR>A:[root@nihao ~]# vi 
/etc/yum.conf <PRE>[Base]<BR>name=as5-base<BR>baseurl=<A class="external free" title=http://centos.ustc.edu.cn/centos/5/os/i386 href="http://centos.ustc.edu.cn/centos/5/os/i386" rel=nofollow>http://centos.ustc.edu.cn/centos/5/os/i386</A><BR>gpgcheck=1<BR>gpgkey=<A class="external free" title=http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5 href="http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5" rel=nofollow>http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5</A><BR></PRE>把上述加入文件的最后<BR>B:[root@nihao 
~]# cd /etc/yum.repos.d/<BR>&nbsp; [root@nihao yum.repos.d]# vi centos.repo <PRE># CentOS-Base.repo<BR>#<BR># This file uses a new mirrorlist system developed by Lance Davis for<BR># CentOS.<BR># The mirror system uses the connecting IP address of the client and the<BR># update status of each mirror to pick mirrors that are updated to and<BR># geographically close to the client. You should use this for CentOS<BR># updates<BR># unless you are manually picking other mirrors.<BR>#<BR># If the mirrorlist= does not work for you, as a fall back you can try the<BR># remarked out baseurl= line instead.<BR>#<BR>#<BR>[base]<BR>name=CentOS-$releasever - Base<BR>baseurl=<A class="external free" title=http://centos.ustc.edu.cn/centos/5/os/i386/ href="http://centos.ustc.edu.cn/centos/5/os/i386/" rel=nofollow>http://centos.ustc.edu.cn/centos/5/os/i386/</A><BR>gpgcheck=1<BR>gpgkey=<A class="external free" title=http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5 href="http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5" rel=nofollow>http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5</A><BR>#released updates<BR>[updates]<BR>name=CentOS-$releasever - Updates<BR>baseurl=<A class="external free" title=http://centos.ustc.edu.cn/centos/5/updates/i386/ href="http://centos.ustc.edu.cn/centos/5/updates/i386/" rel=nofollow>http://centos.ustc.edu.cn/centos/5/updates/i386/</A><BR>gpgcheck=1<BR>gpgkey=<A class="external free" title=http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5 href="http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5" rel=nofollow>http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5</A><BR>#packages used/produced in the build but not released<BR>[addons]<BR>name=CentOS-$releasever - Addons<BR>baseurl=<A class="external free" title=http://centos.ustc.edu.cn/centos/5/addons/i386/ href="http://centos.ustc.edu.cn/centos/5/addons/i386/" rel=nofollow>http://centos.ustc.edu.cn/centos/5/addons/i386/</A><BR>gpgcheck=1<BR>gpgkey=<A class="external free" title=http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5 href="http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5" rel=nofollow>http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5</A><BR>#additional packages that may be useful<BR>[extras]<BR>name=CentOS-$releasever - Extras<BR>baseurl=<A class="external free" title=http://centos.ustc.edu.cn/centos/5/extras/i386/ href="http://centos.ustc.edu.cn/centos/5/extras/i386/" rel=nofollow>http://centos.ustc.edu.cn/centos/5/extras/i386/</A><BR>gpgcheck=1<BR>gpgkey=<A class="external free" title=http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5 href="http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5" rel=nofollow>http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5</A><BR>#additional packages that extend functionality of existing packages<BR>[centosplus]<BR>name=CentOS-$releasever - Plus<BR>baseurl=<A class="external free" title=http://centos.ustc.edu.cn/centos/5/centosplus/i386/ href="http://centos.ustc.edu.cn/centos/5/centosplus/i386/" rel=nofollow>http://centos.ustc.edu.cn/centos/5/centosplus/i386/</A><BR>gpgcheck=1<BR>enabled=0<BR>gpgkey=<A class="external free" title=http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5 href="http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5" rel=nofollow>http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-5</A><BR>把上述写入文件<BR><B>3. yum各个命令</B><BR><BR>  安装：<BR>  yum install RPM包的名称<BR><BR>  删除：<BR>  yum remove RPM包的名称<BR><BR>  搜索：<BR>  yum search  RPM包的名称<BR><BR>  显示仓库所有文件：<BR>  yum list<BR><BR>  显示安装包详细说明信息：<BR>  yum info  RPM包的名称<BR><BR>  更新安装：<BR>  yum update  RPM包的名称<BR><BR>  清楚服务器仓库缓存等：<BR>  yum clean all<BR><BR>  本地安装：<BR>  yum localinstall  /路径/RPM包的名称<BR><BR>  本地更新:<BR>  yum localupdate /路径/RPM包的名称<BR><BR>  显示安装包所安装的文件列表:<BR>  yum provides  RPM包的名称<BR><BR>  反查文件所属安装包：<BR>  yum whatprovides  /路径/文件<BR><BR>  注：<BR>  若安装时需要安装到指定的文件夹，则需要 --installroot<BR>  举例：<BR>      yum install --installroot=/mnt  vim<BR><BR></PRE>
<P><BR></P>常见问题： 1、解决安装时需要KEY的问题? vim /etc/yum.conf 找到这行： gpgcheck=1 替换成： 
gpgcheck=0 
<P><BR></P>总结： 这个是针对单机配置，所以使用file关键字，如果打算在网络内使用，则可以使用ftp关键字，当 
然还要开启相应的ftp服务。具体配置参考附件脚本。另外这个配置完成以后，在使用: system-config-packages 
system-config-kickstart 这些工具时，也能够支持。 yum list installed #所有已安装名 yum list updates 
#所有可更新包 yum updates #升级系统 yum install gcc #安装gcc 
<P><B>4. PGP公钥解决办法:</B><BR>rpm --import /usr/share/rhn/RPM-PGP-KEY </P><PRE><BR></PRE><BR><BR><FONT size=5><SPAN 
style="FONT-WEIGHT: bold"></SPAN></FONT></DIV><FONT size=5><SPAN 
style="FONT-WEIGHT: bold"></SPAN></FONT></DIV>
<DIV></DIV>
<DIV></DIV>
<DIV></DIV></DIV></TD></TR></TBODY></TABLE></TD></TR>
<TR>
<TD height=25 align=center><FONT color=#295200>创建于： 2008-12-23 09:28:58，修改于： 
2009-09-26 14:20:56，已浏览437次，有评论0条</FONT> 
</TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD>
<TD background=bg_art_right.gif width=18></TD></TR>
<TR>
<TD height=28 width=18><IMG border=0 alt="" 
src="bg_art_left_bottom.gif"></TD></TR><!--EndFragment--></TBODY>
</TABLE>
</CENTER>
<P>&nbsp;</P>
<P>&nbsp;</P>
</BODY>
</HTML>