<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Windows下 NFS 客户端的安装及设置</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body><!--StartFragment--><h2 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">
<span style="FONT-SIZE: 16pt; FONT-FAMILY: '黑体'; FONT-WEIGHT: bold">4&nbsp;Windows<span>下</span>

<span style="FONT-FAMILY: Arial">NFS</span>

<span>客户端的安装及设置</span>
</span>
</h2>
<p>&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">在Windows上使用NFS客户端，需要把nfs共享目录映射到一个驱动器。此处假定为映射的驱动器为N:，而nfs共享目录为192.168.6.55:/vmsnfs。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<h3 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">
<span style="FONT-SIZE: 16pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">4.1&nbsp;安装Microsoft&nbsp;Windows&nbsp;Services&nbsp;for&nbsp;UNIX</span>
</h3>
<p>&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">


Windows&nbsp;Services&nbsp;for&nbsp;UNIX&nbsp;3.5&nbsp;提供支援充分和整合完全的跨平台網路服務，適應需要&nbsp;Windows&nbsp;和&nbsp;UNIX&nbsp;基礎環境之間交互操作性的企業客戶。&nbsp;Windows&nbsp;Services&nbsp;for&nbsp;UNIX&nbsp;3.5&nbsp;為企業客戶提供儲存在多個平台的資訊之緊密存取，統一了跨平台的網路管理，並且重複使用&nbsp;UNIX&nbsp;應用程式和&nbsp;Windows&nbsp;上的指令碼。其中包括支援網路檔案系統&nbsp;(NFS)。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">下载Microsoft&nbsp;Windows&nbsp;Services&nbsp;for&nbsp;UNIX</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">地址：</span>

<span><a href="http://www.microsoft.com/taiwan/windows/sfu/"><span style="FONT-SIZE: 10pt; TEXT-DECORATION: underline; FONT-FAMILY: '宋体'; COLOR: #0000ff">http://www.microsoft.com/taiwan/windows/sfu/</span>

</a>

</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">安装程序：</span>

<span><a href="http://www.microsoft.com/downloads/en/confirmation.aspx?FamilyID=896c9688-601b-44f1-81a4-02878ff11778&amp;displaylang=en"><span style="FONT-SIZE: 10pt; TEXT-DECORATION: underline; FONT-FAMILY: '宋体'; COLOR: #0000ff">SFU35SEL_EN.exe</span>

</a>

</span>

<span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">&nbsp;217&nbsp;MB&nbsp;(228,178,504&nbsp;字节)</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">安装Microsoft&nbsp;Windows&nbsp;Services&nbsp;for&nbsp;UNIX</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><strong><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">注意与NFS有关的两个组件是一定要安装的</span>
</strong>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">NFS-&gt;Client&nbsp;for&nbsp;NFS</span>

<span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'"><br></span>

<span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">Authentication&nbsp;tools&nbsp;for&nbsp;NFS-&gt;Server&nbsp;for&nbsp;PCNFS</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">安装过程比较简单，此处略过。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<h3 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">
<span style="FONT-SIZE: 16pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">4.2&nbsp;在Windows下配置NFS客户端</span>
</h3>
<p>&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">打开Services&nbsp;for&nbsp;UNIX&nbsp;Administration配置用户名</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">
点
“开始菜单”-&gt;“所有程序”-&gt;“Windows&nbsp;Services&nbsp;for&nbsp;UNIX”-&gt;“Services&nbsp;for&nbsp;UNIX&nbsp;Administration”,
会弹出一个名为“Services&nbsp;for&nbsp;UNIX&nbsp;Administration”的窗口。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">左边栏切到Server&nbsp;for&nbsp;PCNFS。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">右边栏切到Groups，添加Group&nbsp;Name为root，Group&nbsp;ID(GID)为0的组。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">右边栏切到Users，添加User&nbsp;name为root，User&nbsp;logon&nbsp;name为root，Primary&nbsp;group&nbsp;name为root，User&nbsp;ID(UID)为0的用户，密码不必与Linux系统的密码相同。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">点击右上角的Apply保存。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">映射网络驱动器到NFS共享目录（界面操作方式，不推荐）</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">在“网上邻居”上按右键，选择“映射网络驱动器”，会弹出映射网络驱动器对话框。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">选择盘符，比如N:</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">输入网络资源路径：192.168.6.55:/vmsnfs</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">
点
“确定”。会弹出一个NFS&nbsp;login&nbsp;successful的信息框，注意检查显示的UID和GID的值（一般为-2），点“否”，会弹出
Client&nbsp;for&nbsp;NFS&nbsp;Drive&nbsp;N:对话框。选中Login&nbsp;using&nbsp;PCNFS&nbsp;authentication对话框，在
Server&nbsp;name中填入localhost，在User&nbsp;name中填入root，在Password中填入前面设定的密码，点“确定”，会再次弹出NFS&nbsp;login&nbsp;successful的信息框，此次会显示UID和GID均为0，点“确定”。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">这时打开“我的电脑”，会看到增加了一个盘符N:。在其上按右键打开属性对话框，切换到NFS&nbsp;Attributes页，会看到权限，切换到NFS&nbsp;Mount&nbsp;Options，会看到UID和GID等信息。注意确认一下UID和GID一定要为0。</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">映射网络驱动器到NFS共享目录（批处理脚本方式，推荐）</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">



上面这段挺费劲的，但我不推荐使用这种方式来设置，因为一旦重新启动机器，你再打开“我的电脑”，在NFS对应的盘符N:属性就会看到UID和GID由还原成了-2。还得先把它断开，然后重新设置，挺麻烦的。所幸微软提供了类似Unix下的命令行工具mount.exe，可以编写如下内容的批处理脚本并保存为nfs.bat。其中第一行是用来记录操作日志的，第二行启动Server&nbsp;for&nbsp;PCNFS，第三行是避免mount命令出错，第四行是把nfs共享目录挂载到N:（注意-p:xxx要设置成前面设定的密码），第五行列出N:下的文件和目录。</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p>&nbsp;</p>
<div class="dp-highlighter" ><div class="bar"><div class="tools">批处理代码 <div role=button tabindex="0" title="/javascripts/syntaxhighlighter/clipboard_new.swf" style="OVERFLOW: hidden; CURSOR: pointer; BORDER-TOP: rgb(223,223,223) 1px solid; HEIGHT: 32px; BORDER-RIGHT: rgb(223,223,223) 1px solid; WIDTH: 32px; BACKGROUND: url(chrome://flashblock/content/flash.png) no-repeat center center; MIN-WIDTH: 32px !important; BORDER-BOTTOM: rgb(223,223,223) 1px solid; MIN-HEIGHT: 32px !important; BORDER-LEFT: rgb(223,223,223) 1px solid; DISPLAY: inline-block; VISIBILITY: visible !important; -moz-box-sizing: border-box" bginactive ="url(chrome://flashblock/content/flash.png) no-repeat center" bgactive="url(chrome://flashblock/content/flashplay.png) no-repeat center" srcattribute="/javascripts/syntaxhighlighter/clipboard_new.swf"></div>&nbsp;<A onclick="code_favorites_do_favorite(this);return false;" title=收藏这段代码 href="javascript:void()" ><IMG class=star alt=收藏代码 src="icon_star.png"></a></div></div><ol class="dp-default" ><li><span><span>echo&nbsp;mount&nbsp;nfs&nbsp;at&nbsp;%date%&nbsp;%time%&nbsp;&gt;&gt;c:\nfs.log&nbsp;&nbsp;</span></span><li><span>net&nbsp;start&nbsp;pcnfsd&nbsp;&gt;&gt;c:\nfs.log&nbsp;&nbsp;</span><li><span>net&nbsp;use&nbsp;/pers:no&nbsp;&gt;&gt;c:\nfs.log&nbsp;&nbsp;</span><li><span>mount&nbsp;-o&nbsp;mtype=hard&nbsp;-o&nbsp;pcnfs=localhost&nbsp;-u:root&nbsp;-p:xxx&nbsp;<span class="number">192.168</span><span>.</span><span class="number">6.55</span><span>:/vmsnfs&nbsp;N:&nbsp;&gt;&gt;c:\nfs.log&nbsp;&nbsp;</span></span><li><span>dir&nbsp;N:&nbsp;&gt;&gt;c:\nfs.log&nbsp;&nbsp;&nbsp;</span></li></ol></div>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">双击执行nfs.bat，然后打开“我的电脑”就可以看到N:了，然后打开c:\nfs.log看一下。</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<div class="dp-highlighter" ><div class="bar"><div class="tools">Text代码 <div role=button tabindex="0" title="about:blank" style="OVERFLOW: hidden; CURSOR: pointer; BORDER-TOP: rgb(223,223,223) 1px solid; HEIGHT: 32px; BORDER-RIGHT: rgb(223,223,223) 1px solid; WIDTH: 32px; BACKGROUND: url(chrome://flashblock/content/flash.png) no-repeat center center; MIN-WIDTH: 32px !important; BORDER-BOTTOM: rgb(223,223,223) 1px solid; MIN-HEIGHT: 32px !important; BORDER-LEFT: rgb(223,223,223) 1px solid; DISPLAY: inline-block; VISIBILITY: visible !important; -moz-box-sizing: border-box" bginactive ="url(chrome://flashblock/content/flash.png) no-repeat center" bgactive="url(chrome://flashblock/content/flashplay.png) no-repeat center" srcattribute="about:blank"></div>&nbsp;<A onclick="code_favorites_do_favorite(this);return false;" title=收藏这段代码 href="javascript:void()" ><IMG class=star alt=收藏代码 src="icon_star.png"></a></div></div><ol class="dp-default" ><li><span><span>mount&nbsp;nfs&nbsp;at&nbsp;</span><span class="number">2010</span><span>-</span><span class="number">11</span><span>-</span><span class="number">19</span><span>&nbsp;星期五&nbsp;</span><span class="number">11</span><span>:</span><span class="number">33</span><span>:</span><span class="number">39.15</span><span>&nbsp;&nbsp;&nbsp;</span></span><li><span>命令成功完成。&nbsp;&nbsp;</span><li><span>&nbsp;&nbsp;</span><li><span>N:&nbsp;is&nbsp;now&nbsp;successfully&nbsp;connected&nbsp;to&nbsp;<span class="number">192.168</span><span>.</span><span class="number">6.55</span><span>:/vmsnfs&nbsp;&nbsp;</span></span><li><span>&nbsp;&nbsp;</span><li><span>The&nbsp;command&nbsp;completed&nbsp;successfully.&nbsp;&nbsp;</span><li><span>mounted&nbsp;&nbsp;&nbsp;&nbsp;</span></li></ol></div>
<p>&nbsp;</p>
<p>如果看到successully之类的关键字眼，就表明mount成功了。</p>
<p>&nbsp;</p>
<h3 style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">
<span style="FONT-SIZE: 16pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">4.3&nbsp;在Windows下使用NFS客户端会碰到的问题</span>
</h3>
<p>&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">Q：在挂载nfs共享目录时，mount.exe报1326错误，是什么原因？</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">Network&nbsp;Error&nbsp;-&nbsp;1326</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">Type&nbsp;'NET&nbsp;HELPMSG&nbsp;1326'&nbsp;for&nbsp;more&nbsp;information.</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">A：根据提示，使用net helpmsg看一下，如下所示：</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">C:\&gt;<span style="COLOR: #0000ff">net&nbsp;helpmsg&nbsp;1326</span>
</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">登录失败:&nbsp;未知的用户名或错误密码。</span>

</p>
<p>这时，需要检查一下mount命令后面的-u:user和-p:password这两部分是否正确了。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">Q：在挂载nfs共享目录时，mount.exe报85错误，是什么原因？</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">Network&nbsp;Error&nbsp;-&nbsp;85</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">Type&nbsp;'NET&nbsp;HELPMSG&nbsp;85'&nbsp;for&nbsp;more&nbsp;information.</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">A：根据提示，使用net helpmsg看一下，如下所示：</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">C:\&gt;<span style="COLOR: #0000ff">net&nbsp;helpmsg&nbsp;85</span>
</span>

</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">本地设备名已在使用中。</span>

</p>
<p>这是由于对同一个驱动器重复执行mount命令造成的，确认驱动器选择是否正确。</p>
<p>&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'; FONT-WEIGHT: bold">Q：创建目录或文件时报“拒绝访问”，怎么办？</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">A：首先打开“我的电脑”，在NFS映射的驱动器上按右键，打开属性对话框。切换到NFS&nbsp;Mount&nbsp;Options页，看显示的UID和GID是否为0，可能你看到的是-2。关闭属性对话框之后，在驱动器上按右键，选择“断开”，然后参照上一节重新设置。</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">如果看到NFS&nbsp;Mount&nbsp;Options页显示的UID和GID都为0，那么就要到NFS服务端去查找原因了。比如，检查一下共享目录的属主和组是否为nfsnobody，参见前面的章节。</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><strong><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">Q：怎样做到登录Windows之后自动启动NFS？</span>
</strong>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">
A：按照4.2创建nfs.bat脚本，然后复制到“启动”目录（我的XP系统是“C:\Documents&nbsp;and&nbsp;Settings
\Administrator\「开始」菜单\程序\启动”目录）。在登录之后就会自动挂载nfs共享目录。如果需要确认是否成功，打开c:
\nfs.log看一下。</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><strong><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: '宋体'">Q：怎样做到启动Windows之后自动挂载NFS，而不管是否登录？</span>
</strong>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">A：这个就有点难了。本人试验了如下两种方式，都无法成功的挂在nfs共享目录。（奇怪，手工直接执行nfs.bat就能成功）</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">（1）安装Windows Resource Kits，里面有instsrv.exe和srvany.exe两个程序，制作了系统服务MountNFS，用来执行nfs.bat脚本。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">（2）设置“任务计划”，执行文件为nfs.bat，触发条件为“计算机启动时”。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">最后，只能将XP系统设置为自动登录才得以解决，不算很完美。具体如下：</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">先按照上一个问题中所述，将nfs.bat复制到“启动”目录。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">然后执行“<strong><span style="COLOR: #0000ff"><span id="xydwtext" class="font14">rundll32 netplwiz.dll,UsersRunDll</span>
</span>
</strong>
”,在弹出的用户账户对话框中，把“要使用本机，用户必须输入用户名和密码(E)”前面的钩去掉，然后点“确定”。这时，会提示输入账号和密码，输入好之后保存就行了。下次启动机器就会直接登录，而无需手工输入账号和密码了。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">因为自动登录Windows之后会自动去执行“启动”目录的nfs.bat脚本，也就会挂载nfs共享目录了。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><strong>Q：怎样才能在Windows下用程序访问文件服务器上的文件？</strong>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">A：在Linux下文件
/vmsnfs/subdir/file.wav，可以直接访问，在Windows下在路径前面加上N:无法访问N:/vmsnfs/subdir
/file.wav，必须要把路径里面的vmsnfs去掉，变成N:/subdir/file.wav才能访问。这样程序处理起来稍微有点麻烦。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">如果在Linux文件服务器的共享目录上创建一个名为vmsnfs符号链接，就可以用N:/vmsnfs/subdir/file.wav来访问了，具体做法如下：</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="COLOR: #0000ff">cd /vmsnfs</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><span style="COLOR: #0000ff">ln -s . vmsnfs</span>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"><strong>Q：文件服务器重启之后，Windows上mount的nfs共享目录还能继续正常访问吗？</strong>
</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">A：有待试验。</p>
<p class="p0" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">&nbsp;</p><!--EndFragment-->
</body>
</htm</html>