<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>设置PageCache</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body>
<DIV class=titlepage 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<DIV 
style="FONT-SIZE: 16px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<DIV 
style="FONT-SIZE: 16px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<H2 class=title 
style="FONT-SIZE: 1.5em; BORDER-TOP: 0px; FONT-FAMILY: 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; COLOR: rgb(167,0,0); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 1em 0px 0.4em; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; LINE-HEIGHT: 23px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">5.2.&nbsp;Tuning 
the Page Cache</H2></DIV></DIV></DIV>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Page 
Cache is a disk cache which holds data of files and executable programs, for 
example pages with actual contents of files or block devices. Page Cache (disk 
cache) is used to reduce the number of disk reads. To control the percentage of 
total memory used for page cache in Red Hat Enterprise Linux 3, the following 
kernel parameter can be changed:</DIV><PRE class=screen style="WORD-WRAP: break-word; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; PAGE-BREAK-INSIDE: avoid; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0.5em; TEXT-ALIGN: left; PADDING-TOP: 0.5em; FONT: 0.9em/18px 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; PADDING-LEFT: 1em; MARGIN: 0px 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; DISPLAY: block; LETTER-SPACING: normal; PADDING-RIGHT: 1em; BACKGROUND-COLOR: rgb(245,245,245); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; box-shadow: rgb(170, 170, 170) 0px 2px 5px inset; border-top-left-radius: 11px; border-top-right-radius: 11px; border-bottom-right-radius: 11px; border-bottom-left-radius: 11px; tab-size: 4"># cat /proc/sys/vm/pagecache
1       15      30</PRE>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">The 
above three values are usually good for database systems. It is not recommended 
to set the third value very high, around 100, as it used to be with older Red 
Hat Enterprise Linux 3 kernels. This can cause significant performance problems 
for database systems. If you upgrade to a newer kernel like<SPAN 
class=Apple-converted-space>&nbsp;</SPAN><CODE class=command 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">2.4.21-37</CODE>, 
then these values will automatically change to "<CODE class=command 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">1 
15 30</CODE>" unless its set to different values in<SPAN 
class=Apple-converted-space>&nbsp;</SPAN><CODE class=filename 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">/etc/sysctl.conf</CODE>. 
For information on tuning the<SPAN 
class=Apple-converted-space>&nbsp;</SPAN><CODE class=command 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">pagecache</CODE><SPAN 
class=Apple-converted-space>&nbsp;</SPAN>kernel parameter, see Understanding 
Virtual Memory. Note this kernel parameter does not exist in Red Hat Enterprise 
Linux 4.</DIV>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">The<SPAN 
class=Apple-converted-space>&nbsp;</SPAN><EM class=parameter 
style="FONT-SIZE: 16px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent"><CODE 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; DISPLAY: inline; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">pagecache</CODE></EM><SPAN 
class=Apple-converted-space>&nbsp;</SPAN>parameters can be changed in the proc 
file system without reboot:</DIV><PRE class=screen style="WORD-WRAP: break-word; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; PAGE-BREAK-INSIDE: avoid; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0.5em; TEXT-ALIGN: left; PADDING-TOP: 0.5em; FONT: 0.9em/18px 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; PADDING-LEFT: 1em; MARGIN: 0px 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; DISPLAY: block; LETTER-SPACING: normal; PADDING-RIGHT: 1em; BACKGROUND-COLOR: rgb(245,245,245); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; box-shadow: rgb(170, 170, 170) 0px 2px 5px inset; border-top-left-radius: 11px; border-top-right-radius: 11px; border-bottom-right-radius: 11px; border-bottom-left-radius: 11px; tab-size: 4"># echo "1 15 30" &gt; /proc/sys/vm/pagecache</PRE>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Alternatively, 
you can use<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE class=command 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">sysctl(8)</CODE><SPAN 
class=Apple-converted-space>&nbsp;</SPAN>to change it:</DIV><PRE class=screen style="WORD-WRAP: break-word; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; PAGE-BREAK-INSIDE: avoid; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0.5em; TEXT-ALIGN: left; PADDING-TOP: 0.5em; FONT: 0.9em/18px 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; PADDING-LEFT: 1em; MARGIN: 0px 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; DISPLAY: block; LETTER-SPACING: normal; PADDING-RIGHT: 1em; BACKGROUND-COLOR: rgb(245,245,245); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; box-shadow: rgb(170, 170, 170) 0px 2px 5px inset; border-top-left-radius: 11px; border-top-right-radius: 11px; border-bottom-right-radius: 11px; border-bottom-left-radius: 11px; tab-size: 4"># sysctl -w vm.pagecache="1 15 30"</PRE>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">To 
make the change permanent, add the following line to the file<SPAN 
class=Apple-converted-space>&nbsp;</SPAN><CODE class=filename 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">/etc/sysctl.conf</CODE>. 
This file is used during the boot process.</DIV><PRE class=screen style="WORD-WRAP: break-word; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; PAGE-BREAK-INSIDE: avoid; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0.5em; TEXT-ALIGN: left; PADDING-TOP: 0.5em; FONT: 0.9em/18px 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; PADDING-LEFT: 1em; MARGIN: 0px 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; DISPLAY: block; LETTER-SPACING: normal; PADDING-RIGHT: 1em; BACKGROUND-COLOR: rgb(245,245,245); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; box-shadow: rgb(170, 170, 170) 0px 2px 5px inset; border-top-left-radius: 11px; border-top-right-radius: 11px; border-bottom-right-radius: 11px; border-bottom-left-radius: 11px; tab-size: 4"># echo "vm.pagecache=1 15 30" &gt;&gt; /etc/sysctl.conf</PRE>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">With 
Red Hat Enterprise Linux 4 and 5, the<SPAN 
class=Apple-converted-space>&nbsp;</SPAN><EM class=parameter 
style="FONT-SIZE: 16px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent"><CODE 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; DISPLAY: inline; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">pagecache</CODE></EM><SPAN 
class=Apple-converted-space>&nbsp;</SPAN>is dynamically adjusted. You can adjust 
the minimum free pages using the following command:</DIV><PRE class=screen style="WORD-WRAP: break-word; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; PAGE-BREAK-INSIDE: avoid; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0.5em; TEXT-ALIGN: left; PADDING-TOP: 0.5em; FONT: 0.9em/18px 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; PADDING-LEFT: 1em; MARGIN: 0px 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; DISPLAY: block; LETTER-SPACING: normal; PADDING-RIGHT: 1em; BACKGROUND-COLOR: rgb(245,245,245); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; box-shadow: rgb(170, 170, 170) 0px 2px 5px inset; border-top-left-radius: 11px; border-top-right-radius: 11px; border-bottom-right-radius: 11px; border-bottom-left-radius: 11px; tab-size: 4"># echo 1024 &gt; /proc/sys/vm/min_free_kbytes</PRE>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">To 
make the change permanent, add the following line to the file<SPAN 
class=Apple-converted-space>&nbsp;</SPAN><CODE class=filename 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">/etc/sysctl.conf</CODE>:</DIV><PRE class=screen style="WORD-WRAP: break-word; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; PAGE-BREAK-INSIDE: avoid; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0.5em; TEXT-ALIGN: left; PADDING-TOP: 0.5em; FONT: 0.9em/18px 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; PADDING-LEFT: 1em; MARGIN: 0px 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; DISPLAY: block; LETTER-SPACING: normal; PADDING-RIGHT: 1em; BACKGROUND-COLOR: rgb(245,245,245); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; box-shadow: rgb(170, 170, 170) 0px 2px 5px inset; border-top-left-radius: 11px; border-top-right-radius: 11px; border-bottom-right-radius: 11px; border-bottom-left-radius: 11px; tab-size: 4"># echo vm.min_free_kbytes=1024 &gt;&gt; /etc/sysctl.conf</PRE>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">The<SPAN 
class=Apple-converted-space>&nbsp;</SPAN><CODE class=command 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">pagecache</CODE><SPAN 
class=Apple-converted-space>&nbsp;</SPAN>pages can be reclaimed by adjusting 
the<SPAN class=Apple-converted-space>&nbsp;</SPAN><EM class=parameter 
style="FONT-SIZE: 16px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent"><CODE 
style="WORD-WRAP: break-word; FONT-SIZE: 16px; BORDER-TOP: 0px; FONT-FAMILY: 'liberation mono', 'bitstream vera mono', 'dejavu mono', monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: pre-wrap; BORDER-BOTTOM: 0px; FONT-WEIGHT: bold; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; BORDER-LEFT: 0px; ORPHANS: 4 !important; WIDOWS: 4 !important; DISPLAY: inline; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">swappiness</CODE></EM><SPAN 
class=Apple-converted-space>&nbsp;</SPAN>percentage as described in the next 
section.</DIV>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">&nbsp;</DIV>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">CentOS 
6.X</DIV>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<DIV 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 14px 'lucida Grande', Verdana; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">设置: 
echo vm.min_free_kbytes=20480000 &gt;&gt; /etc/sysctl.conf</DIV>
<DIV 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 14px 'lucida Grande', Verdana; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">查看: 
#cat /proc/sys/vm/min_free_kbytes</DIV></DIV>
<DIV class=para 
style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; FONT: 16px/18px 'liberation sans', 'Myriad ', 'Bitstream Vera Sans', 'Lucida Grande', 'Luxi Sans', 'Trebuchet MS', helvetica, verdana, arial, sans-serif; PADDING-LEFT: 0px; MARGIN: 0.3em 0px 1em; BORDER-LEFT: 0px; ORPHANS: 4; WIDOWS: 4; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">强制回收缓存脚本:
<DIV 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 14px 'lucida Grande', Verdana; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">cfree.sh</DIV>
<DIV 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 14px 'lucida Grande', Verdana; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<DIV>#! /bin/bash</DIV>
<DIV><BR></DIV>
<DIV>freeMem=`free -g | grep 'Mem' | awk '{print $4}'`</DIV>
<DIV>if [ $freeMem -lt 30 ];</DIV>
<DIV>then</DIV>
<DIV>&nbsp; echo "1Free mem:"${freeMem}"G"</DIV>
<DIV>&nbsp; sync</DIV>
<DIV>&nbsp; echo 3 &gt; /proc/sys/vm/drop_caches</DIV>
<DIV>&nbsp; echo "2Free mem:"${freeMem}"G"</DIV>
<DIV>fi</DIV>
<DIV>&nbsp;</DIV></DIV></DIV></body>
</html>
