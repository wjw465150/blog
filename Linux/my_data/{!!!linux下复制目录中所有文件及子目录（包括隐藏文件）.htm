<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>{!!!(cp命令正解)linux下复制目录中所有文件及子目录（包括隐藏文件）</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: 宋体, Arial, Helvetica, sans-serif;
	font-size: 10pt;
}
</style>

</head>

<body>
<P><STRONG>(cp命令正解)linux下复制目录中所有文件及子目录（包括隐藏文件）</STRONG>   </P>
<P>正解：<BR>cp -ri /opt/a/. /opt/b</P>
<P>误区一：<BR>cp -r /opt/a/.* /opt/b<BR>.* 包括了所有的文件和目录，但是也把 . 和.. 
这两个包括在内，所以会递归复制，父目录的所有文件。</P>
<P>误区二：<BR>cp -r /opt/a /opt/b<BR>分两种情况讨论<BR>&nbsp; 
如果/opt/b不存在,则创建。并且把/opt/a中所有的文件和子目录都复制到/opt/b中。相当于克隆了一个目录。<BR>&nbsp; 
如果/opt/b存在,将把/opt/a文件夹本身复制到/opt/b中，复制成功后，目录结构为/opt/b/a<BR></P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px"><STRONG 
style="FONT-WEIGHT: bold; TEXT-ALIGN: center">文件归档</STRONG></P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px">当我们去拷贝一个目录时，我们会用-r或者-R选项。但是我们也可以用-a选项来归档文件。这样会创建文件和目录的准确套录，如果有的话也可以包括符号链接。下面是示例：[译注：-a 
会保留原文件或目录的属性]</P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px"><STRONG 
style="FONT-WEIGHT: bold; TEXT-ALIGN: center">显示正在做什么</STRONG></P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px">默认情况下，当拷贝作业成功时，我们仅仅会再次看到命令提示符。如果你想了解在拷贝文件时都发生了什么，我们可以用&nbsp;-v&nbsp;选项。</P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px"><STRONG 
style="FONT-WEIGHT: bold; TEXT-ALIGN: center">当原文件较目标文件新时拷贝</STRONG></P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px">我们用&nbsp;-u选项来实现。下面是具体示例:</P><PRE style="OVERFLOW: auto; WIDTH: 591px; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 12px/28px 'Courier New', monospace; PADDING-LEFT: 0px; MARGIN: 0px 0px 1em; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(230,230,230); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><OL style="LIST-STYLE-TYPE: decimal; WORD-WRAP: break-word; BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; WORD-BREAK: normal; COLOR: rgb(92,92,92); PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px 55px; BORDER-LEFT: medium none; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(247,247,247)"><LI style="LIST-STYLE-TYPE: none; WORD-WRAP: break-word; BORDER-TOP: medium none; BORDER-RIGHT: medium none; BACKGROUND-IMAGE: url(http://images.51cto.com/images/art1105/images/0.gif); BACKGROUND-ATTACHMENT: scroll; BORDER-BOTTOM: medium none; WORD-BREAK: normal; BACKGROUND-POSITION: -498px -70px; COLOR: rgb(92,92,92); PADDING-BOTTOM: 0px !important; PADDING-TOP: 0px !important; PADDING-LEFT: 10px !important; MARGIN: 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 18px; PADDING-RIGHT: 3px !important; BACKGROUND-COLOR: transparent">$ cp -vu *.txt /home/pungki/office</LI></OL></PRE>
<P>&nbsp;</P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px"><STRONG 
style="FONT-WEIGHT: bold; TEXT-ALIGN: center">使用交互模式</STRONG></P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px">交互模式下会询问是否覆盖目标目录下的文件。使用&nbsp;-i&nbsp;选项，启用交互模式。</P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px"><STRONG 
style="FONT-WEIGHT: bold; TEXT-ALIGN: center">创建备份文件</STRONG></P>
<P 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 14px/28px 宋体; PADDING-LEFT: 0px; MARGIN: 10px 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(248,248,248); TEXT-INDENT: 28px; -webkit-text-stroke-width: 0px">当目标目录已经含有同名文件，默认情况下 
cp 命令会覆盖目标目录下的同名文件。使用&nbsp;--backup&nbsp;选项，cp 命令会为每一个现有的目标文件做一个备份。../office 相对于 
/home/pungki/office 。下面是示例：</P><PRE style="OVERFLOW: auto; WIDTH: 591px; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 12px/28px 'Courier New', monospace; PADDING-LEFT: 0px; MARGIN: 0px 0px 1em; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(230,230,230); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><OL style="LIST-STYLE-TYPE: decimal; WORD-WRAP: break-word; BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; WORD-BREAK: normal; COLOR: rgb(92,92,92); PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px 55px; BORDER-LEFT: medium none; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(247,247,247)"><LI style="LIST-STYLE-TYPE: none; WORD-WRAP: break-word; BORDER-TOP: medium none; BORDER-RIGHT: medium none; BACKGROUND-IMAGE: url(http://images.51cto.com/images/art1105/images/0.gif); BACKGROUND-ATTACHMENT: scroll; BORDER-BOTTOM: medium none; WORD-BREAK: normal; BACKGROUND-POSITION: -498px -70px; COLOR: rgb(92,92,92); PADDING-BOTTOM: 0px !important; PADDING-TOP: 0px !important; PADDING-LEFT: 10px !important; MARGIN: 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 18px; PADDING-RIGHT: 3px !important; BACKGROUND-COLOR: transparent">$ cp --backup=simple -v *.txt ../office</LI></OL></PRE>
<P>&nbsp;</P>
<P>&nbsp;</P>   </body>
